2025-05-13 19:16:44,085 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:44,248 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:44,346 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:44,361 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:44,564 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:44,709 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:44,783 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:45,163 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:45,176 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:45,418 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:45,547 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:45,561 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:45,837 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:45,927 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:45,979 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:46,009 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:46,267 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:46,279 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:46,327 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:47,248 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:47,335 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:47,375 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:47,880 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:47,953 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:48,061 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:48,200 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:48,220 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:48,302 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:48,354 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:48,895 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:48,977 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:49,236 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:49,398 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:49,534 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:49,660 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:49,938 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:50,037 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:50,234 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:50,248 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:50,294 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:50,464 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:50,531 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:50,632 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:51,585 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:51,879 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:52,243 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:52,283 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:52,328 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:52,350 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:52,366 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:16:52,486 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:52,713 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:52,724 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:52,853 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:52,871 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:52,953 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:52,981 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:53,014 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:16:53,187 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:53,358 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:53,961 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:53,971 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:54,217 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:54,350 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:54,467 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:54,486 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:16:54,542 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:54,705 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:55,182 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:55,235 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:55,250 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:55,296 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:55,391 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:55,447 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:55,526 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:55,808 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:55,844 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:56,181 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:56,653 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:56,894 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:56,914 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:16:56,971 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:57,003 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:57,291 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:57,853 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:57,933 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:58,030 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:58,232 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:58,314 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:58,348 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:58,354 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:58,402 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:58,533 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:58,537 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:58,548 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:58,650 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:58,654 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:58,818 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:59,012 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:59,136 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:59,185 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:59,247 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:59,363 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:59,412 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:59,445 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:59,521 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:59,550 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:59,598 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:16:59,669 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:59,713 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:59,795 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:16:59,818 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:16:59,976 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:00,003 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:00,244 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:00,362 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:00,632 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:00,914 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:01,218 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:01,275 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:01,374 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:01,480 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:01,486 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:01,560 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:01,683 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:01,735 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:01,826 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:01,944 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:02,082 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:02,165 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:02,215 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:02,352 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:02,389 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:02,430 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:02,522 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:02,713 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:02,725 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:02,812 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:03,111 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:03,184 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:03,267 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:03,332 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:03,396 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:03,488 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:03,599 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:03,710 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:03,767 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:04,105 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:04,139 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:04,152 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:04,254 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:04,300 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:04,335 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:04,349 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:04,394 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:04,571 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:04,670 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:04,746 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:04,787 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:04,812 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:05,045 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:05,062 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:05,131 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:05,166 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:05,204 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:05,283 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:05,433 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:05,550 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:17:05,912 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:05,999 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:06,009 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:06,095 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:06,237 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:06,395 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:06,428 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:06,485 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:06,676 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:06,791 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:06,865 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:06,919 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:06,998 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:07,087 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:07,226 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:07,315 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:07,449 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:07,547 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:07,753 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:07,869 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:07,920 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:08,051 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:08,119 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:08,225 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:08,317 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:08,474 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:08,551 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:08,619 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:08,730 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:08,784 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:08,809 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:08,942 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:09,231 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:09,246 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:09,416 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:09,750 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:09,846 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:09,933 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:09,994 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:10,050 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:10,221 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:10,304 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:10,364 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:10,405 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:10,654 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:10,670 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:10,678 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:10,731 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:10,766 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:10,784 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:10,815 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:10,851 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:10,952 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:10,998 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:11,021 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:11,048 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:11,061 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:11,220 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:11,231 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:11,279 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:11,305 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:11,354 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:11,478 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:11,634 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:11,843 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:17:12,155 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:12,218 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:12,230 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:12,303 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:12,425 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:12,619 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:12,654 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:12,734 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:12,825 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:12,888 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:12,951 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:13,000 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:13,088 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:13,216 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:13,416 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:13,447 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:13,600 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:13,751 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:13,930 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:14,055 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:14,178 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:14,347 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:14,513 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:14,531 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:14,565 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:14,648 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:14,826 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:15,016 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:15,037 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:17:15,065 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:15,191 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:17:15,441 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:15,448 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:15,501 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:15,521 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:15,663 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:16,117 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:16,162 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:16,180 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:16,335 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:16,384 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:16,575 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:16,638 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:16,649 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:16,789 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:16,808 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:16,846 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:16,887 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 19:17:17,069 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:17,076 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:17,266 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:17,365 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:17,562 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:17,878 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 19:17:49,320 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 19:17:51,303 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 19:17:51,433 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 19:17:51,436 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 19:17:53,645 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 19:17:53,966 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:54,309 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:54,348 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:54,436 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:54,469 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:54,604 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:54,687 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:54,787 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:54,963 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:55,003 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:55,046 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:55,315 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:55,393 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:55,975 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:56,034 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:56,096 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:56,371 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:57,088 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:57,201 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:57,351 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:57,372 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:57,528 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:57,848 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:17:57,961 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 19:17:58,422 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:58,599 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 19:17:58,633 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 19:27:24,177 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 19:27:54,092 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 19:37:31,216 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 19:37:56,912 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 19:42:36,423 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 19:43:17,288 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 19:43:52,758 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 19:43:53,118 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 19:43:53,120 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 19:43:55,628 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 19:43:56,419 - ClawBackend - ERROR - [main_analysis_structure.py:290] - Market analysis error: cannot access free variable 'dz' where it is not associated with a value in enclosing scope
2025-05-13 19:43:56,440 - ClawBackend - ERROR - [main_analysis_structure.py:291] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 457, in _detect_patterns_with_windows
         zone_overlap = any((dz['bottom'] <= high) & (dz['top'] >= low)
                        ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    for high, low in zip(window_highs, window_lows))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 457, in <genexpr>
    zone_overlap = any((dz['bottom'] <= high) & (dz['top'] >= low)
                        ^^
NameError: cannot access free variable 'dz' where it is not associated with a value in enclosing scope

2025-05-13 19:43:56,463 - ClawBackend - ERROR - [main_analysis_structure.py:2380] - Internal server error during market analysis: cannot access free variable 'dz' where it is not associated with a value in enclosing scope
2025-05-13 19:43:56,496 - ClawBackend - ERROR - [main_analysis_structure.py:2383] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 2367, in analyze_market_data
    result = await self.analyzer.analyze_market(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 457, in _detect_patterns_with_windows
         zone_overlap = any((dz['bottom'] <= high) & (dz['top'] >= low)
                        ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    for high, low in zip(window_highs, window_lows))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 457, in <genexpr>
    zone_overlap = any((dz['bottom'] <= high) & (dz['top'] >= low)
                        ^^
NameError: cannot access free variable 'dz' where it is not associated with a value in enclosing scope

2025-05-13 19:46:29,119 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 19:46:29,291 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 19:46:29,292 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 19:46:32,278 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 19:46:32,907 - ClawBackend - ERROR - [main_analysis_structure.py:290] - Market analysis error: cannot access free variable 'dz' where it is not associated with a value in enclosing scope
2025-05-13 19:46:32,991 - ClawBackend - ERROR - [main_analysis_structure.py:291] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 457, in _detect_patterns_with_windows
    zone_overlap = any((dz['bottom'] <= high) & (dz['top'] >= low)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    
    
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 457, in <genexpr>
    zone_overlap = any((dz['bottom'] <= high) & (dz['top'] >= low)
                        ^^
NameError: cannot access free variable 'dz' where it is not associated with a value in enclosing scope

2025-05-13 19:46:32,997 - ClawBackend - ERROR - [main_analysis_structure.py:2380] - Internal server error during market analysis: cannot access free variable 'dz' where it is not associated with a value in enclosing scope
2025-05-13 19:46:33,004 - ClawBackend - ERROR - [main_analysis_structure.py:2383] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 2367, in analyze_market_data
    result = await self.analyzer.analyze_market(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 457, in _detect_patterns_with_windows
    zone_overlap = any((dz['bottom'] <= high) & (dz['top'] >= low)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    
    
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 457, in <genexpr>
    zone_overlap = any((dz['bottom'] <= high) & (dz['top'] >= low)
                        ^^
NameError: cannot access free variable 'dz' where it is not associated with a value in enclosing scope

2025-05-13 19:46:33,023 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 19:47:15,525 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 19:47:17,480 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 19:47:17,602 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 19:47:17,606 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 19:47:19,939 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 19:47:20,174 - ClawBackend - ERROR - [main_analysis_structure.py:290] - Market analysis error: cannot access local variable 'window_highs' where it is not associated with a value
2025-05-13 19:47:20,181 - ClawBackend - ERROR - [main_analysis_structure.py:291] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 458, in _detect_patterns_with_windows
    for high, low in zip(window_highs, window_lows):
                         ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'window_highs' where it is not associated with a value

2025-05-13 19:47:20,186 - ClawBackend - ERROR - [main_analysis_structure.py:2379] - Internal server error during market analysis: cannot access local variable 'window_highs' where it is not associated with a value
2025-05-13 19:47:20,192 - ClawBackend - ERROR - [main_analysis_structure.py:2382] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 2366, in analyze_market_data
    result = await self.analyzer.analyze_market(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 458, in _detect_patterns_with_windows
    for high, low in zip(window_highs, window_lows):
                         ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'window_highs' where it is not associated with a value

2025-05-13 19:48:37,200 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 19:48:37,363 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 19:48:37,365 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 19:48:40,334 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 19:48:40,531 - ClawBackend - ERROR - [main_analysis_structure.py:290] - Market analysis error: cannot access local variable 'window_highs' where it is not associated with a value
2025-05-13 19:48:40,739 - ClawBackend - ERROR - [main_analysis_structure.py:291] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 458, in _detect_patterns_with_windows
    for high, low in zip(window_highs, window_lows):
                         ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'window_highs' where it is not associated with a value

2025-05-13 19:48:40,741 - ClawBackend - ERROR - [main_analysis_structure.py:2379] - Internal server error during market analysis: cannot access local variable 'window_highs' where it is not associated with a value
2025-05-13 19:48:40,746 - ClawBackend - ERROR - [main_analysis_structure.py:2382] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 2366, in analyze_market_data
        self.analyzer = MarketAnalyzer(interval=interval)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        self,
        ^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 458, in _detect_patterns_with_windows
    for high, low in zip(window_highs, window_lows):
                         ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'window_highs' where it is not associated with a value

2025-05-13 19:48:40,764 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 19:48:56,764 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 19:49:16,815 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 19:49:16,916 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 19:49:16,917 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 19:49:19,122 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 19:49:19,272 - ClawBackend - ERROR - [main_analysis_structure.py:290] - Market analysis error: cannot access local variable 'window_highs' where it is not associated with a value
2025-05-13 19:49:19,280 - ClawBackend - ERROR - [main_analysis_structure.py:291] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 458, in _detect_patterns_with_windows
    for high, low in zip(window_highs, window_lows):
                         ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'window_highs' where it is not associated with a value

2025-05-13 19:49:19,283 - ClawBackend - ERROR - [main_analysis_structure.py:2391] - Internal server error during market analysis: cannot access local variable 'window_highs' where it is not associated with a value
2025-05-13 19:49:19,292 - ClawBackend - ERROR - [main_analysis_structure.py:2394] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 2378, in analyze_market_data
    result = await self.analyzer.analyze_market(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 458, in _detect_patterns_with_windows
    for high, low in zip(window_highs, window_lows):
                         ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'window_highs' where it is not associated with a value

2025-05-13 19:53:46,220 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 19:54:15,810 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 19:58:56,142 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 19:59:32,936 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 19:59:52,464 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 19:59:52,642 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 19:59:52,643 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 19:59:55,473 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 19:59:56,064 - ClawBackend - ERROR - [main_analysis_structure.py:290] - Market analysis error: cannot access local variable 'pattern_instance' where it is not associated with a value
2025-05-13 19:59:56,071 - ClawBackend - ERROR - [main_analysis_structure.py:291] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 530, in _detect_patterns_with_windows
    pattern_instance.volume_confirmation_at_zone = (
    ^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'pattern_instance' where it is not associated with a value

2025-05-13 19:59:56,072 - ClawBackend - ERROR - [main_analysis_structure.py:2395] - Internal server error during market analysis: cannot access local variable 'pattern_instance' where it is not associated with a value
2025-05-13 19:59:56,076 - ClawBackend - ERROR - [main_analysis_structure.py:2398] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 2382, in analyze_market_data
    result = await self.analyzer.analyze_market(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 530, in _detect_patterns_with_windows
    pattern_instance.volume_confirmation_at_zone = (
    ^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'pattern_instance' where it is not associated with a value

2025-05-13 20:01:23,665 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 20:01:23,815 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 20:01:23,816 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 20:01:26,616 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 20:01:26,713 - ClawBackend - ERROR - [main_analysis_structure.py:290] - Market analysis error: cannot access local variable 'pattern_instance' where it is not associated with a value
2025-05-13 20:01:26,769 - ClawBackend - ERROR - [main_analysis_structure.py:291] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 530, in _detect_patterns_with_windows
    volume_ratio > 1.2 and  # Whole pattern volume 20% above baseline
    ^^^^^^^^
UnboundLocalError: cannot access local variable 'pattern_instance' where it is not associated with a value

2025-05-13 20:01:26,770 - ClawBackend - ERROR - [main_analysis_structure.py:2395] - Internal server error during market analysis: cannot access local variable 'pattern_instance' where it is not associated with a value
2025-05-13 20:01:26,777 - ClawBackend - ERROR - [main_analysis_structure.py:2398] - Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 2382, in analyze_market_data
        ohlcv=ohlcv,
             ^^^^^^^
    ...<2 lines>...
    
    
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 267, in analyze_market
    detected_patterns = await self._detect_patterns_with_windows(df, patterns_to_detect=detect_patterns)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\ClawInc\Claw-Backend\src\core\use_cases\market_analysis\analysis_structure\main_analysis_structure.py", line 530, in _detect_patterns_with_windows
    volume_ratio > 1.2 and  # Whole pattern volume 20% above baseline
    ^^^^^^^^
UnboundLocalError: cannot access local variable 'pattern_instance' where it is not associated with a value

2025-05-13 20:01:26,892 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-13 20:02:00,235 - ClawBackend - INFO - [app.py:26] - Starting application...
2025-05-13 20:02:37,361 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 20:02:37,439 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 20:02:37,443 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 20:02:41,599 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 20:02:41,803 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,014 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:02:42,031 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,064 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,071 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,125 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,248 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,287 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,384 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,419 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:02:42,451 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:02:42,628 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:02:42,675 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,938 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:02:42,950 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:42,968 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,019 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,074 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,086 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:02:43,181 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:02:43,202 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,351 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:02:43,425 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,712 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,722 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,770 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,800 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,888 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,964 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:02:43,972 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:31,281 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 20:03:31,352 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 20:03:31,353 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1h), fetching from Binance
2025-05-13 20:03:34,266 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 20:03:34,314 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,416 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:03:34,431 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,456 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,465 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,486 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,513 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,529 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,592 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,602 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:03:34,617 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:03:34,706 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:03:34,731 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,908 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:03:34,918 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,932 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:34,986 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,018 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,027 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:03:35,096 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:03:35,121 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,214 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:03:35,230 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,415 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,426 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,466 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,487 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,542 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,599 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:03:35,613 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:13,210 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 20:12:13,350 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 20:12:13,350 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for BTCUSDT (1h), fetching from Binance
2025-05-13 20:12:16,441 - ClawBackend - INFO - [market_data.py:379] - Returning 168 records from Binance for page 1
2025-05-13 20:12:17,334 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,341 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,386 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,410 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,423 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,486 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,516 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,522 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,527 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:12:17,605 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,635 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,654 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,664 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,710 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:12:17,722 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:12:17,813 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,839 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,893 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:12:17,908 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,911 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,931 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:17,976 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,042 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,080 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,225 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,230 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,288 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:12:18,375 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,526 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:12:18,594 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,629 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,897 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:18,930 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,026 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,057 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,127 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,159 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,176 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,209 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:12:19,243 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,246 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,260 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:12:19,275 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:12:19,288 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:36:52,095 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-13 20:36:53,746 - ClawBackend - ERROR - [crypto_repository.py:69] - Supabase search error: [Errno 11001] getaddrinfo failed
2025-05-13 20:36:57,777 - ClawBackend - ERROR - [crypto_repository.py:162] - Error in bulk save to Supabase: [Errno 11001] getaddrinfo failed
2025-05-13 20:36:58,771 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BTC
2025-05-13 20:36:58,783 - ClawBackend - ERROR - [crypto_repository.py:69] - Supabase search error: [Errno 11001] getaddrinfo failed
2025-05-13 20:37:01,197 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BTCUSDT
2025-05-13 20:37:01,204 - ClawBackend - ERROR - [crypto_repository.py:69] - Supabase search error: [Errno 11001] getaddrinfo failed
2025-05-13 20:37:02,575 - ClawBackend - ERROR - [crypto_repository.py:162] - Error in bulk save to Supabase: [Errno 11001] getaddrinfo failed
2025-05-13 20:37:03,904 - ClawBackend - ERROR - [crypto_repository.py:162] - Error in bulk save to Supabase: [Errno 11001] getaddrinfo failed
2025-05-13 20:37:13,443 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 20:37:13,642 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 20:37:13,644 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for BTCUSDT (1m), fetching from Binance
2025-05-13 20:37:16,902 - ClawBackend - INFO - [market_data.py:379] - Returning 1000 records from Binance for page 1
2025-05-13 20:37:18,271 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:18,399 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:18,532 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:18,641 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:18,963 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:19,199 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:19,211 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:20,686 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:20,992 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:21,048 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:21,137 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:21,269 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:21,415 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:21,494 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:21,504 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:21,664 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:21,721 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:21,750 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:21,871 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:21,952 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:22,071 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:22,344 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:22,470 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:22,559 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:22,672 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:23,396 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:23,530 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:23,712 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:23,782 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:24,127 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:24,245 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:24,331 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:24,471 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:24,701 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:24,794 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:24,810 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:24,836 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:24,896 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:25,002 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,051 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:25,136 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,152 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,166 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,246 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,281 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,317 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,450 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,487 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,545 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,576 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,598 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,619 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,629 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,644 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,685 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,697 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,722 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,728 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:25,743 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:25,747 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,794 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:25,850 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:25,937 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:25,945 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:26,038 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:26,103 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:26,136 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:26,388 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:26,584 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:26,694 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:26,814 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:26,817 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:26,827 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:26,847 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:26,902 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:26,919 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:26,923 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:26,988 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:27,053 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:27,059 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:27,099 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:27,154 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:27,167 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:27,245 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:27,275 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:27,303 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:27,313 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:27,403 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:27,467 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:27,471 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:27,835 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:28,006 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:28,038 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:28,119 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:28,221 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:28,352 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:28,413 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:28,421 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:28,515 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:28,552 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:28,564 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:28,684 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:28,771 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:28,854 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:29,040 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:29,130 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:29,149 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:29,168 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:29,386 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:29,458 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:29,622 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:29,644 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:29,848 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:29,888 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:29,929 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:30,002 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:30,135 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:30,196 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:30,220 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:30,239 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:30,282 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:30,394 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:30,478 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:30,578 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:30,627 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:30,669 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:30,802 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:30,847 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:30,866 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:31,002 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:31,051 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:31,097 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:31,132 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:31,167 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:31,205 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:31,220 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:31,265 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:31,354 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:31,366 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:31,452 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:31,470 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:31,521 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:31,568 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:31,653 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:31,776 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:31,961 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:31,979 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:32,088 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:32,213 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:32,293 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:32,530 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:32,785 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:32,889 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:33,129 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:33,166 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:33,200 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:33,221 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:33,321 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:33,353 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:33,369 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:33,503 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:33,632 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:33,638 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:33,688 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:33,833 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:33,868 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:34,035 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:34,230 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:34,562 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:34,576 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:34,671 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:34,737 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:34,836 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:34,879 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:34,935 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:35,054 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:35,292 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:35,312 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:35,463 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:35,518 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:35,745 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:35,769 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:35,878 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:35,964 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:36,086 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:36,243 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:36,349 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:36,395 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:36,402 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:36,422 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:36,539 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:36,671 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:36,721 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:37,162 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:37,280 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:37,384 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:37,496 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:37,618 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:37,628 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:37,742 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:37,860 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:38,145 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:38,296 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:38,451 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:38,551 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:38,557 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:38,614 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:38,648 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:38,772 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:38,783 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:38,799 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:38,938 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:38,988 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:39,269 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:39,334 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:39,431 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:39,470 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:39,487 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:39,604 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:39,788 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:39,803 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:39,914 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:39,994 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:40,049 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:40,069 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:40,101 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:40,139 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:40,199 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:40,205 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:40,253 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:40,302 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:40,333 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:40,355 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:40,480 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:40,535 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:40,599 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:40,793 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:40,870 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:40,911 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:41,030 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:41,037 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,071 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,150 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:41,167 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,261 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,344 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,386 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,483 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,744 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,767 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,820 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:41,921 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:42,022 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:42,031 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:42,183 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:42,190 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:42,315 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:42,401 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:42,437 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected dragonfly_doji pattern
2025-05-13 20:37:42,535 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:42,745 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:42,954 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:43,050 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:43,167 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:43,234 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected standard_doji pattern
2025-05-13 20:37:43,546 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:43,588 - ClawBackend - INFO - [detect_patterns.py:2423] - Detected bullish_kicker kicker pattern
2025-05-13 20:37:43,636 - ClawBackend - INFO - [detect_patterns.py:1238] - Detected gravestone_doji pattern
2025-05-13 20:37:44,382 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 20:37:44,561 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-13 20:37:44,563 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for BTCUSDT (1m), fetching from Binance
2025-05-13 20:37:44,612 - ClawBackend - INFO - [market_data.py:241] - New WebSocket connection for BTCUSDT (1m)
2025-05-13 20:37:44,631 - ClawBackend - INFO - [market_data.py:241] - New WebSocket connection for BTCUSDT (1m)
2025-05-13 20:37:46,916 - ClawBackend - INFO - [market_data.py:369] - Initiating background task to get and save full historical data
2025-05-13 20:37:46,922 - ClawBackend - INFO - [market_data.py:379] - Returning 100 records from Binance for page 1
2025-05-13 20:37:46,963 - ClawBackend - INFO - [market_data.py:399] - Started background task to fetch full history for BTCUSDT (1m)
2025-05-13 20:37:47,005 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-13 20:37:50,412 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-13 10:17:00+00:00 (1000 total records saved)
2025-05-13 20:37:51,582 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-14 02:57:00+00:00 (2000 total records saved)
2025-05-13 20:37:52,777 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-14 19:37:00+00:00 (3000 total records saved)
2025-05-13 20:37:53,244 - ClawBackend - INFO - [market_data.py:338] - Client disconnected for BTCUSDT
2025-05-13 20:37:53,245 - ClawBackend - INFO - [market_data.py:343] - Closing connection for BTCUSDT
2025-05-13 20:37:53,246 - ClawBackend - INFO - [market_data.py:338] - Client disconnected for BTCUSDT
2025-05-13 20:37:53,247 - ClawBackend - INFO - [market_data.py:343] - Closing connection for BTCUSDT
2025-05-13 20:37:53,929 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-15 12:17:00+00:00 (4000 total records saved)
2025-05-13 20:37:55,040 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-16 04:57:00+00:00 (5000 total records saved)
2025-05-13 20:37:57,505 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-16 21:37:00+00:00 (6000 total records saved)
2025-05-13 20:37:58,732 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-17 14:17:00+00:00 (7000 total records saved)
2025-05-13 20:37:59,834 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-18 06:57:00+00:00 (8000 total records saved)
2025-05-13 20:38:00,929 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-18 23:37:00+00:00 (9000 total records saved)
2025-05-13 20:38:02,027 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-19 16:17:00+00:00 (10000 total records saved)
2025-05-13 20:38:03,167 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-20 08:57:00+00:00 (11000 total records saved)
2025-05-13 20:38:06,043 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-21 01:37:00+00:00 (12000 total records saved)
2025-05-13 20:38:07,133 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-21 18:17:00+00:00 (13000 total records saved)
2025-05-13 20:38:08,193 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-22 10:57:00+00:00 (14000 total records saved)
2025-05-13 20:38:09,264 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-23 03:37:00+00:00 (15000 total records saved)
2025-05-13 20:38:10,338 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-23 20:17:00+00:00 (16000 total records saved)
2025-05-13 20:38:12,805 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-24 12:57:00+00:00 (17000 total records saved)
2025-05-13 20:38:13,863 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-25 05:37:00+00:00 (18000 total records saved)
2025-05-13 20:38:14,987 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-25 22:17:00+00:00 (19000 total records saved)
2025-05-13 20:38:16,093 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-26 14:57:00+00:00 (20000 total records saved)
2025-05-13 20:38:17,317 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-27 07:37:00+00:00 (21000 total records saved)
2025-05-13 20:38:19,354 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 00:17:00+00:00 (22000 total records saved)
2025-05-13 20:38:20,532 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 16:57:00+00:00 (23000 total records saved)
2025-05-13 20:38:22,244 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 09:37:00+00:00 (24000 total records saved)
2025-05-13 20:38:23,351 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 02:17:00+00:00 (25000 total records saved)
2025-05-13 20:38:24,417 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 18:57:00+00:00 (26000 total records saved)
2025-05-13 20:38:25,646 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 11:37:00+00:00 (27000 total records saved)
2025-05-13 20:38:28,011 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-04 04:17:00+00:00 (28000 total records saved)
2025-05-13 20:38:29,122 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-04 20:57:00+00:00 (29000 total records saved)
2025-05-13 20:38:30,231 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-05 13:37:00+00:00 (30000 total records saved)
2025-05-13 20:38:31,305 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-06 06:17:00+00:00 (31000 total records saved)
2025-05-13 20:38:32,404 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-06 22:57:00+00:00 (32000 total records saved)
2025-05-13 20:38:33,532 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-07 15:37:00+00:00 (33000 total records saved)
2025-05-13 20:38:34,683 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-08 08:17:00+00:00 (34000 total records saved)
2025-05-13 20:38:35,788 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 00:57:00+00:00 (35000 total records saved)
2025-05-13 20:38:37,002 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 17:37:00+00:00 (36000 total records saved)
2025-05-13 20:38:38,237 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-10 10:17:00+00:00 (37000 total records saved)
2025-05-13 20:38:39,408 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-11 02:57:00+00:00 (38000 total records saved)
2025-05-13 20:38:41,803 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-11 19:37:00+00:00 (39000 total records saved)
2025-05-13 20:38:44,132 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-12 12:17:00+00:00 (40000 total records saved)
2025-05-13 20:38:45,225 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-13 04:57:00+00:00 (41000 total records saved)
2025-05-13 20:38:46,330 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-13 21:37:00+00:00 (42000 total records saved)
2025-05-13 20:38:47,469 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-14 14:17:00+00:00 (43000 total records saved)
2025-05-13 20:38:48,550 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-15 06:57:00+00:00 (44000 total records saved)
2025-05-13 20:38:49,949 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-15 23:37:00+00:00 (45000 total records saved)
2025-05-13 20:38:51,016 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-16 16:17:00+00:00 (46000 total records saved)
2025-05-13 20:38:52,242 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-17 08:57:00+00:00 (47000 total records saved)
2025-05-13 20:38:54,584 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-18 01:37:00+00:00 (48000 total records saved)
2025-05-13 20:38:55,678 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-18 18:17:00+00:00 (49000 total records saved)
2025-05-13 20:38:56,833 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-19 10:57:00+00:00 (50000 total records saved)
2025-05-13 20:38:57,916 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-20 03:37:00+00:00 (51000 total records saved)
2025-05-13 20:39:00,271 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-20 20:17:00+00:00 (52000 total records saved)
2025-05-13 20:39:01,360 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-21 12:57:00+00:00 (53000 total records saved)
2025-05-13 20:39:03,689 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-22 05:37:00+00:00 (54000 total records saved)
2025-05-13 20:39:06,108 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-22 22:17:00+00:00 (55000 total records saved)
2025-05-13 20:39:07,262 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-23 14:57:00+00:00 (56000 total records saved)
2025-05-13 20:39:08,469 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-24 07:37:00+00:00 (57000 total records saved)
2025-05-13 20:39:10,204 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 00:17:00+00:00 (58000 total records saved)
2025-05-13 20:39:11,341 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 16:57:00+00:00 (59000 total records saved)
2025-05-13 20:39:12,443 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-26 09:37:00+00:00 (60000 total records saved)
2025-05-13 20:39:14,812 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-27 02:17:00+00:00 (61000 total records saved)
2025-05-13 20:39:15,943 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-27 18:57:00+00:00 (62000 total records saved)
2025-05-13 20:39:17,033 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-28 11:37:00+00:00 (63000 total records saved)
2025-05-13 20:39:18,114 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-29 04:17:00+00:00 (64000 total records saved)
2025-05-13 20:39:19,205 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-29 20:57:00+00:00 (65000 total records saved)
2025-05-13 20:39:20,304 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-30 13:37:00+00:00 (66000 total records saved)
2025-05-13 20:39:21,516 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-31 06:17:00+00:00 (67000 total records saved)
2025-05-13 20:39:22,612 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-31 22:57:00+00:00 (68000 total records saved)
2025-05-13 20:39:23,707 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-01 15:37:00+00:00 (69000 total records saved)
2025-05-13 20:39:24,854 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-02 08:17:00+00:00 (70000 total records saved)
2025-05-13 20:39:25,960 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 00:57:00+00:00 (71000 total records saved)
2025-05-13 20:39:27,090 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 17:37:00+00:00 (72000 total records saved)
2025-05-13 20:39:28,246 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-04 10:17:00+00:00 (73000 total records saved)
2025-05-13 20:39:29,339 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-05 02:57:00+00:00 (74000 total records saved)
2025-05-13 20:39:30,443 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-05 19:37:00+00:00 (75000 total records saved)
2025-05-13 20:39:31,630 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-06 12:17:00+00:00 (76000 total records saved)
2025-05-13 20:39:32,721 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-07 04:57:00+00:00 (77000 total records saved)
2025-05-13 20:39:34,270 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-07 21:37:00+00:00 (78000 total records saved)
2025-05-13 20:39:35,403 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-08 14:17:00+00:00 (79000 total records saved)
2025-05-13 20:39:36,520 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-09 06:57:00+00:00 (80000 total records saved)
2025-05-13 20:39:37,656 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-09 23:37:00+00:00 (81000 total records saved)
2025-05-13 20:39:38,765 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-10 16:17:00+00:00 (82000 total records saved)
2025-05-13 20:39:39,882 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-11 08:57:00+00:00 (83000 total records saved)
2025-05-13 20:39:40,995 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-12 01:37:00+00:00 (84000 total records saved)
2025-05-13 20:39:42,191 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-12 18:17:00+00:00 (85000 total records saved)
2025-05-13 20:39:43,305 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-13 10:57:00+00:00 (86000 total records saved)
2025-05-13 20:39:45,757 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-14 03:37:00+00:00 (87000 total records saved)
2025-05-13 20:39:46,851 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-14 20:17:00+00:00 (88000 total records saved)
2025-05-13 20:39:48,103 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-15 12:57:00+00:00 (89000 total records saved)
2025-05-13 20:39:50,484 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-16 05:37:00+00:00 (90000 total records saved)
2025-05-13 20:39:51,627 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-16 22:17:00+00:00 (91000 total records saved)
2025-05-13 20:39:52,729 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-17 14:57:00+00:00 (92000 total records saved)
2025-05-13 20:39:53,826 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-18 07:37:00+00:00 (93000 total records saved)
2025-05-13 20:39:54,935 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 00:17:00+00:00 (94000 total records saved)
2025-05-13 20:39:57,314 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 16:57:00+00:00 (95000 total records saved)
2025-05-13 20:39:58,399 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-20 09:37:00+00:00 (96000 total records saved)
2025-05-13 20:39:59,609 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-21 02:17:00+00:00 (97000 total records saved)
2025-05-13 20:40:00,739 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-21 18:57:00+00:00 (98000 total records saved)
2025-05-13 20:40:01,943 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-22 11:37:00+00:00 (99000 total records saved)
2025-05-13 20:40:03,054 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-23 04:17:00+00:00 (100000 total records saved)
2025-05-13 20:40:04,187 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-23 20:57:00+00:00 (101000 total records saved)
2025-05-13 20:40:05,291 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-24 13:37:00+00:00 (102000 total records saved)
2025-05-13 20:40:06,523 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-25 06:17:00+00:00 (103000 total records saved)
2025-05-13 20:40:07,624 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-25 22:57:00+00:00 (104000 total records saved)
2025-05-13 20:40:08,737 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-26 15:37:00+00:00 (105000 total records saved)
2025-05-13 20:40:11,052 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-27 08:17:00+00:00 (106000 total records saved)
2025-05-13 20:40:12,270 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 00:57:00+00:00 (107000 total records saved)
2025-05-13 20:40:13,395 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 17:37:00+00:00 (108000 total records saved)
2025-05-13 20:40:14,488 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-29 10:17:00+00:00 (109000 total records saved)
2025-05-13 20:40:15,660 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-30 02:57:00+00:00 (110000 total records saved)
2025-05-13 20:40:17,013 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-30 19:37:00+00:00 (111000 total records saved)
2025-05-13 20:40:18,139 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-01 12:17:00+00:00 (112000 total records saved)
2025-05-13 20:40:19,253 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-02 04:57:00+00:00 (113000 total records saved)
2025-05-13 20:40:21,572 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-02 21:37:00+00:00 (114000 total records saved)
2025-05-13 20:40:22,665 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-03 14:17:00+00:00 (115000 total records saved)
2025-05-13 20:40:23,757 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-04 06:57:00+00:00 (116000 total records saved)
2025-05-13 20:40:24,849 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-04 23:37:00+00:00 (117000 total records saved)
2025-05-13 20:40:26,041 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-05 16:17:00+00:00 (118000 total records saved)
2025-05-13 20:40:27,163 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-06 08:57:00+00:00 (119000 total records saved)
2025-05-13 20:40:28,277 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-07 01:37:00+00:00 (120000 total records saved)
2025-05-13 20:40:29,997 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-07 18:17:00+00:00 (121000 total records saved)
2025-05-13 20:40:31,146 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-08 10:57:00+00:00 (122000 total records saved)
2025-05-13 20:40:32,303 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-09 03:37:00+00:00 (123000 total records saved)
2025-05-13 20:40:33,437 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-09 20:17:00+00:00 (124000 total records saved)
2025-05-13 20:40:34,589 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-10 12:57:00+00:00 (125000 total records saved)
2025-05-13 20:40:35,725 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-11 05:37:00+00:00 (126000 total records saved)
2025-05-13 20:40:36,829 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-11 22:17:00+00:00 (127000 total records saved)
2025-05-13 20:40:38,781 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-12 14:57:00+00:00 (128000 total records saved)
2025-05-13 20:40:41,101 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-13 07:37:00+00:00 (129000 total records saved)
2025-05-13 20:40:42,244 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 600 records. Progress: 2025-05-13 17:37:00+00:00 (129600 total records saved)
2025-05-13 20:40:43,138 - ClawBackend - INFO - [market_data.py:421] - No more data available from Binance for BTCUSDT (1m)
2025-05-13 20:40:43,398 - ClawBackend - INFO - [market_data.py:475] - Unregistered background task for BTCUSDT (1m)
2025-05-13 20:40:43,520 - ClawBackend - INFO - [app.py:36] - Shutting down application...
2025-05-15 03:17:26,259 - ClawBackend - INFO - [app.py:27] - Starting application...
2025-05-15 03:23:35,207 - ClawBackend - ERROR - [crypto_repository.py:78] - Error registering user dishutch@gmail.com: {}
2025-05-15 03:36:02,053 - ClawBackend - INFO - [crypto_repository.py:67] - Successfully registered user: dishutch@gmail.com
2025-05-15 03:47:42,858 - ClawBackend - ERROR - [crypto_repository.py:78] - Error registering user michael@gmail.com: Email address "michael@gmail.com" is invalid
2025-05-15 03:47:43,004 - ClawBackend - INFO - [app.py:37] - Shutting down application...
2025-05-15 03:48:27,914 - ClawBackend - INFO - [app.py:27] - Starting application...
2025-05-15 03:51:17,924 - ClawBackend - INFO - [app.py:37] - Shutting down application...
2025-05-15 03:51:56,068 - ClawBackend - INFO - [app.py:27] - Starting application...
2025-05-15 03:52:46,035 - ClawBackend - INFO - [app.py:37] - Shutting down application...
2025-05-15 03:52:51,645 - ClawBackend - INFO - [app.py:27] - Starting application...
2025-05-15 03:55:39,218 - ClawBackend - INFO - [crypto_repository.py:66] - Successfully registered user: MikeyGoolang@gmail.com
2025-05-15 03:55:39,280 - ClawBackend - INFO - [app.py:37] - Shutting down application...
2025-05-15 03:55:53,825 - ClawBackend - INFO - [app.py:27] - Starting application...
2025-05-15 03:58:49,543 - ClawBackend - ERROR - [crypto_repository.py:110] - Error logging in user MikeyGoolang@gmail.com: Email not confirmed
2025-05-15 04:00:29,815 - ClawBackend - INFO - [crypto_repository.py:67] - Successfully registered user: thecreatorjim@gmail.com
2025-05-15 04:05:58,586 - ClawBackend - INFO - [crypto_repository.py:67] - Successfully registered user: mappedvision@gmail.com
2025-05-15 04:15:05,695 - ClawBackend - INFO - [crypto_repository.py:67] - Successfully registered user: bamburitilapia@gmail.com
2025-05-15 04:15:05,931 - ClawBackend - INFO - [app.py:37] - Shutting down application...
2025-05-15 04:15:50,281 - ClawBackend - INFO - [app.py:27] - Starting application...
2025-05-15 04:17:59,033 - ClawBackend - ERROR - [crypto_repository.py:78] - Error registering user bamburitilapia@gmail.com: {'code': '23505', 'details': 'Key (id)=(6f60ad08-e8c0-4e0d-b345-afbf2132e6dc) already exists.', 'hint': None, 'message': 'duplicate key value violates unique constraint "users_pkey"'}
2025-05-15 04:18:34,197 - ClawBackend - INFO - [crypto_repository.py:67] - Successfully registered user: paywithwire@gmail.com
2025-05-15 04:20:25,124 - ClawBackend - ERROR - [crypto_repository.py:110] - Error logging in user MikeyGoolang@gmail.com: Email not confirmed
2025-05-15 04:25:01,041 - ClawBackend - INFO - [app.py:37] - Shutting down application...
2025-05-15 04:25:44,863 - ClawBackend - INFO - [app.py:27] - Starting application...
2025-05-15 04:30:07,245 - ClawBackend - INFO - [app.py:37] - Shutting down application...
2025-05-16 18:43:23,626 - ClawBackend - INFO - [app.py:27] - Starting application...
2025-05-16 18:51:37,957 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 18:54:15,858 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:00:36,979 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:06:13,162 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:07:39,709 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:15:09,182 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:15:58,948 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:19:11,226 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:22:33,292 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:26:00,245 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:44:43,282 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:45:09,889 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:45:44,292 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:45:56,934 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:46:17,436 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:47:19,835 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:54:36,786 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 19:55:40,037 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 20:00:56,316 - ClawBackend - INFO - [market_data.py:189] - Searching cryptos with query: BNB
2025-05-16 20:02:21,058 - ClawBackend - INFO - [app.py:37] - Shutting down application...
2025-05-18 01:36:51,242 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:36:51,242 - ClawBackend - ERROR - [app.py:39] - Failed to preload tickers: Missing required environment variable: STRIPE_API_KEY
2025-05-18 01:38:36,529 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:38:36,529 - ClawBackend - ERROR - [app.py:39] - Failed to preload tickers: Missing required environment variable: PRODUCTION_STRIPE_API_KEY
2025-05-18 01:39:01,764 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:39:01,765 - ClawBackend - ERROR - [app.py:39] - Failed to preload tickers: Missing required environment variable: PRODUCTION_STRIPE_API_KEY
2025-05-18 01:39:24,186 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:39:24,186 - ClawBackend - ERROR - [app.py:39] - Failed to preload tickers: Missing required environment variable: PRODUCTION_STRIPE_API_KEY
2025-05-18 01:39:34,652 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:39:34,653 - ClawBackend - ERROR - [app.py:39] - Failed to preload tickers: Missing required environment variable: PRODUCTION_STRIPE_API_KEY
2025-05-18 01:51:59,976 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:51:59,995 - ClawBackend - ERROR - [app.py:39] - Failed to preload tickers: Missing required environment variable: PRODUCTION_STRIPE_API_KEY
2025-05-18 01:53:16,872 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:55:22,497 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 01:55:40,136 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:57:45,690 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 01:57:57,856 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 01:58:16,875 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 01:58:30,991 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 02:01:08,056 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 02:02:01,262 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 02:02:03,280 - ClawBackend - ERROR - [prices.py:25] - Stripe API key is not set
2025-05-18 02:02:03,281 - ClawBackend - ERROR - [prices.py:73] - Error fetching prices: 500: Stripe API key is not set
2025-05-18 02:02:46,922 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 02:02:58,915 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 02:42:38,124 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 02:43:45,849 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 02:45:46,862 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 02:46:01,521 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 02:49:13,805 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 02:49:21,908 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:09:01,312 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:09:45,661 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:12:23,747 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:12:29,927 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:14:18,659 - ClawBackend - ERROR - [paid_plans.py:254] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: 'dict' object has no attribute 'exists'
2025-05-18 03:14:18,664 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:14:24,927 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:14:36,765 - ClawBackend - ERROR - [paid_plans.py:254] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: 'dict' object has no attribute 'exists'
2025-05-18 03:18:24,695 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:18:46,808 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:18:49,607 - ClawBackend - ERROR - [paid_plans.py:254] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 03:19:31,116 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:19:36,557 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:24:32,814 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:24:38,808 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:29:35,394 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:30:09,270 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:39:43,392 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:47:31,210 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:47:35,632 - ClawBackend - ERROR - [paid_plans.py:251] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 03:48:41,709 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:49:07,827 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:49:55,050 - ClawBackend - ERROR - [paid_plans.py:251] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 03:51:02,416 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:51:17,741 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:51:20,891 - ClawBackend - ERROR - [paid_plans.py:251] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 03:52:07,069 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:52:18,289 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:52:21,329 - ClawBackend - ERROR - [paid_plans.py:251] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 03:55:38,375 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:56:06,370 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:56:27,129 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 03:56:40,387 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 03:56:44,189 - ClawBackend - ERROR - [paid_plans.py:250] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 04:00:36,837 - ClawBackend - ERROR - [paid_plans.py:250] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 04:00:36,949 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:01:17,022 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:01:47,011 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:01:56,544 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:02:51,332 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:04:15,071 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:04:20,545 - ClawBackend - ERROR - [paid_plans.py:249] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 04:05:30,017 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:05:59,673 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:09:11,051 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:09:26,591 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:09:43,062 - ClawBackend - ERROR - [paid_plans.py:247] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: module 'common.logger' has no attribute 'error'
2025-05-18 04:11:41,560 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:12:15,161 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:13:17,948 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:13:30,579 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:13:33,965 - ClawBackend - ERROR - [repository.py:32] - Firebase error: 'dict' object has no attribute 'val'
2025-05-18 04:13:33,977 - ClawBackend - ERROR - [paid_plans.py:247] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: 500: Database access failed
2025-05-18 04:18:13,950 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:19:10,903 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:19:14,580 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:19:14,887 - ClawBackend - ERROR - [paid_plans.py:256] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: object dict can't be used in 'await' expression
2025-05-18 04:20:21,323 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:20:47,478 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:21:06,681 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:21:06,978 - ClawBackend - ERROR - [paid_plans.py:100] - Error determining plan type: No API key provided. (HINT: set your API key using "stripe.api_key = <API-KEY>"). You can generate API keys from the Stripe web interface.  See https://stripe.com/api for details, or email support@stripe.com if you have any questions.
2025-05-18 04:21:06,979 - ClawBackend - ERROR - [paid_plans.py:256] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: No API key provided. (HINT: set your API key using "stripe.api_key = <API-KEY>"). You can generate API keys from the Stripe web interface.  See https://stripe.com/api for details, or email support@stripe.com if you have any questions.
2025-05-18 04:23:49,860 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:24:13,483 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:24:17,034 - ClawBackend - ERROR - [repository.py:43] - Firebase error: object dict can't be used in 'await' expression
2025-05-18 04:24:41,044 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:24:53,666 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:24:57,073 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:25:00,483 - ClawBackend - ERROR - [paid_plans.py:100] - Error determining plan type: Request req_jhaUMLP1GYyK5g: No such price: 'test_drive'
2025-05-18 04:25:00,967 - ClawBackend - ERROR - [paid_plans.py:256] - Checkout error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: Request req_jMgQSRvNcKA7KV: No such price: 'test_drive'
2025-05-18 04:34:43,753 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:35:47,200 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:37:09,513 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:37:49,011 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:38:22,196 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:38:22,487 - ClawBackend - INFO - [paid_plans.py:196] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan test_drive (price_id: price_1RPtxqDIeiQ55dB6qarRb0ys)
2025-05-18 04:38:23,826 - ClawBackend - ERROR - [paid_plans.py:219] - Stripe error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: Request req_oqJaVC6OzacE6X: You must provide at least one recurring price in `subscription` mode when using prices.
2025-05-18 04:45:23,137 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:45:55,928 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:45:59,157 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:45:59,449 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan test_drive (price_id: price_1RPtxqDIeiQ55dB6qarRb0ys, mode: payment)
2025-05-18 04:46:01,660 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a1IEOiMDCxcPZ8cOqELCv6TnW1ri5mG7Y2OXxWFJ37d1wAPZLQJhP2UYpi for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 04:49:31,652 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:49:31,971 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan starter_weekly (price_id: price_1NZhV9D2eoZT3zp05RVryy7M, mode: subscription)
2025-05-18 04:49:32,963 - ClawBackend - ERROR - [paid_plans.py:241] - Stripe error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: Request req_oYf2u4Ooc6iVx4: No such price: 'price_1NZhV9D2eoZT3zp05RVryy7M'
2025-05-18 04:50:34,179 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 04:51:08,860 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 04:51:12,533 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:51:12,827 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan test_drive (price_id: price_1RPtxqDIeiQ55dB6qarRb0ys, mode: payment)
2025-05-18 04:51:14,337 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a1AQtdqkfT9Zi9SWtHkA58B8UF9xAaq6DlqKnZCeKFWSPocWOelXvFEJnm for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 04:53:52,599 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:53:52,885 - ClawBackend - WARNING - [paid_plans.py:158] - Unknown plan identifier: starter_week, defaulting to test_drive
2025-05-18 04:53:52,886 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan test_drive (price_id: price_1RPtxqDIeiQ55dB6qarRb0ys, mode: payment)
2025-05-18 04:53:53,823 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a18anl2aHBtkad4FY2rBha9KuAEsuGcpdu92tYhKgMuFXWuSPFlDVZI6l4 for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 04:54:22,452 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:54:22,757 - ClawBackend - WARNING - [paid_plans.py:158] - Unknown plan identifier: starter_week, defaulting to test_drive
2025-05-18 04:54:22,757 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan test_drive (price_id: price_1RPtxqDIeiQ55dB6qarRb0ys, mode: payment)
2025-05-18 04:54:23,313 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a1mdY8HaCd1UIlpj9BD7o1B8BWJYjSvydpI1g5dwx4HIxPafN4PdysiDUe for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 04:55:27,991 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 04:55:28,286 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan starter_weekly (price_id: price_1RPu2ZDIeiQ55dB6rpiPHkSu, mode: subscription)
2025-05-18 04:55:28,916 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a14Iyeb1x4kXukygVLf17YzIbIGo4n2hxWjLozVLJlk745pD3fRrK7eTs5 for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 04:59:44,213 - ClawBackend - ERROR - [paid_plans.py:296] - Webhook signature verification failed
2025-05-18 05:03:40,225 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 05:03:40,507 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan test_drive (price_id: price_1RPtxqDIeiQ55dB6qarRb0ys, mode: payment)
2025-05-18 05:03:41,722 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a1gM29g5hCu64AfcPhIZbMzI2EcbEuCoKSkW1EaERwpy4ZLgv97L6og3r1 for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:04:34,457 - ClawBackend - INFO - [paid_plans.py:310] - Processing webhook checkout.session.completed for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3, plan test_drive
2025-05-18 05:04:34,781 - ClawBackend - INFO - [repository.py:65] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:04:34,785 - ClawBackend - ERROR - [crypto_repository.py:60] - Supabase update error for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: 'test_drive'
2025-05-18 05:04:34,785 - ClawBackend - ERROR - [paid_plans.py:349] - Webhook processing error: 'test_drive'
2025-05-18 05:09:25,257 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 05:10:20,659 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:11:57,043 - ClawBackend - INFO - [repository.py:40] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 05:11:57,334 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan test_drive (price_id: price_1RPtxqDIeiQ55dB6qarRb0ys, mode: payment)
2025-05-18 05:11:58,901 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a14MksYZoKcxpIebxg4lsDngrYmlFr9q9OKvkXKKMfbiddb6NoeQX6HQfZ for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:12:54,802 - ClawBackend - INFO - [paid_plans.py:310] - Processing webhook checkout.session.completed for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3, plan test_drive
2025-05-18 05:12:55,115 - ClawBackend - INFO - [repository.py:65] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:12:57,920 - ClawBackend - INFO - [crypto_repository.py:57] - Supabase subscription updated for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: test_drive
2025-05-18 05:14:36,617 - ClawBackend - INFO - [repository.py:40] - User 9GNNj82rDKZrIgHfd39WVcZeJNf2 exists in Firebase
2025-05-18 05:14:36,904 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 9GNNj82rDKZrIgHfd39WVcZeJNf2 with plan starter_weekly (price_id: price_1RPu2ZDIeiQ55dB6rpiPHkSu, mode: subscription)
2025-05-18 05:14:38,369 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a1a8bysehDpC6V6OOmxd6bTgKwUmdIcjsqdvGYE1CXZqGaQtG4B5LEglfy for user 9GNNj82rDKZrIgHfd39WVcZeJNf2
2025-05-18 05:15:39,690 - ClawBackend - ERROR - [paid_plans.py:349] - Webhook processing error: 'builtin_function_or_method' object has no attribute 'data'
2025-05-18 05:19:35,971 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 05:20:36,861 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:20:43,973 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:20:55,108 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:24:50,309 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 05:25:12,504 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:25:15,892 - ClawBackend - INFO - [repository.py:40] - User 9GNNj82rDKZrIgHfd39WVcZeJNf2 exists in Firebase
2025-05-18 05:25:16,177 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 9GNNj82rDKZrIgHfd39WVcZeJNf2 with plan starter_weekly (price_id: price_1RPu2ZDIeiQ55dB6rpiPHkSu, mode: subscription)
2025-05-18 05:25:17,765 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a17PjmU1zhj5h1IxVHtRJqPrX8MxrjdDxbUj52OhirwGvZczQAi4KEunQ4 for user 9GNNj82rDKZrIgHfd39WVcZeJNf2
2025-05-18 05:26:31,104 - ClawBackend - INFO - [paid_plans.py:387] - Processing subscription update for user 9GNNj82rDKZrIgHfd39WVcZeJNf2, plan starter_weekly
2025-05-18 05:26:31,786 - ClawBackend - INFO - [repository.py:65] - Firebase updated for 9GNNj82rDKZrIgHfd39WVcZeJNf2
2025-05-18 05:26:33,877 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 9GNNj82rDKZrIgHfd39WVcZeJNf2: starter_weekly
2025-05-18 05:31:54,929 - ClawBackend - INFO - [repository.py:40] - User 9GNNj82rDKZrIgHfd39WVcZeJNf2 exists in Firebase
2025-05-18 05:31:55,229 - ClawBackend - INFO - [paid_plans.py:212] - Creating checkout for user 9GNNj82rDKZrIgHfd39WVcZeJNf2 with plan starter_weekly (price_id: price_1RPu2ZDIeiQ55dB6rpiPHkSu, mode: subscription)
2025-05-18 05:31:56,693 - ClawBackend - INFO - [paid_plans.py:237] - Created checkout session cs_test_a1jcOHumMSoz7zCjJJ2QSSZv8B84nmbjdBHAZqj1tO2Js0NboZvIkyJ5xw for user 9GNNj82rDKZrIgHfd39WVcZeJNf2
2025-05-18 05:31:56,799 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 05:32:52,959 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:39:49,818 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 05:40:46,829 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:40:51,212 - ClawBackend - INFO - [repository.py:46] - User 2fSWcNd8vGebRDflaz7QzoEcn7p2 exists in Firebase
2025-05-18 05:40:51,545 - ClawBackend - INFO - [paid_plans.py:217] - Creating checkout for user 2fSWcNd8vGebRDflaz7QzoEcn7p2 with plan starter_monthly (price_id: price_1RPu76DIeiQ55dB6S32S2sVP, mode: subscription)
2025-05-18 05:40:53,289 - ClawBackend - INFO - [paid_plans.py:242] - Created checkout session cs_test_a1smnJAgHbab719glzB1KB4aubBuByZvhpmpQIjX1Ftzc5VnH7KgKeUZVq for user 2fSWcNd8vGebRDflaz7QzoEcn7p2
2025-05-18 05:42:06,268 - ClawBackend - INFO - [repository.py:46] - User 2fSWcNd8vGebRDflaz7QzoEcn7p2 exists in Firebase
2025-05-18 05:42:06,551 - ClawBackend - INFO - [paid_plans.py:217] - Creating checkout for user 2fSWcNd8vGebRDflaz7QzoEcn7p2 with plan starter_monthly (price_id: price_1RPu76DIeiQ55dB6S32S2sVP, mode: subscription)
2025-05-18 05:42:07,236 - ClawBackend - INFO - [paid_plans.py:242] - Created checkout session cs_test_a1FNzuHKF4vCg1MmULQl3pSZ8ccZXwyY4iI1h1BKr9WhonTqyfQQVEE9Sg for user 2fSWcNd8vGebRDflaz7QzoEcn7p2
2025-05-18 05:43:07,010 - ClawBackend - INFO - [paid_plans.py:392] - Processing subscription update for user 2fSWcNd8vGebRDflaz7QzoEcn7p2, plan starter_monthly
2025-05-18 05:43:07,351 - ClawBackend - INFO - [repository.py:62] - Firebase updated for 2fSWcNd8vGebRDflaz7QzoEcn7p2
2025-05-18 05:43:10,044 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 2fSWcNd8vGebRDflaz7QzoEcn7p2: starter_monthly
2025-05-18 05:44:26,086 - ClawBackend - INFO - [repository.py:46] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-18 05:44:26,392 - ClawBackend - INFO - [paid_plans.py:217] - Creating checkout for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 with plan pro_monthly (price_id: price_1RPuBDDIeiQ55dB6deQ4BKqk, mode: subscription)
2025-05-18 05:44:27,854 - ClawBackend - INFO - [paid_plans.py:242] - Created checkout session cs_test_a15wqEmjlQ6HPyAPkxOOqsScOZen48kvcv4GfHUKB7arnjF9LHVzBaisNM for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:45:25,919 - ClawBackend - INFO - [paid_plans.py:392] - Processing subscription update for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3, plan pro_monthly
2025-05-18 05:45:26,220 - ClawBackend - INFO - [repository.py:62] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:45:28,264 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: pro_monthly
2025-05-18 05:46:34,909 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook checkout.session.completed for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3, plan test_drive
2025-05-18 05:46:35,226 - ClawBackend - INFO - [repository.py:62] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:46:36,994 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: test_drive
2025-05-18 05:50:04,306 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 05:51:08,949 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:53:33,776 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 05:53:53,929 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:53:56,654 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook checkout.session.completed for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3, plan test_drive
2025-05-18 05:53:58,018 - ClawBackend - INFO - [repository.py:62] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:53:59,374 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: test_drive
2025-05-18 05:55:18,149 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-18 05:55:23,422 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-18 05:57:26,927 - ClawBackend - INFO - [paid_plans.py:392] - Processing subscription update for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3, plan starter_weekly
2025-05-18 05:57:28,116 - ClawBackend - INFO - [repository.py:62] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-18 05:57:29,498 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: starter_weekly
2025-05-18 06:02:44,210 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 02:00:38,818 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 02:03:31,727 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:03:34,697 - ClawBackend - INFO - [paid_plans.py:250] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 02:04:06,847 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:04:08,695 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 02:04:10,556 - ClawBackend - ERROR - [paid_plans.py:326] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2: Request req_FqdTNOSqouy1d1: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 02:04:13,674 - ClawBackend - INFO - [paid_plans.py:470] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 02:04:13,954 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:04:16,682 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 02:05:13,921 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 02:09:35,218 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 02:15:24,229 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 02:16:16,643 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:16:18,065 - ClawBackend - INFO - [paid_plans.py:250] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 02:31:52,426 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 02:32:34,290 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 02:32:37,598 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:32:39,689 - ClawBackend - INFO - [paid_plans.py:250] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 02:32:52,252 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:32:53,636 - ClawBackend - INFO - [paid_plans.py:250] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 02:33:10,772 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:33:12,176 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 02:33:14,005 - ClawBackend - ERROR - [paid_plans.py:331] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2: Request req_HXWJxBLpycjHHC: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 02:33:14,483 - ClawBackend - INFO - [paid_plans.py:475] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 02:33:14,756 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:33:32,789 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 02:33:51,146 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 02:34:00,287 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:34:02,375 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 02:34:04,276 - ClawBackend - ERROR - [paid_plans.py:331] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2: Request req_O35IRPRXXs8Kkk: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 02:34:21,616 - ClawBackend - INFO - [paid_plans.py:475] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 02:34:21,887 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:34:23,972 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 02:35:03,798 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:35:05,181 - ClawBackend - INFO - [paid_plans.py:250] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 02:37:24,131 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 02:37:39,074 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 02:38:57,556 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:38:59,602 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 02:39:01,464 - ClawBackend - WARNING - [paid_plans.py:315] - Error checking invoice: payment_intent
2025-05-19 02:39:01,511 - ClawBackend - ERROR - [paid_plans.py:343] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
intent_type
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-05-19 02:39:01,942 - ClawBackend - INFO - [paid_plans.py:482] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 02:39:02,215 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:39:03,516 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 02:39:06,780 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:39:08,208 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-19 02:39:10,132 - ClawBackend - WARNING - [paid_plans.py:315] - Error checking invoice: payment_intent
2025-05-19 02:39:10,133 - ClawBackend - ERROR - [paid_plans.py:343] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
intent_type
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-05-19 02:39:10,570 - ClawBackend - INFO - [paid_plans.py:482] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 02:39:10,838 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:39:11,854 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_weekly
2025-05-19 02:39:14,720 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:39:16,144 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 02:39:17,964 - ClawBackend - WARNING - [paid_plans.py:315] - Error checking invoice: payment_intent
2025-05-19 02:39:17,966 - ClawBackend - ERROR - [paid_plans.py:343] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
intent_type
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-05-19 02:39:18,550 - ClawBackend - INFO - [paid_plans.py:482] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly
2025-05-19 02:39:18,835 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:39:19,824 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_weekly
2025-05-19 02:40:10,514 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:40:12,065 - ClawBackend - INFO - [paid_plans.py:250] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 02:44:20,047 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 02:44:55,446 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 02:45:36,256 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:45:38,365 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 02:45:39,815 - ClawBackend - ERROR - [paid_plans.py:347] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2: payment_intent
2025-05-19 02:45:40,727 - ClawBackend - INFO - [paid_plans.py:486] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 02:45:40,998 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:45:42,240 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 02:47:04,338 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 02:47:21,866 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 02:49:18,464 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:49:20,745 - ClawBackend - INFO - [paid_plans.py:297] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 02:49:22,203 - ClawBackend - ERROR - [paid_plans.py:333] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2: Request req_b18ZnTbzh5VCKp: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 02:49:22,205 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 02:49:40,806 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 02:49:42,987 - ClawBackend - INFO - [paid_plans.py:470] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 02:49:44,005 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:49:45,269 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 02:53:53,433 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 02:54:12,913 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 02:54:15,051 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 02:54:16,414 - ClawBackend - ERROR - [paid_plans.py:326] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2: Request req_NzJEuLaQB1QD96: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 02:54:17,519 - ClawBackend - INFO - [paid_plans.py:470] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 02:54:17,802 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 02:54:19,537 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 03:01:11,866 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:01:13,909 - ClawBackend - INFO - [paid_plans.py:277] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 03:01:15,530 - ClawBackend - ERROR - [paid_plans.py:326] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2: Request req_mmWS4S2ggsBnlj: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:01:15,534 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:01:49,334 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:02:07,134 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:02:09,188 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 03:02:10,726 - ClawBackend - WARNING - [paid_plans.py:281] - Failed to expand 'latest_invoice.payment_intent' for sub creation. Trying with 'pending_setup_intent' only. Error: Request req_GXxorzZVeuszI9: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:02:12,700 - ClawBackend - ERROR - [paid_plans.py:315] - Failed to retrieve invoice in_1RQH9lDIeiQ55dB6Vfuk9iNs for subscription sub_1RQH9lDIeiQ55dB6UmqrVVQ7: Request req_rEJSfpuyPz3kSF: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:02:12,701 - ClawBackend - ERROR - [paid_plans.py:360] - Could not obtain client_secret for subscription sub_1RQH9lDIeiQ55dB6UmqrVVQ7 for user kylOea42n4cZmGaY48cmSqYxRus2. Last resort.
2025-05-19 03:02:13,139 - ClawBackend - ERROR - [paid_plans.py:371] - Subscription sub_1RQH9lDIeiQ55dB6UmqrVVQ7 status: incomplete. Latest invoice status: open
2025-05-19 03:02:13,140 - ClawBackend - ERROR - [paid_plans.py:392] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): Failed to initialize subscription payment. Client secret not found.
2025-05-19 03:02:14,060 - ClawBackend - INFO - [paid_plans.py:536] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 03:02:14,345 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:02:16,110 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 03:02:16,112 - ClawBackend - INFO - [paid_plans.py:536] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 03:02:16,404 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:02:17,348 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 03:02:38,486 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:02:40,104 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-19 03:02:41,532 - ClawBackend - WARNING - [paid_plans.py:281] - Failed to expand 'latest_invoice.payment_intent' for sub creation. Trying with 'pending_setup_intent' only. Error: Request req_fyi0f1Vm1RVUrZ: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:02:43,434 - ClawBackend - ERROR - [paid_plans.py:315] - Failed to retrieve invoice in_1RQHAFDIeiQ55dB6rPg09UED for subscription sub_1RQHAFDIeiQ55dB64WoIPbhN: Request req_LM7StoURWVjH8P: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:02:43,470 - ClawBackend - ERROR - [paid_plans.py:360] - Could not obtain client_secret for subscription sub_1RQHAFDIeiQ55dB64WoIPbhN for user kylOea42n4cZmGaY48cmSqYxRus2. Last resort.
2025-05-19 03:02:43,908 - ClawBackend - ERROR - [paid_plans.py:371] - Subscription sub_1RQHAFDIeiQ55dB64WoIPbhN status: incomplete. Latest invoice status: open
2025-05-19 03:02:43,909 - ClawBackend - ERROR - [paid_plans.py:392] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu2ZDIeiQ55dB6rpiPHkSu): Failed to initialize subscription payment. Client secret not found.
2025-05-19 03:02:44,916 - ClawBackend - INFO - [paid_plans.py:536] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 03:02:45,210 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:02:46,229 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_weekly
2025-05-19 03:02:46,233 - ClawBackend - INFO - [paid_plans.py:536] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 03:02:46,524 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:02:47,460 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_weekly
2025-05-19 03:06:44,968 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:07:23,796 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:11:29,157 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:11:47,747 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:13:20,796 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:13:25,997 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:13:27,619 - ClawBackend - INFO - [paid_plans.py:117] - Default Firebase app not initialized. Initializing in get_firebase_repo.
2025-05-19 03:13:27,931 - ClawBackend - INFO - [paid_plans.py:122] - Default Firebase app initialized.
2025-05-19 03:13:59,980 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:14:31,278 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:14:33,310 - ClawBackend - INFO - [paid_plans.py:117] - Default Firebase app not initialized. Initializing in get_firebase_repo.
2025-05-19 03:14:33,399 - ClawBackend - INFO - [paid_plans.py:122] - Default Firebase app initialized.
2025-05-19 03:15:11,760 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:15:16,845 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:15:19,878 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:15:22,094 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 03:15:34,659 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:15:36,065 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 03:15:37,482 - ClawBackend - WARNING - [paid_plans.py:281] - Failed to expand 'latest_invoice.payment_intent' for sub creation. Trying with 'pending_setup_intent' only. Error: Request req_XlpsnHQJi6q1QB: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:15:38,851 - ClawBackend - INFO - [paid_plans.py:316] - Retrieving invoice object in_1RQHMlDIeiQ55dB6I9hdQQ3a for subscription sub_1RQHMlDIeiQ55dB6PYJQ97gJ
2025-05-19 03:15:39,312 - ClawBackend - ERROR - [paid_plans.py:377] - Could not obtain client_secret for subscription sub_1RQHMlDIeiQ55dB6PYJQ97gJ for user kylOea42n4cZmGaY48cmSqYxRus2. Last resort.
2025-05-19 03:15:39,755 - ClawBackend - ERROR - [paid_plans.py:388] - Subscription sub_1RQHMlDIeiQ55dB6PYJQ97gJ status: incomplete. Latest invoice status: open
2025-05-19 03:15:39,756 - ClawBackend - ERROR - [paid_plans.py:409] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu9CDIeiQ55dB6dGFWoQAC): Failed to initialize subscription payment. Client secret not found.
2025-05-19 03:15:40,707 - ClawBackend - INFO - [paid_plans.py:553] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly
2025-05-19 03:15:41,003 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:15:42,318 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_weekly
2025-05-19 03:15:42,322 - ClawBackend - INFO - [paid_plans.py:553] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly
2025-05-19 03:15:42,609 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:15:43,539 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_weekly
2025-05-19 03:15:48,519 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:15:49,936 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 03:15:51,321 - ClawBackend - WARNING - [paid_plans.py:281] - Failed to expand 'latest_invoice.payment_intent' for sub creation. Trying with 'pending_setup_intent' only. Error: Request req_WrpZ2gdrxpQm2K: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:15:52,609 - ClawBackend - INFO - [paid_plans.py:316] - Retrieving invoice object in_1RQHMzDIeiQ55dB66oBImpod for subscription sub_1RQHMzDIeiQ55dB6eNOxECLk
2025-05-19 03:15:53,049 - ClawBackend - ERROR - [paid_plans.py:377] - Could not obtain client_secret for subscription sub_1RQHMzDIeiQ55dB6eNOxECLk for user kylOea42n4cZmGaY48cmSqYxRus2. Last resort.
2025-05-19 03:15:53,479 - ClawBackend - ERROR - [paid_plans.py:388] - Subscription sub_1RQHMzDIeiQ55dB6eNOxECLk status: incomplete. Latest invoice status: open
2025-05-19 03:15:53,479 - ClawBackend - ERROR - [paid_plans.py:409] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Failed to initialize subscription payment. Client secret not found.
2025-05-19 03:15:54,429 - ClawBackend - INFO - [paid_plans.py:553] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 03:15:54,732 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:15:55,697 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 03:15:55,699 - ClawBackend - INFO - [paid_plans.py:553] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 03:15:56,018 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:15:56,952 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 03:16:13,118 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:16:51,625 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:16:53,743 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 03:16:55,209 - ClawBackend - WARNING - [paid_plans.py:281] - Failed to expand 'latest_invoice.payment_intent' for sub creation. Trying with 'pending_setup_intent' only. Error: Request req_uvlQmFWSNmK75V: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:16:56,526 - ClawBackend - INFO - [paid_plans.py:316] - Retrieving invoice object in_1RQHO1DIeiQ55dB6o4kQ819e for subscription sub_1RQHO1DIeiQ55dB63IzJAJ79
2025-05-19 03:16:56,957 - ClawBackend - ERROR - [paid_plans.py:377] - Could not obtain client_secret for subscription sub_1RQHO1DIeiQ55dB63IzJAJ79 for user kylOea42n4cZmGaY48cmSqYxRus2. Last resort.
2025-05-19 03:16:57,391 - ClawBackend - ERROR - [paid_plans.py:388] - Subscription sub_1RQHO1DIeiQ55dB63IzJAJ79 status: incomplete. Latest invoice status: open
2025-05-19 03:16:57,392 - ClawBackend - ERROR - [paid_plans.py:409] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): Failed to initialize subscription payment. Client secret not found.
2025-05-19 03:16:58,531 - ClawBackend - INFO - [paid_plans.py:553] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 03:16:58,815 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:16:59,852 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 03:16:59,860 - ClawBackend - INFO - [paid_plans.py:553] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 03:17:00,154 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:17:01,110 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 03:19:48,362 - ClawBackend - INFO - [paid_plans.py:553] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 03:19:48,928 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:19:50,307 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 03:29:28,844 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:30:19,412 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:30:22,797 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:30:24,961 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 03:30:25,662 - ClawBackend - ERROR - [paid_plans.py:307] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): 1 validation error for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 288, in initiate_payment_intent_or_subscription
    return NativeCheckoutResponseSchema(
        client_secret=checkout_session.client_secret,  # This will be used by the frontend
    ...<7 lines>...
        mode=mode
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py", line 243, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-05-19 03:30:44,585 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:30:45,984 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 03:34:37,340 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:34:57,536 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:37:38,423 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:37:40,974 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 03:37:41,794 - ClawBackend - ERROR - [paid_plans.py:307] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): 1 validation error for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 288, in initiate_payment_intent_or_subscription
                expand=["pending_setup_intent"], # MODIFIED EXPAND
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    # If any other StripeError occurs during creation, it will be caught by the outer try-except
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py", line 243, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-05-19 03:37:41,932 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:38:19,626 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:38:23,468 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:38:25,517 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 03:38:26,885 - ClawBackend - WARNING - [paid_plans.py:281] - Failed to expand 'latest_invoice.payment_intent' for sub creation. Trying with 'pending_setup_intent' only. Error: Request req_RBbmO7s6aaY9dB: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:38:28,193 - ClawBackend - INFO - [paid_plans.py:316] - Retrieving invoice object in_1RQHirDIeiQ55dB6dXfCfLBn for subscription sub_1RQHirDIeiQ55dB6pMPcFmHz
2025-05-19 03:38:28,624 - ClawBackend - ERROR - [paid_plans.py:377] - Could not obtain client_secret for subscription sub_1RQHirDIeiQ55dB6pMPcFmHz for user kylOea42n4cZmGaY48cmSqYxRus2. Last resort.
2025-05-19 03:38:29,072 - ClawBackend - ERROR - [paid_plans.py:388] - Subscription sub_1RQHirDIeiQ55dB6pMPcFmHz status: incomplete. Latest invoice status: open
2025-05-19 03:38:29,073 - ClawBackend - ERROR - [paid_plans.py:409] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Failed to initialize subscription payment. Client secret not found.
2025-05-19 03:38:30,159 - ClawBackend - INFO - [paid_plans.py:553] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 03:38:30,430 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:38:32,771 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 03:47:50,239 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:48:43,105 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:48:45,344 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 03:49:11,527 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:49:12,946 - ClawBackend - INFO - [paid_plans.py:265] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 03:49:14,320 - ClawBackend - WARNING - [paid_plans.py:285] - Failed to expand 'latest_invoice.payment_intent' for sub creation. Trying with no expansion. Error: Request req_pQLCWuLMXqL23R: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:49:16,171 - ClawBackend - ERROR - [paid_plans.py:420] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Request req_Y2LKNJ6igMCJH4: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:49:16,925 - ClawBackend - INFO - [paid_plans.py:568] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 03:49:17,207 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:49:18,980 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 03:49:18,989 - ClawBackend - INFO - [paid_plans.py:568] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 03:49:19,286 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:49:20,239 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 03:49:51,185 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:49:58,631 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:50:00,849 - ClawBackend - INFO - [paid_plans.py:265] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-19 03:50:02,435 - ClawBackend - WARNING - [paid_plans.py:285] - Failed to expand 'latest_invoice.payment_intent' for sub creation. Trying with no expansion. Error: Request req_TVKXKG9NS4lPwi: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:50:04,424 - ClawBackend - ERROR - [paid_plans.py:420] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu2ZDIeiQ55dB6rpiPHkSu): Request req_HDAYYGuzMAgEng: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 03:50:05,408 - ClawBackend - INFO - [paid_plans.py:568] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 03:50:05,696 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:50:06,734 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_weekly
2025-05-19 03:54:31,085 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 03:55:28,727 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 03:56:54,326 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 03:56:56,515 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-19 03:56:58,370 - ClawBackend - ERROR - [paid_plans.py:344] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu2ZDIeiQ55dB6rpiPHkSu): payment_intent
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'payment_intent'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 293, in initiate_payment_intent_or_subscription
    if invoice.payment_intent:
       ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: payment_intent
2025-05-19 03:56:58,877 - ClawBackend - INFO - [paid_plans.py:484] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 03:56:59,155 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 03:57:00,481 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_weekly
2025-05-19 04:01:15,351 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 04:01:53,719 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 04:02:19,488 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 04:02:35,241 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:02:37,431 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 04:02:38,853 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQI6FDIeiQ55dB6OJREqViR
2025-05-19 04:02:40,074 - ClawBackend - INFO - [paid_plans.py:467] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 04:02:40,363 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 04:02:42,111 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 04:03:03,441 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:03:04,876 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-19 04:03:06,375 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQI6hDIeiQ55dB6LnQPbdoX
2025-05-19 04:03:07,305 - ClawBackend - INFO - [paid_plans.py:467] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 04:03:07,578 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 04:03:08,503 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_weekly
2025-05-19 04:03:16,403 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:03:17,785 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 04:07:00,248 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:07:02,776 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 04:07:04,283 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQIAXDIeiQ55dB6WH4O0Cga
2025-05-19 04:07:07,772 - ClawBackend - INFO - [paid_plans.py:467] - Processing subscription update for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 04:07:08,068 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 04:07:09,502 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 04:08:01,969 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:08:03,547 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 04:11:00,197 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 04:11:41,041 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 04:17:42,705 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 04:18:42,165 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 04:18:47,574 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:18:50,032 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 04:19:33,833 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:19:35,374 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 04:19:36,831 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQIMfDIeiQ55dB63d5aUUrJ
2025-05-19 04:28:35,012 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 04:29:27,483 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 04:29:35,462 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:29:38,638 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 04:29:39,988 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQIWODIeiQ55dB62cIN5D4l
2025-05-19 04:29:40,994 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: payment_intent.created
2025-05-19 04:29:41,117 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: customer.subscription.created
2025-05-19 04:29:41,191 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: invoice.created
2025-05-19 04:29:41,243 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: invoice.finalized
2025-05-19 04:29:41,345 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: setup_intent.created
2025-05-19 04:29:48,187 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: setup_intent.succeeded
2025-05-19 04:29:48,188 - ClawBackend - INFO - [paid_plans.py:546] - Processing setup intent success for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 04:29:48,483 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 04:29:50,621 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 04:30:38,803 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:30:40,384 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 04:30:41,908 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: payment_intent.created
2025-05-19 04:30:48,686 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: charge.succeeded
2025-05-19 04:30:48,711 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: payment_intent.succeeded
2025-05-19 04:30:48,711 - ClawBackend - INFO - [paid_plans.py:378] - Processing successful one-time payment for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive
2025-05-19 04:30:48,980 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 04:30:51,265 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: test_drive
2025-05-19 04:30:51,738 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: charge.updated
2025-05-19 04:31:14,452 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:31:16,023 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 04:31:18,123 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: payment_intent.created
2025-05-19 04:39:25,989 - ClawBackend - INFO - [paid_plans.py:360] - Processing webhook event: customer.subscription.created
2025-05-19 04:42:06,189 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 04:42:15,480 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:42:18,112 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 04:42:19,575 - ClawBackend - ERROR - [paid_plans.py:297] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu9CDIeiQ55dB6dGFWoQAC): Request req_T5EOjA8ECfHVJR: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 04:42:20,559 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: payment_intent.created
2025-05-19 04:42:20,650 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: customer.subscription.created
2025-05-19 04:42:20,718 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: invoice.created
2025-05-19 04:42:20,754 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: invoice.finalized
2025-05-19 04:48:15,968 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: invoice.finalized
2025-05-19 04:48:16,222 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 04:49:29,595 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 04:49:59,935 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:50:02,470 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 04:50:03,986 - ClawBackend - ERROR - [paid_plans.py:280] - No pending SetupIntent found for subscription
2025-05-19 04:50:03,986 - ClawBackend - ERROR - [paid_plans.py:301] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): Payment setup failed
2025-05-19 04:50:04,926 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: payment_intent.created
2025-05-19 04:50:05,056 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: customer.subscription.created
2025-05-19 04:50:05,102 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: invoice.created
2025-05-19 04:50:05,180 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: invoice.finalized
2025-05-19 04:50:48,474 - ClawBackend - INFO - [paid_plans.py:340] - Processing webhook event: customer.subscription.created
2025-05-19 04:51:41,762 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 04:52:10,251 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 04:52:41,935 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 04:52:45,216 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 04:52:46,578 - ClawBackend - ERROR - [paid_plans.py:320] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): payment_intent
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'payment_intent'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 288, in initiate_payment_intent_or_subscription
    if subscription.latest_invoice and subscription.latest_invoice.payment_intent:
                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: payment_intent
2025-05-19 04:52:47,631 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: payment_intent.created
2025-05-19 04:52:47,760 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: invoice.created
2025-05-19 04:52:47,931 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: invoice.finalized
2025-05-19 04:53:53,196 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: checkout.session.expired
2025-05-19 04:54:21,801 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: checkout.session.expired
2025-05-19 04:55:52,459 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: payment_intent.created
2025-05-19 04:58:43,630 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:00:16,094 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:00:24,507 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:00:27,277 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 05:00:28,708 - ClawBackend - ERROR - [paid_plans.py:312] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Request req_bJ4VIVmqOErxuL: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 05:00:29,599 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: customer.subscription.created
2025-05-19 05:00:29,923 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: payment_intent.created
2025-05-19 05:00:29,955 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: invoice.created
2025-05-19 05:00:29,961 - ClawBackend - INFO - [paid_plans.py:355] - Processing webhook event: invoice.finalized
2025-05-19 05:04:30,669 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:05:25,332 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:09:27,527 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:10:17,713 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:11:33,389 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:11:37,485 - ClawBackend - INFO - [paid_plans.py:262] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 05:11:38,820 - ClawBackend - ERROR - [paid_plans.py:321] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): 'NoneType' object has no attribute 'client_secret'
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 294, in initiate_payment_intent_or_subscription
    client_secret=setup_intent.client_secret,
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'client_secret'
2025-05-19 05:11:38,903 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:11:48,846 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:11:51,348 - ClawBackend - INFO - [paid_plans.py:357] - Processing webhook event: customer.subscription.created
2025-05-19 05:11:51,436 - ClawBackend - INFO - [paid_plans.py:357] - Processing webhook event: invoice.created
2025-05-19 05:11:51,439 - ClawBackend - INFO - [paid_plans.py:357] - Processing webhook event: invoice.finalized
2025-05-19 05:11:51,440 - ClawBackend - INFO - [paid_plans.py:357] - Processing webhook event: payment_intent.created
2025-05-19 05:14:50,383 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:18:40,193 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:18:43,369 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 05:18:44,805 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJHtDIeiQ55dB6diqrzUcC
2025-05-19 05:18:45,967 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 05:18:46,084 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.created
2025-05-19 05:18:46,183 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 05:18:46,185 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.finalized
2025-05-19 05:18:46,240 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:22:29,218 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 05:24:57,310 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:25:00,100 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 05:25:01,430 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJNyDIeiQ55dB6CLWGrjt4
2025-05-19 05:25:04,548 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 05:25:04,998 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 05:25:05,554 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.finalized
2025-05-19 05:25:05,858 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:25:05,885 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.created
2025-05-19 05:25:11,243 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 05:25:11,245 - ClawBackend - INFO - [paid_plans.py:547] - Processing setup intent success for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 05:25:11,724 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 05:25:15,272 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 05:28:21,998 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:29:15,139 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:29:41,080 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:29:45,492 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 05:29:46,923 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJSZDIeiQ55dB6fCynUcvd
2025-05-19 05:29:47,339 - ClawBackend - ERROR - [paid_plans.py:320] - Failed to create SetupIntent: Request req_3acfKb1aPXt61w: Invalid value for `metadata`. Metadata must be a single object containing key-value pairs.  See the metadata documentation for more details: https://docs.stripe.com/api/metadata
2025-05-19 05:29:47,341 - ClawBackend - ERROR - [paid_plans.py:340] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): Failed to initialize subscription payment method. Please try again or contact support.
2025-05-19 05:29:49,314 - ClawBackend - INFO - [paid_plans.py:379] - Processing webhook event: payment_intent.created
2025-05-19 05:29:49,794 - ClawBackend - INFO - [paid_plans.py:379] - Processing webhook event: customer.subscription.created
2025-05-19 05:29:49,827 - ClawBackend - INFO - [paid_plans.py:379] - Processing webhook event: invoice.finalized
2025-05-19 05:29:50,478 - ClawBackend - INFO - [paid_plans.py:379] - Processing webhook event: invoice.created
2025-05-19 05:31:05,477 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:31:28,607 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:31:32,703 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:31:36,901 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 05:31:38,364 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJUNDIeiQ55dB6fd2rNQRB
2025-05-19 05:31:39,735 - ClawBackend - ERROR - [paid_plans.py:324] - Failed to create SetupIntent: 'NoneType' object has no attribute 'client_secret'
2025-05-19 05:31:39,742 - ClawBackend - ERROR - [paid_plans.py:344] - HTTPException for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): Failed to initialize subscription payment method. Please try again or contact support.
2025-05-19 05:31:40,833 - ClawBackend - INFO - [paid_plans.py:383] - Processing webhook event: invoice.finalized
2025-05-19 05:31:40,924 - ClawBackend - INFO - [paid_plans.py:383] - Processing webhook event: invoice.created
2025-05-19 05:31:40,979 - ClawBackend - INFO - [paid_plans.py:383] - Processing webhook event: payment_intent.created
2025-05-19 05:31:41,015 - ClawBackend - INFO - [paid_plans.py:383] - Processing webhook event: payment_intent.created
2025-05-19 05:31:41,060 - ClawBackend - INFO - [paid_plans.py:383] - Processing webhook event: customer.subscription.created
2025-05-19 05:31:41,259 - ClawBackend - INFO - [paid_plans.py:383] - Processing webhook event: customer.subscription.created
2025-05-19 05:31:41,372 - ClawBackend - INFO - [paid_plans.py:383] - Processing webhook event: invoice.created
2025-05-19 05:31:41,391 - ClawBackend - INFO - [paid_plans.py:383] - Processing webhook event: invoice.finalized
2025-05-19 05:32:17,955 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:32:27,646 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:32:30,867 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:32:33,837 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 05:32:35,182 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJVIDIeiQ55dB6knbqHj1q
2025-05-19 05:32:36,469 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.created
2025-05-19 05:32:36,477 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 05:32:36,594 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 05:32:36,605 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.finalized
2025-05-19 05:32:36,882 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:40:53,326 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: checkout.session.expired
2025-05-19 05:47:37,779 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:47:40,592 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 05:47:42,571 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJjvDIeiQ55dB6AvSs3y71
2025-05-19 05:47:44,633 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 05:47:44,652 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 05:47:49,775 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:48:58,414 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:49:03,537 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:49:06,519 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 05:49:08,245 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJlIDIeiQ55dB6tLtbvErq
2025-05-19 05:49:09,293 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 05:49:09,409 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 05:49:09,444 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.created
2025-05-19 05:49:09,513 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.finalized
2025-05-19 05:49:09,696 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:49:20,277 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 05:49:22,587 - ClawBackend - INFO - [paid_plans.py:490] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 05:49:24,851 - ClawBackend - INFO - [paid_plans.py:497] - Paid invoice in_1RQJlIDIeiQ55dB6WsbSfrQZ for subscription sub_1RQJlIDIeiQ55dB6tLtbvErq
2025-05-19 05:49:25,246 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 05:49:28,306 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.updated
2025-05-19 05:49:28,352 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:49:28,480 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 05:49:29,423 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.paid
2025-05-19 05:49:29,446 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.updated
2025-05-19 05:49:29,487 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: charge.succeeded
2025-05-19 05:49:29,495 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.updated
2025-05-19 05:49:29,499 - ClawBackend - INFO - [paid_plans.py:542] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly
2025-05-19 05:49:29,864 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 05:49:32,870 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_weekly
2025-05-19 05:49:32,876 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.succeeded
2025-05-19 05:49:32,877 - ClawBackend - WARNING - [paid_plans.py:383] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 05:49:58,282 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.upcoming
2025-05-19 05:52:48,497 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:53:25,955 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 05:53:39,720 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:53:41,973 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 05:53:43,341 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJpkDIeiQ55dB6eDByaW5P
2025-05-19 05:53:44,525 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 05:53:44,581 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 05:53:44,661 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.created
2025-05-19 05:53:44,695 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.finalized
2025-05-19 05:53:44,752 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:53:52,671 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 05:53:55,194 - ClawBackend - INFO - [paid_plans.py:490] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 05:53:56,926 - ClawBackend - INFO - [paid_plans.py:497] - Paid invoice in_1RQJpkDIeiQ55dB6uvpJxuCz for subscription sub_1RQJpkDIeiQ55dB6eDByaW5P
2025-05-19 05:53:57,241 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 05:53:58,560 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:53:58,845 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.updated
2025-05-19 05:53:59,235 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 05:53:59,249 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: charge.succeeded
2025-05-19 05:53:59,261 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.updated
2025-05-19 05:53:59,264 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.succeeded
2025-05-19 05:53:59,265 - ClawBackend - WARNING - [paid_plans.py:383] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 05:53:59,275 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.updated
2025-05-19 05:53:59,277 - ClawBackend - INFO - [paid_plans.py:542] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 05:53:59,749 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 05:54:02,178 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 05:54:02,180 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.payment_succeeded
2025-05-19 05:54:02,185 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.paid
2025-05-19 05:55:45,357 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 05:55:47,514 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 05:55:49,020 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJrlDIeiQ55dB62a41te0a
2025-05-19 05:55:49,927 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 05:55:50,014 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 05:55:50,064 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.created
2025-05-19 05:55:50,142 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.finalized
2025-05-19 05:55:50,253 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:56:05,175 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 05:56:07,807 - ClawBackend - INFO - [paid_plans.py:490] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 05:56:09,702 - ClawBackend - INFO - [paid_plans.py:497] - Paid invoice in_1RQJrlDIeiQ55dB6QdK7k9ZC for subscription sub_1RQJrlDIeiQ55dB62a41te0a
2025-05-19 05:56:09,992 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 05:56:10,765 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 05:56:10,857 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.updated
2025-05-19 05:56:10,866 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 05:56:10,948 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.succeeded
2025-05-19 05:56:10,952 - ClawBackend - WARNING - [paid_plans.py:383] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 05:56:11,057 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: charge.succeeded
2025-05-19 05:56:11,131 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.updated
2025-05-19 05:56:11,133 - ClawBackend - INFO - [paid_plans.py:542] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 05:56:11,413 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 05:56:12,920 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 05:56:12,924 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.updated
2025-05-19 05:56:12,927 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.payment_succeeded
2025-05-19 05:56:12,930 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.paid
2025-05-19 05:57:53,737 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 05:58:37,241 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 06:01:08,097 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 06:01:23,942 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:01:26,523 - ClawBackend - INFO - [paid_plans.py:238] - Creating PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 06:01:27,687 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 06:01:34,816 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.succeeded
2025-05-19 06:01:34,817 - ClawBackend - INFO - [paid_plans.py:379] - Processing successful one-time payment for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive
2025-05-19 06:01:35,101 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:01:36,956 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: test_drive
2025-05-19 06:01:36,959 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: charge.succeeded
2025-05-19 06:01:37,282 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: charge.updated
2025-05-19 06:01:45,176 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 06:02:17,786 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:02:19,965 - ClawBackend - INFO - [paid_plans.py:263] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 06:02:21,529 - ClawBackend - INFO - [paid_plans.py:285] - Creating SetupIntent for subscription sub_1RQJy6DIeiQ55dB6ezyMoY7T
2025-05-19 06:02:22,547 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.created
2025-05-19 06:02:22,641 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.created
2025-05-19 06:02:22,703 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.created
2025-05-19 06:02:22,708 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.finalized
2025-05-19 06:02:22,810 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 06:02:29,018 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:02:31,486 - ClawBackend - INFO - [paid_plans.py:490] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 06:02:33,675 - ClawBackend - INFO - [paid_plans.py:497] - Paid invoice in_1RQJy6DIeiQ55dB6yAnucn4h for subscription sub_1RQJy6DIeiQ55dB6ezyMoY7T
2025-05-19 06:02:33,955 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:02:34,758 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.created
2025-05-19 06:02:34,897 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:02:35,000 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.updated
2025-05-19 06:02:35,084 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: payment_intent.succeeded
2025-05-19 06:02:35,089 - ClawBackend - WARNING - [paid_plans.py:383] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 06:02:35,172 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: charge.succeeded
2025-05-19 06:02:35,193 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: customer.subscription.updated
2025-05-19 06:02:35,194 - ClawBackend - INFO - [paid_plans.py:542] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly
2025-05-19 06:02:35,642 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:02:36,930 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_weekly
2025-05-19 06:02:36,941 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.updated
2025-05-19 06:02:36,979 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.paid
2025-05-19 06:02:36,982 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.payment_succeeded
2025-05-19 06:03:22,740 - ClawBackend - INFO - [paid_plans.py:361] - Processing webhook event: invoice.upcoming
2025-05-19 06:10:26,451 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 06:11:09,736 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 06:12:32,123 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:12:35,510 - ClawBackend - INFO - [paid_plans.py:244] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 06:12:36,974 - ClawBackend - INFO - [paid_plans.py:262] - Creating SetupIntent for subscription sub_1RQK81DIeiQ55dB66zy0CjcM
2025-05-19 06:12:38,452 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.created
2025-05-19 06:12:38,457 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.created
2025-05-19 06:12:38,460 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: payment_intent.created
2025-05-19 06:12:38,498 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.created
2025-05-19 06:12:38,515 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.finalized
2025-05-19 06:14:10,805 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 06:14:42,942 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:14:45,586 - ClawBackend - INFO - [paid_plans.py:244] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 06:14:46,962 - ClawBackend - INFO - [paid_plans.py:262] - Creating SetupIntent for subscription sub_1RQKA7DIeiQ55dB6th7thhf2
2025-05-19 06:14:48,199 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.created
2025-05-19 06:14:48,203 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: payment_intent.created
2025-05-19 06:14:48,272 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.created
2025-05-19 06:14:48,335 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.finalized
2025-05-19 06:14:48,404 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.created
2025-05-19 06:14:54,620 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:14:57,088 - ClawBackend - INFO - [paid_plans.py:390] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 06:14:59,038 - ClawBackend - INFO - [paid_plans.py:393] - Paid invoice in_1RQKA7DIeiQ55dB6g7xPyI3z for subscription sub_1RQKA7DIeiQ55dB6th7thhf2
2025-05-19 06:14:59,330 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:15:01,005 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:15:01,022 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.created
2025-05-19 06:15:01,049 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.updated
2025-05-19 06:15:01,068 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: payment_intent.succeeded
2025-05-19 06:15:01,080 - ClawBackend - WARNING - [paid_plans.py:341] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 06:15:01,448 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.updated
2025-05-19 06:15:01,449 - ClawBackend - INFO - [paid_plans.py:410] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly
2025-05-19 06:15:01,773 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:15:03,706 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_weekly
2025-05-19 06:15:03,709 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: charge.succeeded
2025-05-19 06:15:03,712 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.updated
2025-05-19 06:15:03,714 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.paid
2025-05-19 06:15:03,719 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.payment_succeeded
2025-05-19 06:15:21,500 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.upcoming
2025-05-19 06:15:59,646 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:16:01,147 - ClawBackend - INFO - [paid_plans.py:244] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 06:16:02,651 - ClawBackend - INFO - [paid_plans.py:262] - Creating SetupIntent for subscription sub_1RQKBLDIeiQ55dB6rxMp9ldy
2025-05-19 06:16:03,738 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: payment_intent.created
2025-05-19 06:16:03,747 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.created
2025-05-19 06:16:03,750 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.created
2025-05-19 06:16:03,790 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.finalized
2025-05-19 06:16:04,128 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.created
2025-05-19 06:16:11,140 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:16:13,849 - ClawBackend - INFO - [paid_plans.py:390] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 06:16:16,015 - ClawBackend - INFO - [paid_plans.py:393] - Paid invoice in_1RQKBLDIeiQ55dB6WonOrWcw for subscription sub_1RQKBLDIeiQ55dB6rxMp9ldy
2025-05-19 06:16:16,320 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:16:17,128 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.updated
2025-05-19 06:16:17,140 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.created
2025-05-19 06:16:17,300 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:16:17,512 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: payment_intent.succeeded
2025-05-19 06:16:17,518 - ClawBackend - WARNING - [paid_plans.py:341] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 06:16:17,605 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: charge.succeeded
2025-05-19 06:16:17,609 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.updated
2025-05-19 06:16:17,612 - ClawBackend - INFO - [paid_plans.py:410] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 06:16:17,894 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:16:19,197 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 06:16:19,199 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.updated
2025-05-19 06:16:19,202 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.paid
2025-05-19 06:16:19,205 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.payment_succeeded
2025-05-19 06:17:35,645 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:17:39,049 - ClawBackend - INFO - [paid_plans.py:390] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 06:17:40,926 - ClawBackend - INFO - [paid_plans.py:393] - Paid invoice in_1RQJjvDIeiQ55dB60QXkwwKm for subscription sub_1RQJjvDIeiQ55dB6AvSs3y71
2025-05-19 06:17:41,652 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:17:42,536 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.updated
2025-05-19 06:17:42,581 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.created
2025-05-19 06:17:42,635 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.updated
2025-05-19 06:17:42,668 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:17:42,684 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: customer.subscription.updated
2025-05-19 06:17:42,685 - ClawBackend - INFO - [paid_plans.py:410] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly
2025-05-19 06:17:43,128 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:17:45,067 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_weekly
2025-05-19 06:17:45,070 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: payment_intent.succeeded
2025-05-19 06:17:45,071 - ClawBackend - WARNING - [paid_plans.py:341] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 06:17:45,073 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.payment_succeeded
2025-05-19 06:17:45,074 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.paid
2025-05-19 06:17:45,076 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: charge.succeeded
2025-05-19 06:17:54,336 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.upcoming
2025-05-19 06:18:15,444 - ClawBackend - INFO - [paid_plans.py:330] - Processing webhook event: invoice.created
2025-05-19 06:18:15,474 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 06:19:16,984 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 06:22:17,131 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 06:22:35,707 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 06:24:52,832 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:24:53,245 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 06:24:55,849 - ClawBackend - INFO - [paid_plans.py:248] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 06:24:57,338 - ClawBackend - INFO - [paid_plans.py:266] - Creating SetupIntent for subscription sub_1RQKJyDIeiQ55dB6LHtwoo2U
2025-05-19 06:24:58,219 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: payment_intent.created
2025-05-19 06:24:58,308 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: customer.subscription.created
2025-05-19 06:24:58,312 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: invoice.created
2025-05-19 06:24:58,352 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: invoice.finalized
2025-05-19 06:24:58,547 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: setup_intent.created
2025-05-19 06:25:29,493 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:25:31,973 - ClawBackend - INFO - [paid_plans.py:394] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 06:25:33,890 - ClawBackend - INFO - [paid_plans.py:397] - Paid invoice in_1RQKJyDIeiQ55dB6V7oDpb8b for subscription sub_1RQKJyDIeiQ55dB6LHtwoo2U
2025-05-19 06:25:34,172 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:25:34,727 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: setup_intent.created
2025-05-19 06:25:34,829 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: customer.subscription.updated
2025-05-19 06:25:34,847 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:25:34,956 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: payment_intent.succeeded
2025-05-19 06:25:34,957 - ClawBackend - WARNING - [paid_plans.py:345] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 06:25:35,023 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: customer.subscription.updated
2025-05-19 06:25:35,024 - ClawBackend - INFO - [paid_plans.py:414] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 06:25:35,484 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:25:37,463 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 06:25:37,468 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: charge.succeeded
2025-05-19 06:25:37,508 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: invoice.updated
2025-05-19 06:25:37,510 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: invoice.paid
2025-05-19 06:25:37,725 - ClawBackend - INFO - [paid_plans.py:334] - Processing webhook event: invoice.payment_succeeded
2025-05-19 06:27:19,837 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 06:28:44,619 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 06:28:56,694 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:28:56,976 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 06:28:56,977 - ClawBackend - ERROR - [paid_plans.py:307] - Error initiating payment for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): 'displayName'
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 187, in initiate_payment_intent_or_subscription
    name = user_details["displayName"]  # Name may be None if not found
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'displayName'
2025-05-19 06:29:33,240 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 06:30:52,242 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 06:30:59,288 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:30:59,571 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 06:30:59,571 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 06:31:02,206 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 06:31:03,819 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQKPsDIeiQ55dB6chE7dzob
2025-05-19 06:31:04,880 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.created
2025-05-19 06:31:04,932 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.created
2025-05-19 06:31:04,933 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.created
2025-05-19 06:31:04,935 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.finalized
2025-05-19 06:31:05,169 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.created
2025-05-19 06:31:24,204 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:31:26,466 - ClawBackend - INFO - [paid_plans.py:396] - Set payment method pm_1RQI7fDIeiQ55dB6ePI9vOhG for customer cus_SKw7h0qFMJZ6lr
2025-05-19 06:31:28,448 - ClawBackend - INFO - [paid_plans.py:399] - Paid invoice in_1RQKPsDIeiQ55dB6aZVY2JkA for subscription sub_1RQKPsDIeiQ55dB6chE7dzob
2025-05-19 06:31:28,738 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:31:29,467 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:31:29,561 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.created
2025-05-19 06:31:29,707 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:31:29,811 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.succeeded
2025-05-19 06:31:29,833 - ClawBackend - WARNING - [paid_plans.py:347] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 06:31:29,849 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: charge.succeeded
2025-05-19 06:31:29,854 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:31:29,857 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:31:29,883 - ClawBackend - INFO - [paid_plans.py:416] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 06:31:30,184 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:31:32,579 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 06:31:32,584 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.paid
2025-05-19 06:31:32,586 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.payment_succeeded
2025-05-19 06:38:06,733 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:38:06,832 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:07,638 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:09,117 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:38:13,570 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:38:13,570 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:14,004 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:15,824 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:38:21,963 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:38:21,963 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:22,296 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:23,636 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:38:28,657 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:38:28,658 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:29,008 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:30,207 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:38:36,338 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:38:36,339 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:36,630 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:37,833 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:38:57,757 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:38:57,758 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:58,053 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:38:59,295 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:39:06,218 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:39:06,219 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:39:06,483 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:39:07,623 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:39:19,899 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:39:19,900 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:39:20,535 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:39:21,666 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:39:39,943 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.deleted
2025-05-19 06:39:39,944 - ClawBackend - INFO - [paid_plans.py:429] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:39:40,223 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:39:41,251 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-19 06:40:20,501 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:21,130 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:21,165 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:21,290 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:21,637 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:21,760 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:22,189 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:22,686 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:22,688 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:22,692 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:22,706 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:22,727 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:23,139 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:23,159 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:23,537 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:23,539 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:23,552 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:23,565 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:23,582 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:23,595 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:24,496 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:24,512 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:24,544 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:24,554 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:24,580 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:24,617 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:24,881 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.deleted
2025-05-19 06:40:24,912 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:24,940 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:25,044 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:25,427 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:25,575 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:25,679 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:25,999 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:26,006 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:26,033 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:26,061 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:26,096 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:26,140 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:26,495 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:26,514 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:26,562 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:27,369 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:27,389 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:27,438 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:27,476 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:27,501 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:27,949 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:27,957 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:27,973 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:27,987 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:27,994 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:28,012 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:28,030 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:28,068 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:28,132 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:28,173 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:28,794 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:29,984 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:29,995 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,016 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:30,036 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,053 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:30,068 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,088 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,111 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:30,133 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:30,148 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:30,165 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,185 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,203 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:30,225 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,245 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:30,781 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,812 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:30,845 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:30,880 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:30,911 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:30,940 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:31,881 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:32,006 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:32,023 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:32,142 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:32,149 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:32,179 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:32,285 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:32,314 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:32,349 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:32,359 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:33,053 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:33,114 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:33,125 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:33,153 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:33,177 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:33,207 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:33,231 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:35,508 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:35,819 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:35,944 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:36,050 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:36,162 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:36,255 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:36,310 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:36,559 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:36,590 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:36,632 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:36,667 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:36,701 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:36,731 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:36,760 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:36,793 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:36,838 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:37,121 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:37,156 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:37,468 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:37,470 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:37,477 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:37,483 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:37,493 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:37,503 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:37,519 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:37,534 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:37,550 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:37,564 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:37,746 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:37,762 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:37,780 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:38,408 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:38,443 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:38,922 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:38,934 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:38,959 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:39,159 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:40,105 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:40,138 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:40,384 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:40,435 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:40,474 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:40,536 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:40,920 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:40,930 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:40,944 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:40,992 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:41,143 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:41,217 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:41,385 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:41,474 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:41,630 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:41,645 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:41,841 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:41,917 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:42,115 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:42,274 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:42,355 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:42,459 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:42,570 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:42,656 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:42,975 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:43,047 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:43,452 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:43,565 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:44,063 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:44,166 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:44,411 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:44,627 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:45,110 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:45,272 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:45,603 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:45,895 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:46,464 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:46,646 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:46,910 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:47,152 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:47,724 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:40:47,787 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.voided
2025-05-19 06:40:48,119 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.canceled
2025-05-19 06:40:48,777 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:40:49,258 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 06:40:49,259 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 06:40:51,627 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 06:40:53,243 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQKZNDIeiQ55dB6ykzROd3B
2025-05-19 06:40:53,761 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:40:54,850 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.created
2025-05-19 06:40:54,856 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.created
2025-05-19 06:40:54,862 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.updated
2025-05-19 06:40:54,873 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.created
2025-05-19 06:40:54,876 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.created
2025-05-19 06:40:54,922 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.finalized
2025-05-19 06:40:54,925 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.created
2025-05-19 06:41:51,310 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_method.attached
2025-05-19 06:47:01,512 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 06:47:01,878 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 06:47:01,880 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 06:47:03,810 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 06:47:05,440 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQKfODIeiQ55dB6vUpk1CrG
2025-05-19 06:47:07,423 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.created
2025-05-19 06:47:07,444 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.created
2025-05-19 06:47:07,453 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.finalized
2025-05-19 06:47:07,459 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.created
2025-05-19 06:47:07,461 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.created
2025-05-19 06:47:28,581 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:47:31,015 - ClawBackend - INFO - [paid_plans.py:396] - Set payment method pm_1RQKaJDIeiQ55dB6X3BbQS2T for customer cus_SL0aS6eZORS1pz
2025-05-19 06:47:32,941 - ClawBackend - INFO - [paid_plans.py:399] - Paid invoice in_1RQKfODIeiQ55dB6v0VRsQEM for subscription sub_1RQKfODIeiQ55dB6vUpk1CrG
2025-05-19 06:47:33,231 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:47:34,145 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:47:34,161 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.updated
2025-05-19 06:47:34,188 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.succeeded
2025-05-19 06:47:34,205 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.created
2025-05-19 06:47:34,332 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: payment_intent.succeeded
2025-05-19 06:47:34,336 - ClawBackend - WARNING - [paid_plans.py:347] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 06:47:34,618 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: charge.succeeded
2025-05-19 06:47:34,864 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.subscription.updated
2025-05-19 06:47:34,864 - ClawBackend - INFO - [paid_plans.py:416] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 06:47:35,156 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 06:47:36,940 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_monthly
2025-05-19 06:47:36,945 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.updated
2025-05-19 06:47:36,948 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.payment_succeeded
2025-05-19 06:47:36,952 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.paid
2025-05-19 06:47:44,994 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: setup_intent.created
2025-05-19 06:48:35,118 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: customer.updated
2025-05-19 06:48:58,950 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.payment_succeeded
2025-05-19 06:49:11,826 - ClawBackend - INFO - [paid_plans.py:336] - Processing webhook event: invoice.finalized
2025-05-19 07:05:12,873 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:06:02,868 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:08:44,202 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:09:04,141 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:09:04,429 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:09:04,430 - ClawBackend - INFO - [paid_plans.py:326] - User details: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:09:06,371 - ClawBackend - INFO - [paid_plans.py:387] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 07:09:07,912 - ClawBackend - ERROR - [paid_plans.py:423] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu2ZDIeiQ55dB6rpiPHkSu): Request req_pzgLfCudPwiXY1: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 07:09:08,627 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: customer.subscription.created
2025-05-19 07:09:08,903 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: payment_intent.created
2025-05-19 07:09:08,942 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: invoice.finalized
2025-05-19 07:09:08,944 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: invoice.created
2025-05-19 07:11:59,933 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: setup_intent.succeeded
2025-05-19 07:12:03,347 - ClawBackend - INFO - [paid_plans.py:518] - Set payment method pm_1RQKaJDIeiQ55dB6X3BbQS2T for customer cus_SL0aS6eZORS1pz
2025-05-19 07:12:05,577 - ClawBackend - INFO - [paid_plans.py:521] - Paid invoice in_1RQKZODIeiQ55dB6c13jjckA for subscription sub_1RQKZNDIeiQ55dB6ykzROd3B
2025-05-19 07:12:06,155 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 07:12:07,517 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: setup_intent.created
2025-05-19 07:12:07,527 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: customer.subscription.updated
2025-05-19 07:12:07,532 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: payment_intent.succeeded
2025-05-19 07:12:07,537 - ClawBackend - WARNING - [paid_plans.py:469] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 07:12:07,570 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: invoice.updated
2025-05-19 07:12:07,571 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: invoice.payment_succeeded
2025-05-19 07:12:07,575 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: setup_intent.succeeded
2025-05-19 07:12:07,629 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: charge.succeeded
2025-05-19 07:12:07,631 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: customer.subscription.updated
2025-05-19 07:12:07,631 - ClawBackend - INFO - [paid_plans.py:538] - Processing subscription status change to active for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 07:12:07,915 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 07:12:10,691 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: pro_monthly
2025-05-19 07:12:10,696 - ClawBackend - INFO - [paid_plans.py:458] - Processing webhook event: invoice.paid
2025-05-19 07:16:07,822 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:16:49,548 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:17:02,207 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:17:02,528 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:17:02,529 - ClawBackend - INFO - [paid_plans.py:326] - User details: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:17:05,410 - ClawBackend - INFO - [paid_plans.py:387] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 07:17:07,562 - ClawBackend - ERROR - [paid_plans.py:443] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Request req_KCGZaZ0jzAEkbu: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 07:17:08,107 - ClawBackend - INFO - [paid_plans.py:478] - Processing webhook event: customer.subscription.created
2025-05-19 07:17:08,112 - ClawBackend - INFO - [paid_plans.py:478] - Processing webhook event: invoice.finalized
2025-05-19 07:17:08,127 - ClawBackend - INFO - [paid_plans.py:478] - Processing webhook event: invoice.created
2025-05-19 07:17:08,130 - ClawBackend - INFO - [paid_plans.py:478] - Processing webhook event: payment_intent.created
2025-05-19 07:18:55,352 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:19:17,677 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:26:12,992 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:26:43,377 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:27:00,357 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:27:00,851 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:27:00,852 - ClawBackend - INFO - [paid_plans.py:326] - User details: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:27:02,732 - ClawBackend - INFO - [paid_plans.py:387] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 07:27:06,036 - ClawBackend - ERROR - [paid_plans.py:426] - Subscription not in incomplete status or no latest invoice: active
2025-05-19 07:27:06,556 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: charge.succeeded
2025-05-19 07:27:06,843 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: customer.subscription.created
2025-05-19 07:27:06,871 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: payment_intent.succeeded
2025-05-19 07:27:06,892 - ClawBackend - WARNING - [paid_plans.py:488] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 07:27:06,984 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: payment_intent.created
2025-05-19 07:27:07,041 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: invoice.created
2025-05-19 07:27:07,186 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: invoice.finalized
2025-05-19 07:27:07,313 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: invoice.payment_succeeded
2025-05-19 07:27:07,316 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: invoice.paid
2025-05-19 07:27:33,133 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:27:38,852 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:27:46,012 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:27:46,282 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:27:46,283 - ClawBackend - INFO - [paid_plans.py:326] - User details: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:27:48,610 - ClawBackend - INFO - [paid_plans.py:387] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 07:27:51,039 - ClawBackend - ERROR - [paid_plans.py:426] - Subscription not in incomplete status or no latest invoice: active
2025-05-19 07:27:51,792 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: charge.succeeded
2025-05-19 07:27:52,082 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: payment_intent.succeeded
2025-05-19 07:27:52,083 - ClawBackend - WARNING - [paid_plans.py:488] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 07:27:52,085 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: customer.subscription.created
2025-05-19 07:27:52,174 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: payment_intent.created
2025-05-19 07:27:52,263 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: invoice.created
2025-05-19 07:27:52,485 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: invoice.finalized
2025-05-19 07:27:52,490 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: invoice.paid
2025-05-19 07:27:52,516 - ClawBackend - INFO - [paid_plans.py:477] - Processing webhook event: invoice.payment_succeeded
2025-05-19 07:31:25,781 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:32:30,227 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:32:35,609 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:32:35,891 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:32:35,891 - ClawBackend - INFO - [paid_plans.py:326] - User details: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:32:37,879 - ClawBackend - INFO - [paid_plans.py:387] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 07:32:41,093 - ClawBackend - INFO - [paid_plans.py:433] - Subscription sub_1RQLNUDIeiQ55dB6wN7YeRXW is active, no payment required
2025-05-19 07:32:41,132 - ClawBackend - ERROR - [paid_plans.py:460] - Error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
intent_type
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 442, in initiate_payment_intent_or_subscription
    return NativeCheckoutResponseSchema(
        client_secret=client_secret_for_sdk,
    ...<7 lines>...
        mode=mode
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py", line 243, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
intent_type
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-05-19 07:32:41,866 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: charge.succeeded
2025-05-19 07:32:42,305 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: payment_intent.succeeded
2025-05-19 07:32:42,310 - ClawBackend - WARNING - [paid_plans.py:501] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 07:32:42,323 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: customer.subscription.created
2025-05-19 07:32:42,424 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: payment_intent.created
2025-05-19 07:32:42,468 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: invoice.created
2025-05-19 07:32:42,554 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: invoice.finalized
2025-05-19 07:32:42,693 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: invoice.paid
2025-05-19 07:32:42,774 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: invoice.payment_succeeded
2025-05-19 07:34:03,041 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:34:58,828 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:37:07,014 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:37:33,124 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:38:11,807 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:38:12,211 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:38:12,213 - ClawBackend - INFO - [paid_plans.py:326] - User details: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:38:14,175 - ClawBackend - INFO - [paid_plans.py:387] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 07:38:17,102 - ClawBackend - INFO - [paid_plans.py:426] - Subscription sub_1RQLSuDIeiQ55dB646eR2DoB is active, no payment required
2025-05-19 07:38:17,102 - ClawBackend - ERROR - [paid_plans.py:451] - Error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): cannot access local variable 'client_secret_for_sdk' where it is not associated with a value
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 434, in initiate_payment_intent_or_subscription
    client_secret=client_secret_for_sdk,
                  ^^^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'client_secret_for_sdk' where it is not associated with a value
2025-05-19 07:38:17,797 - ClawBackend - INFO - [paid_plans.py:481] - Processing webhook event: charge.succeeded
2025-05-19 07:38:17,984 - ClawBackend - INFO - [paid_plans.py:481] - Processing webhook event: customer.subscription.created
2025-05-19 07:38:18,043 - ClawBackend - INFO - [paid_plans.py:481] - Processing webhook event: payment_intent.succeeded
2025-05-19 07:38:18,080 - ClawBackend - WARNING - [paid_plans.py:492] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 07:38:18,124 - ClawBackend - INFO - [paid_plans.py:481] - Processing webhook event: payment_intent.created
2025-05-19 07:38:18,308 - ClawBackend - INFO - [paid_plans.py:481] - Processing webhook event: invoice.created
2025-05-19 07:38:18,410 - ClawBackend - INFO - [paid_plans.py:481] - Processing webhook event: invoice.finalized
2025-05-19 07:38:18,478 - ClawBackend - INFO - [paid_plans.py:481] - Processing webhook event: invoice.paid
2025-05-19 07:38:18,518 - ClawBackend - INFO - [paid_plans.py:481] - Processing webhook event: invoice.payment_succeeded
2025-05-19 07:39:09,336 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:39:28,358 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:40:44,812 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:40:45,099 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:40:45,100 - ClawBackend - INFO - [paid_plans.py:326] - User details: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:40:47,172 - ClawBackend - INFO - [paid_plans.py:387] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_monthly
2025-05-19 07:40:49,736 - ClawBackend - INFO - [paid_plans.py:429] - Subscription sub_1RQLVNDIeiQ55dB688jUojuV is active, no payment required
2025-05-19 07:40:49,736 - ClawBackend - ERROR - [paid_plans.py:454] - Error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPuBDDIeiQ55dB6deQ4BKqk): cannot access local variable 'payment_intent_id_for_sdk' where it is not associated with a value
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 442, in initiate_payment_intent_or_subscription
    payment_intent_id=payment_intent_id_for_sdk,
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'payment_intent_id_for_sdk' where it is not associated with a value
2025-05-19 07:40:50,523 - ClawBackend - INFO - [paid_plans.py:484] - Processing webhook event: charge.succeeded
2025-05-19 07:40:50,804 - ClawBackend - INFO - [paid_plans.py:484] - Processing webhook event: customer.subscription.created
2025-05-19 07:40:50,812 - ClawBackend - INFO - [paid_plans.py:484] - Processing webhook event: payment_intent.succeeded
2025-05-19 07:40:50,813 - ClawBackend - WARNING - [paid_plans.py:495] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 07:40:50,913 - ClawBackend - INFO - [paid_plans.py:484] - Processing webhook event: payment_intent.created
2025-05-19 07:40:50,975 - ClawBackend - INFO - [paid_plans.py:484] - Processing webhook event: invoice.created
2025-05-19 07:40:51,074 - ClawBackend - INFO - [paid_plans.py:484] - Processing webhook event: invoice.finalized
2025-05-19 07:40:51,238 - ClawBackend - INFO - [paid_plans.py:484] - Processing webhook event: invoice.payment_succeeded
2025-05-19 07:40:51,242 - ClawBackend - INFO - [paid_plans.py:484] - Processing webhook event: invoice.paid
2025-05-19 07:41:17,089 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:41:30,562 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:41:37,974 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:41:38,269 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:41:38,270 - ClawBackend - INFO - [paid_plans.py:326] - User details: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:41:40,536 - ClawBackend - INFO - [paid_plans.py:387] - Creating Subscription for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 07:41:43,474 - ClawBackend - INFO - [paid_plans.py:431] - Subscription sub_1RQLWEDIeiQ55dB6hr27YpWX is active, no payment required
2025-05-19 07:41:43,549 - ClawBackend - ERROR - [paid_plans.py:456] - Error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): 1 validation error for NativeCheckoutResponseSchema
intent_type
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 438, in initiate_payment_intent_or_subscription
    return NativeCheckoutResponseSchema(
        client_secret=client_secret_for_sdk,
    ...<7 lines>...
        mode=mode
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py", line 243, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for NativeCheckoutResponseSchema
intent_type
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-05-19 07:41:44,695 - ClawBackend - INFO - [paid_plans.py:486] - Processing webhook event: customer.subscription.created
2025-05-19 07:41:44,906 - ClawBackend - INFO - [paid_plans.py:486] - Processing webhook event: payment_intent.succeeded
2025-05-19 07:41:44,934 - ClawBackend - WARNING - [paid_plans.py:497] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 07:41:44,994 - ClawBackend - INFO - [paid_plans.py:486] - Processing webhook event: payment_intent.created
2025-05-19 07:41:45,021 - ClawBackend - INFO - [paid_plans.py:486] - Processing webhook event: charge.succeeded
2025-05-19 07:41:45,055 - ClawBackend - INFO - [paid_plans.py:486] - Processing webhook event: invoice.finalized
2025-05-19 07:41:45,058 - ClawBackend - INFO - [paid_plans.py:486] - Processing webhook event: invoice.created
2025-05-19 07:41:45,183 - ClawBackend - INFO - [paid_plans.py:486] - Processing webhook event: invoice.paid
2025-05-19 07:41:45,205 - ClawBackend - INFO - [paid_plans.py:486] - Processing webhook event: invoice.payment_succeeded
2025-05-19 07:46:20,517 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:47:24,974 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:51:40,106 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:52:38,605 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:52:47,962 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:52:48,245 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:52:48,246 - ClawBackend - INFO - [paid_plans.py:329] - Processing immediate payment for user: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:52:50,540 - ClawBackend - INFO - [paid_plans.py:396] - Creating Subscription with immediate payment for user kylOea42n4cZmGaY48cmSqYxRus2, plan pro_weekly
2025-05-19 07:52:52,085 - ClawBackend - ERROR - [paid_plans.py:429] - Stripe error for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu9CDIeiQ55dB6dGFWoQAC): Request req_otjsVXQ5GLMw7A: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 07:52:52,915 - ClawBackend - INFO - [paid_plans.py:464] - Processing webhook event: payment_intent.created
2025-05-19 07:52:53,110 - ClawBackend - INFO - [paid_plans.py:464] - Processing webhook event: invoice.created
2025-05-19 07:52:53,161 - ClawBackend - INFO - [paid_plans.py:464] - Processing webhook event: customer.subscription.created
2025-05-19 07:52:53,198 - ClawBackend - INFO - [paid_plans.py:464] - Processing webhook event: invoice.finalized
2025-05-19 07:54:59,374 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:55:39,468 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:55:47,062 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:55:47,334 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:55:47,336 - ClawBackend - INFO - [paid_plans.py:327] - Processing immediate payment for user: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:55:49,537 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription with immediate payment for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 07:55:51,410 - ClawBackend - ERROR - [paid_plans.py:439] - Error processing payment for user kylOea42n4cZmGaY48cmSqYxRus2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): payment_intent
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'payment_intent'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 414, in create_immediate_payment
    if not invoice.payment_intent:
           ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: payment_intent
2025-05-19 07:55:52,506 - ClawBackend - INFO - [paid_plans.py:468] - Processing webhook event: invoice.created
2025-05-19 07:55:52,517 - ClawBackend - INFO - [paid_plans.py:468] - Processing webhook event: customer.subscription.created
2025-05-19 07:55:52,533 - ClawBackend - INFO - [paid_plans.py:468] - Processing webhook event: invoice.finalized
2025-05-19 07:55:52,540 - ClawBackend - INFO - [paid_plans.py:468] - Processing webhook event: payment_intent.created
2025-05-19 07:57:44,076 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 07:58:08,110 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 07:58:27,675 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 07:58:27,950 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:58:27,951 - ClawBackend - INFO - [paid_plans.py:327] - Processing immediate payment for user: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 07:58:30,203 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription with immediate payment for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 07:58:32,150 - ClawBackend - INFO - [paid_plans.py:427] - Created PaymentIntent pi_3RQLmXDIeiQ55dB60FuocpCa for subscription sub_1RQLmWDIeiQ55dB68pwqhyy4
2025-05-19 07:58:33,160 - ClawBackend - INFO - [paid_plans.py:476] - Processing webhook event: payment_intent.created
2025-05-19 07:58:33,180 - ClawBackend - INFO - [paid_plans.py:476] - Processing webhook event: invoice.finalized
2025-05-19 07:58:33,207 - ClawBackend - INFO - [paid_plans.py:476] - Processing webhook event: customer.subscription.created
2025-05-19 07:58:33,226 - ClawBackend - INFO - [paid_plans.py:476] - Processing webhook event: invoice.created
2025-05-19 07:58:33,263 - ClawBackend - INFO - [paid_plans.py:476] - Processing webhook event: payment_intent.created
2025-05-19 07:58:54,423 - ClawBackend - INFO - [paid_plans.py:476] - Processing webhook event: payment_intent.succeeded
2025-05-19 07:58:54,454 - ClawBackend - INFO - [paid_plans.py:483] - Processing successful one-time payment for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_weekly
2025-05-19 07:58:54,777 - ClawBackend - INFO - [repository.py:62] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-19 07:58:57,137 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: starter_weekly
2025-05-19 07:58:57,145 - ClawBackend - INFO - [paid_plans.py:476] - Processing webhook event: charge.succeeded
2025-05-19 07:58:57,687 - ClawBackend - INFO - [paid_plans.py:476] - Processing webhook event: charge.updated
2025-05-19 08:04:55,714 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 08:06:18,333 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 08:06:44,796 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 08:06:45,212 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 08:06:45,214 - ClawBackend - INFO - [paid_plans.py:327] - Processing immediate payment for user: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 08:06:47,893 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription with immediate payment for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 08:06:49,395 - ClawBackend - ERROR - [paid_plans.py:440] - Failed to set up subscription payment: Could not determine which URL to request: Invoice instance has invalid ID: <Invoice invoice id=in_1RQLuYDIeiQ55dB6C1wflPVW at 0x1866b0a2710> JSON: {
  "account_country": "GB",
  "account_name": "Watchers Sandbox",
  "account_tax_ids": null,
  "amount_due": 1799,
  "amount_overpaid": 0,
  "amount_paid": 0,
  "amount_remaining": 1799,
  "amount_shipping": 0,
  "application": null,
  "attempt_count": 0,
  "attempted": false,
  "auto_advance": false,
  "automatic_tax": {
    "disabled_reason": null,
    "enabled": false,
    "liability": null,
    "provider": null,
    "status": null
  },
  "automatically_finalizes_at": null,
  "billing_reason": "subscription_create",
  "collection_method": "charge_automatically",
  "created": 1747631210,
  "currency": "gbp",
  "custom_fields": null,
  "customer": "cus_SL0aS6eZORS1pz",
  "customer_address": null,
  "customer_email": "everlynewire02@gmail.com",
  "customer_name": "Everlyne Wire",
  "customer_phone": null,
  "customer_shipping": null,
  "customer_tax_exempt": "none",
  "customer_tax_ids": [],
  "default_payment_method": null,
  "default_source": null,
  "default_tax_rates": [],
  "description": null,
  "discounts": [],
  "due_date": null,
  "effective_at": 1747631210,
  "ending_balance": 0,
  "footer": null,
  "from_invoice": null,
  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1RFutgDIeiQ55dB6/test_YWNjdF8xUkZ1dGdESWVpUTU1ZEI2LF9TTDF5QTBwYUhQZEVXNjZPbVc3azV2YzQ4VHZtN3A4LDEzODE3MjAxMQ0200JTDY8L6s?s=ap",
  "id": "in_1RQLuYDIeiQ55dB6C1wflPVW",
  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1RFutgDIeiQ55dB6/test_YWNjdF8xUkZ1dGdESWVpUTU1ZEI2LF9TTDF5QTBwYUhQZEVXNjZPbVc3azV2YzQ4VHZtN3A4LDEzODE3MjAxMQ0200JTDY8L6s/pdf?s=ap",
  "issuer": {
    "type": "self"
  },
  "last_finalization_error": null,
  "latest_revision": null,
  "lines": {
    "data": [
      {
        "amount": 1799,
        "currency": "gbp",
        "description": "1 \u00d7 Starter Monthly (at \u00a317.99 / month)",
        "discount_amounts": [],
        "discountable": true,
        "discounts": [],
        "id": "il_1RQLuYDIeiQ55dB6dpSVxmO5",
        "invoice": "in_1RQLuYDIeiQ55dB6C1wflPVW",
        "livemode": false,
        "metadata": {
          "plan_type": "starter_monthly",
          "price_id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "user_id": "kylOea42n4cZmGaY48cmSqYxRus2"
        },
        "object": "line_item",
        "parent": {
          "invoice_item_details": null,
          "subscription_item_details": {
            "invoice_item": null,
            "proration": false,
            "proration_details": {
              "credited_items": null
            },
            "subscription": "sub_1RQLuYDIeiQ55dB65ljlxibP",
            "subscription_item": "si_SL1yDfnxfZAJWW"
          },
          "type": "subscription_item_details"
        },
        "period": {
          "end": 1750309610,
          "start": 1747631210
        },
        "pretax_credit_amounts": [],
        "pricing": {
          "price_details": {
            "price": "price_1RPu76DIeiQ55dB6S32S2sVP",
            "product": "prod_SKZFxdUSg7IZCN"
          },
          "type": "price_details",
          "unit_amount_decimal": "1799"
        },
        "quantity": 1,
        "taxes": []
      }
    ],
    "has_more": false,
    "object": "list",
    "total_count": 1,
    "url": "/v1/invoices/in_1RQLuYDIeiQ55dB6C1wflPVW/lines"
  },
  "livemode": false,
  "metadata": {},
  "next_payment_attempt": null,
  "number": "E1301C7F-0073",
  "object": "invoice",
  "on_behalf_of": null,
  "parent": {
    "quote_details": null,
    "subscription_details": {
      "metadata": {
        "plan_type": "starter_monthly",
        "price_id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "user_id": "kylOea42n4cZmGaY48cmSqYxRus2"
      },
      "subscription": "sub_1RQLuYDIeiQ55dB65ljlxibP"
    },
    "type": "subscription_details"
  },
  "payment_settings": {
    "default_mandate": null,
    "payment_method_options": null,
    "payment_method_types": null
  },
  "period_end": 1747631210,
  "period_start": 1747631210,
  "post_payment_credit_notes_amount": 0,
  "pre_payment_credit_notes_amount": 0,
  "receipt_number": null,
  "rendering": null,
  "shipping_cost": null,
  "shipping_details": null,
  "starting_balance": 0,
  "statement_descriptor": null,
  "status": "open",
  "status_transitions": {
    "finalized_at": 1747631210,
    "marked_uncollectible_at": null,
    "paid_at": null,
    "voided_at": null
  },
  "subtotal": 1799,
  "subtotal_excluding_tax": 1799,
  "test_clock": null,
  "total": 1799,
  "total_discount_amounts": [],
  "total_excluding_tax": 1799,
  "total_pretax_credit_amounts": [],
  "total_taxes": [],
  "webhooks_delivered_at": null
}, <class 'stripe._invoice.Invoice'>. ID should be of type `str` (or `unicode`)
2025-05-19 08:06:49,463 - ClawBackend - INFO - [paid_plans.py:442] - Falling back to direct PaymentIntent for subscription sub_1RQLuYDIeiQ55dB65ljlxibP
2025-05-19 08:06:50,856 - ClawBackend - INFO - [paid_plans.py:505] - Processing webhook event: payment_intent.created
2025-05-19 08:06:50,865 - ClawBackend - INFO - [paid_plans.py:505] - Processing webhook event: invoice.created
2025-05-19 08:06:50,944 - ClawBackend - INFO - [paid_plans.py:505] - Processing webhook event: customer.subscription.created
2025-05-19 08:06:50,982 - ClawBackend - INFO - [paid_plans.py:505] - Processing webhook event: invoice.finalized
2025-05-19 08:06:51,012 - ClawBackend - INFO - [paid_plans.py:505] - Processing webhook event: payment_intent.created
2025-05-19 08:08:52,475 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 08:08:52,859 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 08:08:52,860 - ClawBackend - INFO - [paid_plans.py:327] - Processing immediate payment for user: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 08:08:55,256 - ClawBackend - INFO - [paid_plans.py:368] - Creating immediate PaymentIntent for user kylOea42n4cZmGaY48cmSqYxRus2, plan test_drive
2025-05-19 08:08:57,447 - ClawBackend - INFO - [paid_plans.py:505] - Processing webhook event: payment_intent.created
2025-05-19 08:09:57,362 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 08:10:41,388 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 08:10:51,683 - ClawBackend - INFO - [repository.py:46] - User kylOea42n4cZmGaY48cmSqYxRus2 exists in Firebase
2025-05-19 08:10:52,093 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 08:10:52,094 - ClawBackend - INFO - [paid_plans.py:327] - Processing immediate payment for user: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-19 08:10:54,613 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription with immediate payment for user kylOea42n4cZmGaY48cmSqYxRus2, plan starter_monthly
2025-05-19 08:10:56,091 - ClawBackend - INFO - [paid_plans.py:411] - Got invoice ID: in_1RQLyXDIeiQ55dB65W45e3t1 for subscription sub_1RQLyWDIeiQ55dB6tlwvSr6N
2025-05-19 08:10:56,613 - ClawBackend - ERROR - [paid_plans.py:452] - Failed to set up subscription payment: Request req_Yixtn3g4O6LOC0: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 08:10:56,614 - ClawBackend - INFO - [paid_plans.py:454] - Falling back to direct PaymentIntent
2025-05-19 08:10:57,816 - ClawBackend - INFO - [paid_plans.py:520] - Processing webhook event: customer.subscription.created
2025-05-19 08:10:57,977 - ClawBackend - INFO - [paid_plans.py:520] - Processing webhook event: invoice.created
2025-05-19 08:10:57,980 - ClawBackend - INFO - [paid_plans.py:520] - Processing webhook event: invoice.finalized
2025-05-19 08:10:57,987 - ClawBackend - INFO - [paid_plans.py:520] - Processing webhook event: payment_intent.created
2025-05-19 08:10:58,020 - ClawBackend - INFO - [paid_plans.py:520] - Processing webhook event: payment_intent.created
2025-05-19 08:12:55,764 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 08:13:14,614 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 08:31:07,152 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 08:31:29,486 - ClawBackend - INFO - [repository.py:46] - User 8bgHrh3Xt9SiJtbvsTOctG2CjrI3 exists in Firebase
2025-05-19 08:31:29,901 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-19 08:31:29,902 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-19 08:31:31,521 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 08:31:33,112 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQMIRDIeiQ55dB63WyA6AMr
2025-05-19 08:31:33,791 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_intent.created
2025-05-19 08:31:34,221 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.created
2025-05-19 08:31:34,284 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.created
2025-05-19 08:31:34,290 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.finalized
2025-05-19 08:31:34,458 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.created
2025-05-19 08:31:45,442 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.succeeded
2025-05-19 08:31:48,159 - ClawBackend - INFO - [paid_plans.py:402] - Set payment method pm_1RPxE4DIeiQ55dB61shBkxYk for customer cus_SKcTgBP70RSJlo
2025-05-19 08:31:50,070 - ClawBackend - INFO - [paid_plans.py:405] - Paid invoice in_1RQMIRDIeiQ55dB6HpDgMAAj for subscription sub_1RQMIRDIeiQ55dB63WyA6AMr
2025-05-19 08:31:50,642 - ClawBackend - INFO - [repository.py:62] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-19 08:31:51,362 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.updated
2025-05-19 08:31:51,404 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.updated
2025-05-19 08:31:51,495 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.succeeded
2025-05-19 08:31:51,643 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_intent.succeeded
2025-05-19 08:31:51,658 - ClawBackend - WARNING - [paid_plans.py:353] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 08:31:51,705 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.created
2025-05-19 08:31:51,781 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.updated
2025-05-19 08:31:51,846 - ClawBackend - INFO - [paid_plans.py:422] - Processing subscription status change to active for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3, plan starter_monthly
2025-05-19 08:31:52,301 - ClawBackend - INFO - [repository.py:62] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-19 08:31:54,780 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: starter_monthly
2025-05-19 08:31:54,781 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: charge.succeeded
2025-05-19 08:31:54,785 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.paid
2025-05-19 08:31:54,786 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.updated
2025-05-19 08:31:54,788 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.payment_succeeded
2025-05-19 08:34:31,343 - ClawBackend - INFO - [repository.py:46] - User Bm4GokxpSfdHsKCadvWT1QcGRRq2 exists in Firebase
2025-05-19 08:34:31,984 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-19 08:34:31,986 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-19 08:34:40,066 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user Bm4GokxpSfdHsKCadvWT1QcGRRq2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-19 08:34:42,965 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQMLVDIeiQ55dB6wzqA1ecL
2025-05-19 08:34:44,986 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.created
2025-05-19 08:34:45,549 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_intent.created
2025-05-19 08:34:45,553 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.finalized
2025-05-19 08:34:45,555 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.updated
2025-05-19 08:34:45,557 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.created
2025-05-19 08:34:45,558 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.created
2025-05-19 08:34:45,562 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.created
2025-05-19 08:55:57,768 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 08:56:42,381 - ClawBackend - INFO - [repository.py:46] - User Bm4GokxpSfdHsKCadvWT1QcGRRq2 exists in Firebase
2025-05-19 08:56:42,662 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-19 08:56:42,663 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-19 08:56:43,877 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user Bm4GokxpSfdHsKCadvWT1QcGRRq2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 08:56:45,402 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQMgqDIeiQ55dB64U1aYYEb
2025-05-19 08:56:46,450 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_intent.created
2025-05-19 08:56:46,672 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.created
2025-05-19 08:56:46,755 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.created
2025-05-19 08:56:46,803 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.finalized
2025-05-19 08:56:46,912 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.created
2025-05-19 08:57:29,302 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_method.attached
2025-05-19 08:57:29,455 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.succeeded
2025-05-19 08:57:31,671 - ClawBackend - INFO - [paid_plans.py:402] - Set payment method pm_1RQMhXDIeiQ55dB6VNngM2CJ for customer cus_SL2QjFjbnLFYyG
2025-05-19 08:57:33,596 - ClawBackend - INFO - [paid_plans.py:405] - Paid invoice in_1RQMgqDIeiQ55dB6lVCXliVl for subscription sub_1RQMgqDIeiQ55dB64U1aYYEb
2025-05-19 08:57:33,894 - ClawBackend - INFO - [repository.py:62] - Firebase updated for Bm4GokxpSfdHsKCadvWT1QcGRRq2
2025-05-19 08:57:34,776 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.created
2025-05-19 08:57:34,894 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.succeeded
2025-05-19 08:57:34,906 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.updated
2025-05-19 08:57:34,935 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.updated
2025-05-19 08:57:34,997 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_intent.succeeded
2025-05-19 08:57:35,000 - ClawBackend - WARNING - [paid_plans.py:353] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 08:57:35,286 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: charge.succeeded
2025-05-19 08:57:35,426 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.paid
2025-05-19 08:57:35,430 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.updated
2025-05-19 08:57:35,430 - ClawBackend - INFO - [paid_plans.py:422] - Processing subscription status change to active for user Bm4GokxpSfdHsKCadvWT1QcGRRq2, plan starter_monthly
2025-05-19 08:57:35,733 - ClawBackend - INFO - [repository.py:62] - Firebase updated for Bm4GokxpSfdHsKCadvWT1QcGRRq2
2025-05-19 08:57:37,845 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user Bm4GokxpSfdHsKCadvWT1QcGRRq2: starter_monthly
2025-05-19 08:57:37,849 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.payment_succeeded
2025-05-19 08:57:37,854 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.updated
2025-05-19 09:00:03,125 - ClawBackend - INFO - [repository.py:46] - User UOxs1bqmGmTyG2xOUEFI6XDb0gR2 exists in Firebase
2025-05-19 09:00:03,403 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-19 09:00:03,404 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=mowino121@gmail.com, name=Moses Owino
2025-05-19 09:00:05,081 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user UOxs1bqmGmTyG2xOUEFI6XDb0gR2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 09:00:06,537 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQMk5DIeiQ55dB69FMP4EHh
2025-05-19 09:00:07,396 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.created
2025-05-19 09:00:07,587 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_intent.created
2025-05-19 09:00:08,067 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.updated
2025-05-19 09:00:08,187 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.created
2025-05-19 09:00:08,217 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.created
2025-05-19 09:00:08,359 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.created
2025-05-19 09:00:08,362 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.finalized
2025-05-19 09:00:50,428 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_method.attached
2025-05-19 09:00:50,657 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.succeeded
2025-05-19 09:00:53,077 - ClawBackend - INFO - [paid_plans.py:402] - Set payment method pm_1RQMkmDIeiQ55dB6gesXx42F for customer cus_SL2pp3Js7HPC2v
2025-05-19 09:00:55,205 - ClawBackend - INFO - [paid_plans.py:405] - Paid invoice in_1RQMk5DIeiQ55dB6ZnSmMVYk for subscription sub_1RQMk5DIeiQ55dB69FMP4EHh
2025-05-19 09:00:55,523 - ClawBackend - INFO - [repository.py:62] - Firebase updated for UOxs1bqmGmTyG2xOUEFI6XDb0gR2
2025-05-19 09:00:56,507 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.updated
2025-05-19 09:00:56,513 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.succeeded
2025-05-19 09:00:56,524 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: setup_intent.created
2025-05-19 09:00:56,539 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.updated
2025-05-19 09:00:56,549 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: payment_intent.succeeded
2025-05-19 09:00:56,553 - ClawBackend - WARNING - [paid_plans.py:353] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 09:00:56,776 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: charge.succeeded
2025-05-19 09:00:56,821 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: customer.subscription.updated
2025-05-19 09:00:56,822 - ClawBackend - INFO - [paid_plans.py:422] - Processing subscription status change to active for user UOxs1bqmGmTyG2xOUEFI6XDb0gR2, plan pro_monthly
2025-05-19 09:00:57,137 - ClawBackend - INFO - [repository.py:62] - Firebase updated for UOxs1bqmGmTyG2xOUEFI6XDb0gR2
2025-05-19 09:00:58,686 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user UOxs1bqmGmTyG2xOUEFI6XDb0gR2: pro_monthly
2025-05-19 09:00:58,688 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.updated
2025-05-19 09:00:58,690 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.paid
2025-05-19 09:00:58,703 - ClawBackend - INFO - [paid_plans.py:342] - Processing webhook event: invoice.payment_succeeded
2025-05-19 09:05:38,129 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 09:06:39,361 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 09:17:51,223 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 09:27:01,184 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 09:27:53,668 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 09:35:49,965 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 09:36:49,371 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 11:51:01,636 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 11:52:14,176 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 15:53:37,242 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 15:54:39,303 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 15:56:32,231 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 15:57:22,643 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: ETHUSDT
2025-05-19 15:57:25,059 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: ETHUSDT
2025-05-19 15:57:34,610 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for ETHUSDT (1m)
2025-05-19 15:57:34,779 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for ETHUSDT (1m)
2025-05-19 15:57:36,433 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-19 15:57:36,939 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-19 15:57:36,940 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1m), fetching from Binance
2025-05-19 15:57:40,321 - ClawBackend - INFO - [market_data.py:369] - Initiating background task to get and save full historical data
2025-05-19 15:57:40,323 - ClawBackend - INFO - [market_data.py:379] - Returning 100 records from Binance for page 1
2025-05-19 15:57:40,351 - ClawBackend - INFO - [market_data.py:399] - Started background task to fetch full history for ETHUSDT (1m)
2025-05-19 15:57:40,369 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-19 15:57:44,458 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-19 05:37:00+00:00 (1000 total records saved)
2025-05-19 15:57:45,625 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-19 22:17:00+00:00 (2000 total records saved)
2025-05-19 15:57:46,694 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-20 14:57:00+00:00 (3000 total records saved)
2025-05-19 15:57:48,065 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-21 07:37:00+00:00 (4000 total records saved)
2025-05-19 15:57:49,508 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-22 00:17:00+00:00 (5000 total records saved)
2025-05-19 15:57:50,941 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-22 16:57:00+00:00 (6000 total records saved)
2025-05-19 15:57:52,039 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-23 09:37:00+00:00 (7000 total records saved)
2025-05-19 15:57:53,296 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-24 02:17:00+00:00 (8000 total records saved)
2025-05-19 15:57:54,386 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-24 18:57:00+00:00 (9000 total records saved)
2025-05-19 15:57:55,463 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-25 11:37:00+00:00 (10000 total records saved)
2025-05-19 15:57:56,554 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-26 04:17:00+00:00 (11000 total records saved)
2025-05-19 15:57:58,310 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-26 20:57:00+00:00 (12000 total records saved)
2025-05-19 15:58:00,001 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-27 13:37:00+00:00 (13000 total records saved)
2025-05-19 15:58:02,344 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 06:17:00+00:00 (14000 total records saved)
2025-05-19 15:58:03,464 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 22:57:00+00:00 (15000 total records saved)
2025-05-19 15:58:04,571 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 15:37:00+00:00 (16000 total records saved)
2025-05-19 15:58:07,460 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 08:17:00+00:00 (17000 total records saved)
2025-05-19 15:58:09,343 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 00:57:00+00:00 (18000 total records saved)
2025-05-19 15:58:09,477 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for ETHUSDT
2025-05-19 15:58:09,478 - ClawBackend - INFO - [market_data.py:341] - Closing connection for ETHUSDT
2025-05-19 15:58:10,441 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 17:37:00+00:00 (19000 total records saved)
2025-05-19 15:58:12,243 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-04 10:17:00+00:00 (20000 total records saved)
2025-05-19 15:58:13,291 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-05 02:57:00+00:00 (21000 total records saved)
2025-05-19 15:58:14,367 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-05 19:37:00+00:00 (22000 total records saved)
2025-05-19 15:58:15,475 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-06 12:17:00+00:00 (23000 total records saved)
2025-05-19 15:58:16,566 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-07 04:57:00+00:00 (24000 total records saved)
2025-05-19 15:58:17,717 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-07 21:37:00+00:00 (25000 total records saved)
2025-05-19 15:58:18,897 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-08 14:17:00+00:00 (26000 total records saved)
2025-05-19 15:58:20,049 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 06:57:00+00:00 (27000 total records saved)
2025-05-19 15:58:21,272 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 23:37:00+00:00 (28000 total records saved)
2025-05-19 15:58:22,669 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-10 16:17:00+00:00 (29000 total records saved)
2025-05-19 15:58:23,757 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-11 08:57:00+00:00 (30000 total records saved)
2025-05-19 15:58:25,011 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-12 01:37:00+00:00 (31000 total records saved)
2025-05-19 15:58:26,618 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-12 18:17:00+00:00 (32000 total records saved)
2025-05-19 15:58:27,718 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-13 10:57:00+00:00 (33000 total records saved)
2025-05-19 15:58:28,796 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-14 03:37:00+00:00 (34000 total records saved)
2025-05-19 15:58:30,027 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-14 20:17:00+00:00 (35000 total records saved)
2025-05-19 15:58:31,114 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-15 12:57:00+00:00 (36000 total records saved)
2025-05-19 15:58:32,204 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-16 05:37:00+00:00 (37000 total records saved)
2025-05-19 15:58:33,369 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-16 22:17:00+00:00 (38000 total records saved)
2025-05-19 15:58:37,119 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-17 14:57:00+00:00 (39000 total records saved)
2025-05-19 15:58:38,262 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-18 07:37:00+00:00 (40000 total records saved)
2025-05-19 15:58:39,708 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-19 00:17:00+00:00 (41000 total records saved)
2025-05-19 15:58:40,857 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-19 16:57:00+00:00 (42000 total records saved)
2025-05-19 15:58:42,241 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-20 09:37:00+00:00 (43000 total records saved)
2025-05-19 15:58:43,425 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-21 02:17:00+00:00 (44000 total records saved)
2025-05-19 15:58:44,666 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-21 18:57:00+00:00 (45000 total records saved)
2025-05-19 15:58:45,781 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-22 11:37:00+00:00 (46000 total records saved)
2025-05-19 15:58:46,944 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-23 04:17:00+00:00 (47000 total records saved)
2025-05-19 15:58:48,267 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-23 20:57:00+00:00 (48000 total records saved)
2025-05-19 15:58:49,509 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-24 13:37:00+00:00 (49000 total records saved)
2025-05-19 15:58:50,634 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 06:17:00+00:00 (50000 total records saved)
2025-05-19 15:58:51,829 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 22:57:00+00:00 (51000 total records saved)
2025-05-19 15:58:53,604 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-26 15:37:00+00:00 (52000 total records saved)
2025-05-19 15:58:54,864 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-27 08:17:00+00:00 (53000 total records saved)
2025-05-19 15:58:56,008 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-28 00:57:00+00:00 (54000 total records saved)
2025-05-19 15:58:57,871 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-28 17:37:00+00:00 (55000 total records saved)
2025-05-19 15:58:59,086 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-29 10:17:00+00:00 (56000 total records saved)
2025-05-19 15:59:00,976 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-30 02:57:00+00:00 (57000 total records saved)
2025-05-19 15:59:02,157 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-30 19:37:00+00:00 (58000 total records saved)
2025-05-19 15:59:03,314 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-31 12:17:00+00:00 (59000 total records saved)
2025-05-19 15:59:05,413 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-01 04:57:00+00:00 (60000 total records saved)
2025-05-19 15:59:06,542 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-01 21:37:00+00:00 (61000 total records saved)
2025-05-19 15:59:07,823 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-02 14:17:00+00:00 (62000 total records saved)
2025-05-19 15:59:08,950 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 06:57:00+00:00 (63000 total records saved)
2025-05-19 15:59:10,052 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 23:37:00+00:00 (64000 total records saved)
2025-05-19 15:59:11,840 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-04 16:17:00+00:00 (65000 total records saved)
2025-05-19 15:59:13,274 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-05 08:57:00+00:00 (66000 total records saved)
2025-05-19 15:59:14,719 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-06 01:37:00+00:00 (67000 total records saved)
2025-05-19 15:59:15,878 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-06 18:17:00+00:00 (68000 total records saved)
2025-05-19 15:59:17,111 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-07 10:57:00+00:00 (69000 total records saved)
2025-05-19 15:59:18,441 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-08 03:37:00+00:00 (70000 total records saved)
2025-05-19 15:59:19,581 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-08 20:17:00+00:00 (71000 total records saved)
2025-05-19 15:59:20,700 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-09 12:57:00+00:00 (72000 total records saved)
2025-05-19 15:59:21,825 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-10 05:37:00+00:00 (73000 total records saved)
2025-05-19 15:59:22,980 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-10 22:17:00+00:00 (74000 total records saved)
2025-05-19 15:59:24,177 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-11 14:57:00+00:00 (75000 total records saved)
2025-05-19 15:59:25,273 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-12 07:37:00+00:00 (76000 total records saved)
2025-05-19 15:59:26,387 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-13 00:17:00+00:00 (77000 total records saved)
2025-05-19 15:59:27,554 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-13 16:57:00+00:00 (78000 total records saved)
2025-05-19 15:59:28,842 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-14 09:37:00+00:00 (79000 total records saved)
2025-05-19 15:59:30,075 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-15 02:17:00+00:00 (80000 total records saved)
2025-05-19 15:59:31,245 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-15 18:57:00+00:00 (81000 total records saved)
2025-05-19 15:59:32,374 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-16 11:37:00+00:00 (82000 total records saved)
2025-05-19 15:59:33,525 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-17 04:17:00+00:00 (83000 total records saved)
2025-05-19 15:59:34,659 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-17 20:57:00+00:00 (84000 total records saved)
2025-05-19 15:59:37,069 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-18 13:37:00+00:00 (85000 total records saved)
2025-05-19 15:59:38,196 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 06:17:00+00:00 (86000 total records saved)
2025-05-19 15:59:39,341 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 22:57:00+00:00 (87000 total records saved)
2025-05-19 15:59:40,460 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-20 15:37:00+00:00 (88000 total records saved)
2025-05-19 15:59:41,586 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-21 08:17:00+00:00 (89000 total records saved)
2025-05-19 15:59:42,724 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-22 00:57:00+00:00 (90000 total records saved)
2025-05-19 15:59:43,875 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-22 17:37:00+00:00 (91000 total records saved)
2025-05-19 15:59:45,060 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-23 10:17:00+00:00 (92000 total records saved)
2025-05-19 15:59:47,600 - ClawBackend - INFO - [repository.py:46] - User vb2NMkVJi3bLz9UgvUihzWMBDVK2 exists in Firebase
2025-05-19 15:59:47,907 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 15:59:47,909 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 15:59:49,652 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user vb2NMkVJi3bLz9UgvUihzWMBDVK2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 15:59:51,085 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQTIIDIeiQ55dB6S1Qfe38W
2025-05-19 15:59:51,792 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-24 02:57:00+00:00 (93000 total records saved)
2025-05-19 15:59:53,174 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-24 19:37:00+00:00 (94000 total records saved)
2025-05-19 15:59:54,391 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-25 12:17:00+00:00 (95000 total records saved)
2025-05-19 15:59:54,411 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.created
2025-05-19 15:59:54,441 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.created
2025-05-19 15:59:55,088 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.updated
2025-05-19 15:59:55,533 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-26 04:57:00+00:00 (96000 total records saved)
2025-05-19 15:59:55,539 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.finalized
2025-05-19 15:59:55,547 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.created
2025-05-19 15:59:55,553 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.created
2025-05-19 15:59:55,560 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.created
2025-05-19 15:59:56,597 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-26 21:37:00+00:00 (97000 total records saved)
2025-05-19 15:59:57,670 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-27 14:17:00+00:00 (98000 total records saved)
2025-05-19 15:59:58,863 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 06:57:00+00:00 (99000 total records saved)
2025-05-19 15:59:59,929 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 23:37:00+00:00 (100000 total records saved)
2025-05-19 16:00:01,194 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-29 16:17:00+00:00 (101000 total records saved)
2025-05-19 16:00:02,387 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-30 08:57:00+00:00 (102000 total records saved)
2025-05-19 16:00:04,139 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-01 01:37:00+00:00 (103000 total records saved)
2025-05-19 16:00:05,223 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-01 18:17:00+00:00 (104000 total records saved)
2025-05-19 16:00:06,304 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-02 10:57:00+00:00 (105000 total records saved)
2025-05-19 16:00:07,392 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-03 03:37:00+00:00 (106000 total records saved)
2025-05-19 16:00:08,446 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-03 20:17:00+00:00 (107000 total records saved)
2025-05-19 16:00:09,506 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-04 12:57:00+00:00 (108000 total records saved)
2025-05-19 16:00:12,043 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-05 05:37:00+00:00 (109000 total records saved)
2025-05-19 16:00:13,568 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-05 22:17:00+00:00 (110000 total records saved)
2025-05-19 16:00:14,645 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-06 14:57:00+00:00 (111000 total records saved)
2025-05-19 16:00:15,731 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-07 07:37:00+00:00 (112000 total records saved)
2025-05-19 16:00:16,809 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-08 00:17:00+00:00 (113000 total records saved)
2025-05-19 16:00:17,973 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-08 16:57:00+00:00 (114000 total records saved)
2025-05-19 16:00:19,138 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-09 09:37:00+00:00 (115000 total records saved)
2025-05-19 16:00:20,396 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-10 02:17:00+00:00 (116000 total records saved)
2025-05-19 16:00:21,618 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-10 18:57:00+00:00 (117000 total records saved)
2025-05-19 16:00:22,745 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-11 11:37:00+00:00 (118000 total records saved)
2025-05-19 16:00:24,072 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-12 04:17:00+00:00 (119000 total records saved)
2025-05-19 16:00:25,198 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-12 20:57:00+00:00 (120000 total records saved)
2025-05-19 16:00:27,587 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-13 13:37:00+00:00 (121000 total records saved)
2025-05-19 16:00:28,716 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-14 06:17:00+00:00 (122000 total records saved)
2025-05-19 16:00:29,827 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-14 22:57:00+00:00 (123000 total records saved)
2025-05-19 16:00:30,959 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-15 15:37:00+00:00 (124000 total records saved)
2025-05-19 16:00:34,711 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-16 08:17:00+00:00 (125000 total records saved)
2025-05-19 16:00:36,086 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-17 00:57:00+00:00 (126000 total records saved)
2025-05-19 16:00:37,345 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-17 17:37:00+00:00 (127000 total records saved)
2025-05-19 16:00:38,515 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-18 10:17:00+00:00 (128000 total records saved)
2025-05-19 16:00:40,699 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-19 02:57:00+00:00 (129000 total records saved)
2025-05-19 16:00:41,778 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 600 records. Progress: 2025-05-19 12:57:00+00:00 (129600 total records saved)
2025-05-19 16:00:42,637 - ClawBackend - INFO - [market_data.py:421] - No more data available from Binance for ETHUSDT (1m)
2025-05-19 16:00:42,872 - ClawBackend - INFO - [market_data.py:475] - Unregistered background task for ETHUSDT (1m)
2025-05-19 16:17:39,555 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for ETHUSDT
2025-05-19 16:17:39,586 - ClawBackend - INFO - [market_data.py:341] - Closing connection for ETHUSDT
2025-05-19 16:29:24,352 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 16:30:19,614 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 16:37:40,776 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 16:42:05,261 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 16:42:31,712 - ClawBackend - INFO - [repository.py:46] - User vb2NMkVJi3bLz9UgvUihzWMBDVK2 exists in Firebase
2025-05-19 16:42:32,353 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 16:42:32,354 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 16:42:34,183 - ClawBackend - INFO - [paid_plans.py:226] - Creating PaymentIntent for user vb2NMkVJi3bLz9UgvUihzWMBDVK2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 16:42:35,823 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.created
2025-05-19 16:43:21,633 - ClawBackend - INFO - [repository.py:46] - User vb2NMkVJi3bLz9UgvUihzWMBDVK2 exists in Firebase
2025-05-19 16:43:21,953 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 16:43:21,954 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 16:43:23,228 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user vb2NMkVJi3bLz9UgvUihzWMBDVK2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 16:43:24,824 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQTyRDIeiQ55dB6IOdqZNhT
2025-05-19 16:43:26,089 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.created
2025-05-19 16:43:26,396 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.created
2025-05-19 16:43:26,460 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.created
2025-05-19 16:43:26,563 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.finalized
2025-05-19 16:43:26,778 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.created
2025-05-19 16:44:06,048 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_method.attached
2025-05-19 16:44:06,268 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.succeeded
2025-05-19 16:44:08,742 - ClawBackend - INFO - [paid_plans.py:397] - Set payment method pm_1RQTz6DIeiQ55dB6zdZPFKth for customer cus_SL9bhCToRApUu8
2025-05-19 16:44:10,794 - ClawBackend - INFO - [paid_plans.py:401] - Paid invoice in_1RQTyRDIeiQ55dB6Q4PynGtV for subscription sub_1RQTyRDIeiQ55dB6IOdqZNhT
2025-05-19 16:44:11,224 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.updated
2025-05-19 16:44:11,291 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.created
2025-05-19 16:44:11,332 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.updated
2025-05-19 16:44:11,339 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.succeeded
2025-05-19 16:44:11,718 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.succeeded
2025-05-19 16:44:11,719 - ClawBackend - WARNING - [paid_plans.py:348] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 16:44:11,970 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: charge.succeeded
2025-05-19 16:44:12,045 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.updated
2025-05-19 16:44:12,045 - ClawBackend - INFO - [paid_plans.py:435] - Processing subscription status change to active for user vb2NMkVJi3bLz9UgvUihzWMBDVK2, plan pro_weekly
2025-05-19 16:44:12,516 - ClawBackend - INFO - [repository.py:62] - Firebase updated for vb2NMkVJi3bLz9UgvUihzWMBDVK2
2025-05-19 16:44:15,076 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vb2NMkVJi3bLz9UgvUihzWMBDVK2: pro_weekly
2025-05-19 16:44:15,081 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.updated
2025-05-19 16:44:15,084 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.paid
2025-05-19 16:44:15,302 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.payment_succeeded
2025-05-19 16:44:24,928 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.upcoming
2025-05-19 16:59:26,997 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 17:01:33,870 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 17:02:45,020 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 17:16:26,504 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 17:19:00,277 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 17:19:35,291 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 17:20:06,336 - ClawBackend - INFO - [repository.py:46] - User vb2NMkVJi3bLz9UgvUihzWMBDVK2 exists in Firebase
2025-05-19 17:20:06,630 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 17:20:06,631 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 17:20:08,120 - ClawBackend - INFO - [paid_plans.py:226] - Creating PaymentIntent for user vb2NMkVJi3bLz9UgvUihzWMBDVK2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 17:20:10,569 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.created
2025-05-19 17:20:30,696 - ClawBackend - INFO - [repository.py:46] - User vb2NMkVJi3bLz9UgvUihzWMBDVK2 exists in Firebase
2025-05-19 17:20:31,128 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 17:20:31,130 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 17:20:32,684 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user vb2NMkVJi3bLz9UgvUihzWMBDVK2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 17:20:34,568 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQUYPDIeiQ55dB6BlU007Os
2025-05-19 17:20:36,459 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.created
2025-05-19 17:20:37,261 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.created
2025-05-19 17:20:37,289 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.created
2025-05-19 17:20:37,302 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.finalized
2025-05-19 17:20:37,372 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.created
2025-05-19 17:20:53,263 - ClawBackend - INFO - [repository.py:46] - User vb2NMkVJi3bLz9UgvUihzWMBDVK2 exists in Firebase
2025-05-19 17:20:53,538 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 17:20:53,539 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-19 17:20:55,006 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user vb2NMkVJi3bLz9UgvUihzWMBDVK2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 17:20:56,652 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQUYlDIeiQ55dB6A49HNSL6
2025-05-19 17:21:00,001 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.created
2025-05-19 17:21:00,358 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.created
2025-05-19 17:21:00,547 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.finalized
2025-05-19 17:21:00,724 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.created
2025-05-19 17:21:00,739 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.created
2025-05-19 17:21:06,883 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.succeeded
2025-05-19 17:21:09,269 - ClawBackend - INFO - [paid_plans.py:397] - Set payment method pm_1RQTz6DIeiQ55dB6zdZPFKth for customer cus_SL9bhCToRApUu8
2025-05-19 17:21:11,394 - ClawBackend - INFO - [paid_plans.py:401] - Paid invoice in_1RQUYlDIeiQ55dB62E7cT04x for subscription sub_1RQUYlDIeiQ55dB6A49HNSL6
2025-05-19 17:21:11,400 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.succeeded
2025-05-19 17:21:13,629 - ClawBackend - INFO - [paid_plans.py:397] - Set payment method pm_1RQTz6DIeiQ55dB6zdZPFKth for customer cus_SL9bhCToRApUu8
2025-05-19 17:21:17,794 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.succeeded
2025-05-19 17:21:17,924 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.updated
2025-05-19 17:21:18,084 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: charge.succeeded
2025-05-19 17:21:18,102 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.created
2025-05-19 17:21:18,231 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.updated
2025-05-19 17:21:18,234 - ClawBackend - INFO - [paid_plans.py:435] - Processing subscription status change to active for user vb2NMkVJi3bLz9UgvUihzWMBDVK2, plan pro_weekly
2025-05-19 17:21:18,522 - ClawBackend - INFO - [repository.py:62] - Firebase updated for vb2NMkVJi3bLz9UgvUihzWMBDVK2
2025-05-19 17:21:22,248 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vb2NMkVJi3bLz9UgvUihzWMBDVK2: pro_weekly
2025-05-19 17:21:22,255 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.paid
2025-05-19 17:21:22,259 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.succeeded
2025-05-19 17:21:22,260 - ClawBackend - WARNING - [paid_plans.py:348] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 17:21:22,265 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.updated
2025-05-19 17:21:22,270 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.payment_succeeded
2025-05-19 17:21:22,739 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.upcoming
2025-05-19 17:49:19,817 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 17:51:35,858 - ClawBackend - INFO - [repository.py:46] - User W0Pu7AV4dnVp037yVmtk0MhTtq42 exists in Firebase
2025-05-19 17:51:36,147 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 17:51:36,149 - ClawBackend - INFO - [paid_plans.py:189] - User details from get_user_details FUNCTION: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 17:51:38,010 - ClawBackend - INFO - [paid_plans.py:250] - Creating Subscription for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 17:51:39,356 - ClawBackend - INFO - [paid_plans.py:268] - Creating SetupIntent for subscription sub_1RQV2UDIeiQ55dB6MqEZJjbB
2025-05-19 17:51:41,545 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.created
2025-05-19 17:51:41,852 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.created
2025-05-19 17:51:42,804 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.finalized
2025-05-19 17:51:42,813 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.created
2025-05-19 17:51:42,817 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.updated
2025-05-19 17:51:42,826 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.created
2025-05-19 17:51:43,200 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.created
2025-05-19 17:52:22,867 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_method.attached
2025-05-19 17:52:23,037 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.succeeded
2025-05-19 17:52:25,531 - ClawBackend - INFO - [paid_plans.py:397] - Set payment method pm_1RQV3ADIeiQ55dB6dyuB9pxB for customer cus_SLBPy1OaTFofXb
2025-05-19 17:52:27,347 - ClawBackend - INFO - [paid_plans.py:401] - Paid invoice in_1RQV2UDIeiQ55dB61P0mlYYW for subscription sub_1RQV2UDIeiQ55dB6MqEZJjbB
2025-05-19 17:52:30,432 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.succeeded
2025-05-19 17:52:30,459 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: setup_intent.created
2025-05-19 17:52:30,495 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.updated
2025-05-19 17:52:30,531 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.updated
2025-05-19 17:52:30,833 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: payment_intent.succeeded
2025-05-19 17:52:30,841 - ClawBackend - WARNING - [paid_plans.py:348] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 17:52:31,454 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: customer.subscription.updated
2025-05-19 17:52:31,460 - ClawBackend - INFO - [paid_plans.py:435] - Processing subscription status change to active for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan pro_weekly
2025-05-19 17:52:31,776 - ClawBackend - INFO - [repository.py:62] - Firebase updated for W0Pu7AV4dnVp037yVmtk0MhTtq42
2025-05-19 17:52:34,965 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user W0Pu7AV4dnVp037yVmtk0MhTtq42: pro_weekly
2025-05-19 17:52:34,976 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: charge.succeeded
2025-05-19 17:52:34,985 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.updated
2025-05-19 17:52:34,991 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.payment_succeeded
2025-05-19 17:52:34,999 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.paid
2025-05-19 17:52:36,039 - ClawBackend - INFO - [paid_plans.py:337] - Processing webhook event: invoice.upcoming
2025-05-19 18:12:41,885 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 18:14:16,554 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 18:14:55,777 - ClawBackend - INFO - [repository.py:46] - User W0Pu7AV4dnVp037yVmtk0MhTtq42 exists in Firebase
2025-05-19 18:14:56,052 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:14:56,053 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:14:57,184 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 18:14:58,782 - ClawBackend - ERROR - [paid_plans.py:424] - Stripe error for user W0Pu7AV4dnVp037yVmtk0MhTtq42 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Request req_14oDX0Id5NCuPv: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 18:15:00,017 - ClawBackend - INFO - [paid_plans.py:462] - Processing webhook event: payment_intent.created
2025-05-19 18:15:00,329 - ClawBackend - INFO - [paid_plans.py:462] - Processing webhook event: invoice.finalized
2025-05-19 18:15:00,333 - ClawBackend - INFO - [paid_plans.py:462] - Processing webhook event: customer.subscription.created
2025-05-19 18:15:00,349 - ClawBackend - INFO - [paid_plans.py:462] - Processing webhook event: invoice.created
2025-05-19 18:17:41,675 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 18:17:50,165 - ClawBackend - INFO - [repository.py:46] - User W0Pu7AV4dnVp037yVmtk0MhTtq42 exists in Firebase
2025-05-19 18:17:50,471 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:17:50,473 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:17:52,704 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 18:17:54,262 - ClawBackend - ERROR - [paid_plans.py:429] - Stripe error for user W0Pu7AV4dnVp037yVmtk0MhTtq42 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Request req_Bfhl780Spt46M7: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 18:17:55,457 - ClawBackend - INFO - [paid_plans.py:467] - Processing webhook event: payment_intent.created
2025-05-19 18:17:55,562 - ClawBackend - INFO - [paid_plans.py:467] - Processing webhook event: customer.subscription.created
2025-05-19 18:17:55,615 - ClawBackend - INFO - [paid_plans.py:467] - Processing webhook event: invoice.created
2025-05-19 18:17:55,661 - ClawBackend - INFO - [paid_plans.py:467] - Processing webhook event: invoice.finalized
2025-05-19 18:21:30,966 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 18:22:11,498 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 18:22:28,796 - ClawBackend - INFO - [repository.py:46] - User W0Pu7AV4dnVp037yVmtk0MhTtq42 exists in Firebase
2025-05-19 18:22:29,104 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:22:29,106 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:22:30,438 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-19 18:22:31,871 - ClawBackend - ERROR - [paid_plans.py:435] - Stripe error for user W0Pu7AV4dnVp037yVmtk0MhTtq42 (Plan: price_1RPu2ZDIeiQ55dB6rpiPHkSu): Request req_hfYJoHwIpBGKnJ: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 18:22:33,150 - ClawBackend - INFO - [paid_plans.py:473] - Processing webhook event: payment_intent.created
2025-05-19 18:22:33,354 - ClawBackend - INFO - [paid_plans.py:473] - Processing webhook event: customer.subscription.created
2025-05-19 18:22:33,472 - ClawBackend - INFO - [paid_plans.py:473] - Processing webhook event: invoice.created
2025-05-19 18:22:33,477 - ClawBackend - INFO - [paid_plans.py:473] - Processing webhook event: invoice.finalized
2025-05-19 18:24:12,937 - ClawBackend - INFO - [repository.py:46] - User W0Pu7AV4dnVp037yVmtk0MhTtq42 exists in Firebase
2025-05-19 18:24:13,247 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:24:13,248 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:24:15,089 - ClawBackend - INFO - [paid_plans.py:370] - Creating PaymentIntent for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-19 18:24:16,720 - ClawBackend - INFO - [paid_plans.py:473] - Processing webhook event: payment_intent.created
2025-05-19 18:26:46,181 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 18:27:11,100 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 18:27:33,643 - ClawBackend - INFO - [repository.py:46] - User W0Pu7AV4dnVp037yVmtk0MhTtq42 exists in Firebase
2025-05-19 18:27:33,957 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:27:33,957 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:27:35,180 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 18:27:36,653 - ClawBackend - ERROR - [paid_plans.py:440] - Error initiating payment for user W0Pu7AV4dnVp037yVmtk0MhTtq42 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): 'str' object has no attribute 'payment_intent'
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 411, in initiate_payment_intent_or_subscription
    if subscription.latest_invoice and subscription.latest_invoice.payment_intent:
                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'payment_intent'
2025-05-19 18:27:37,743 - ClawBackend - INFO - [paid_plans.py:472] - Processing webhook event: payment_intent.created
2025-05-19 18:27:38,039 - ClawBackend - INFO - [paid_plans.py:472] - Processing webhook event: customer.subscription.created
2025-05-19 18:27:38,154 - ClawBackend - INFO - [paid_plans.py:472] - Processing webhook event: invoice.created
2025-05-19 18:27:38,176 - ClawBackend - INFO - [paid_plans.py:472] - Processing webhook event: invoice.finalized
2025-05-19 18:29:49,040 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 18:30:25,487 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 18:30:30,694 - ClawBackend - INFO - [repository.py:46] - User W0Pu7AV4dnVp037yVmtk0MhTtq42 exists in Firebase
2025-05-19 18:30:31,001 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:30:31,002 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:30:33,357 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 18:30:34,802 - ClawBackend - ERROR - [paid_plans.py:414] - No payment intent found in latest_invoice  possibly a free trial or misconfigured plan
2025-05-19 18:30:34,805 - ClawBackend - INFO - [paid_plans.py:417] - Creating PaymentIntent for subscription sub_1RQVe9DIeiQ55dB6gKIrngzW
2025-05-19 18:30:34,806 - ClawBackend - ERROR - [paid_plans.py:439] - Error initiating payment for user W0Pu7AV4dnVp037yVmtk0MhTtq42 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): 'NoneType' object has no attribute 'client_secret'
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 420, in initiate_payment_intent_or_subscription
    client_secret=payment_intent.client_secret,
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'client_secret'
2025-05-19 18:30:36,111 - ClawBackend - INFO - [paid_plans.py:471] - Processing webhook event: payment_intent.created
2025-05-19 18:30:36,293 - ClawBackend - INFO - [paid_plans.py:471] - Processing webhook event: invoice.created
2025-05-19 18:30:36,313 - ClawBackend - INFO - [paid_plans.py:471] - Processing webhook event: invoice.finalized
2025-05-19 18:30:36,323 - ClawBackend - INFO - [paid_plans.py:471] - Processing webhook event: customer.subscription.created
2025-05-19 18:45:06,715 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 18:46:59,615 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 18:47:08,383 - ClawBackend - INFO - [repository.py:46] - User W0Pu7AV4dnVp037yVmtk0MhTtq42 exists in Firebase
2025-05-19 18:47:08,663 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:47:08,665 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-19 18:47:12,732 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user W0Pu7AV4dnVp037yVmtk0MhTtq42, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 18:47:14,428 - ClawBackend - ERROR - [paid_plans.py:432] - Stripe error for user W0Pu7AV4dnVp037yVmtk0MhTtq42 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Request req_O67BhI1kC9mCC4: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 18:47:15,520 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: payment_intent.created
2025-05-19 18:47:15,913 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: invoice.created
2025-05-19 18:47:15,925 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: customer.subscription.created
2025-05-19 18:47:15,931 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: invoice.finalized
2025-05-19 18:50:21,204 - ClawBackend - INFO - [repository.py:46] - User Zdu406N3OoNDb1Pm2NyqCL4D9Tl2 exists in Firebase
2025-05-19 18:50:21,510 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-19 18:50:21,512 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=dishutch@gmail.com, name=Dishutch
2025-05-19 18:50:23,253 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 18:50:24,815 - ClawBackend - ERROR - [paid_plans.py:432] - Stripe error for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): Request req_3SbUKyUMk9fLkd: This property cannot be expanded because it doesn't exist: payment_intent.
2025-05-19 18:50:25,343 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: customer.created
2025-05-19 18:50:26,075 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: customer.updated
2025-05-19 18:50:26,251 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: payment_intent.created
2025-05-19 18:50:26,382 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: invoice.created
2025-05-19 18:50:26,392 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: customer.subscription.created
2025-05-19 18:50:26,433 - ClawBackend - INFO - [paid_plans.py:470] - Processing webhook event: invoice.finalized
2025-05-19 19:12:11,003 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 19:12:19,288 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-19 19:12:32,793 - ClawBackend - INFO - [repository.py:46] - User Zdu406N3OoNDb1Pm2NyqCL4D9Tl2 exists in Firebase
2025-05-19 19:12:33,131 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:12:33,132 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:12:34,290 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 19:12:35,864 - ClawBackend - ERROR - [paid_plans.py:424] - Error initiating payment for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2 (Plan: price_1RPu76DIeiQ55dB6S32S2sVP): 1 validation error for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=<ConfirmationSecret at 0x...ype": "payment_intent"
}, input_type=Invoice.ConfirmationSecret]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 406, in initiate_payment_intent_or_subscription
    return NativeCheckoutResponseSchema(
        client_secret=confirmation_secret,
    ...<6 lines>...
        mode=mode
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py", line 243, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for NativeCheckoutResponseSchema
client_secret
  Input should be a valid string [type=string_type, input_value=<ConfirmationSecret at 0x...ype": "payment_intent"
}, input_type=Invoice.ConfirmationSecret]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-05-19 19:12:36,661 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: payment_intent.created
2025-05-19 19:12:36,998 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: customer.subscription.created
2025-05-19 19:12:37,000 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.created
2025-05-19 19:12:37,044 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.finalized
2025-05-19 19:16:06,522 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 19:16:51,130 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 19:16:54,213 - ClawBackend - INFO - [repository.py:46] - User Zdu406N3OoNDb1Pm2NyqCL4D9Tl2 exists in Firebase
2025-05-19 19:16:54,500 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:16:54,500 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:16:56,372 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 19:16:58,751 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: payment_intent.created
2025-05-19 19:16:58,992 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: customer.subscription.created
2025-05-19 19:16:59,045 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.created
2025-05-19 19:16:59,152 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.finalized
2025-05-19 19:17:13,920 - ClawBackend - INFO - [repository.py:46] - User Zdu406N3OoNDb1Pm2NyqCL4D9Tl2 exists in Firebase
2025-05-19 19:17:14,198 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:17:14,199 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:17:15,342 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-19 19:17:17,749 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: payment_intent.created
2025-05-19 19:17:17,995 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: customer.subscription.created
2025-05-19 19:17:18,057 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.created
2025-05-19 19:17:18,135 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.finalized
2025-05-19 19:17:55,594 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: charge.succeeded
2025-05-19 19:17:56,088 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: payment_method.attached
2025-05-19 19:17:56,232 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.updated
2025-05-19 19:17:56,236 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: customer.subscription.updated
2025-05-19 19:17:56,237 - ClawBackend - INFO - [paid_plans.py:556] - Processing subscription status change to active for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan starter_monthly
2025-05-19 19:17:57,935 - ClawBackend - INFO - [repository.py:62] - Firebase updated for Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-19 19:18:05,275 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2: starter_monthly
2025-05-19 19:18:05,279 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: payment_intent.succeeded
2025-05-19 19:18:05,281 - ClawBackend - WARNING - [paid_plans.py:467] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 19:18:05,829 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.paid
2025-05-19 19:18:05,833 - ClawBackend - INFO - [paid_plans.py:456] - Processing webhook event: invoice.payment_succeeded
2025-05-19 19:21:17,953 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 19:22:19,291 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 19:22:33,777 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 19:22:47,309 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 19:23:37,113 - ClawBackend - INFO - [repository.py:46] - User Zdu406N3OoNDb1Pm2NyqCL4D9Tl2 exists in Firebase
2025-05-19 19:23:39,352 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:23:39,353 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:23:44,472 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-19 19:23:49,225 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: payment_intent.created
2025-05-19 19:23:49,227 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.created
2025-05-19 19:23:49,229 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.finalized
2025-05-19 19:23:49,231 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: customer.subscription.created
2025-05-19 19:25:05,012 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: payment_intent.succeeded
2025-05-19 19:25:05,013 - ClawBackend - WARNING - [paid_plans.py:468] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 19:25:05,036 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: charge.succeeded
2025-05-19 19:25:05,315 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.paid
2025-05-19 19:25:05,319 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.updated
2025-05-19 19:25:05,322 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: customer.subscription.updated
2025-05-19 19:25:05,363 - ClawBackend - INFO - [paid_plans.py:557] - Processing subscription status change to active for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan pro_weekly
2025-05-19 19:25:11,924 - ClawBackend - INFO - [repository.py:62] - Firebase updated for Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-19 19:25:15,151 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2: pro_weekly
2025-05-19 19:25:15,155 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.payment_succeeded
2025-05-19 19:25:15,713 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.upcoming
2025-05-19 19:27:06,568 - ClawBackend - INFO - [repository.py:46] - User Zdu406N3OoNDb1Pm2NyqCL4D9Tl2 exists in Firebase
2025-05-19 19:27:06,915 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:27:06,917 - ClawBackend - INFO - [paid_plans.py:333] - User details from get_user_details FUNCTION: email=dishutch@gmail.com, name=Dishutch
2025-05-19 19:27:08,770 - ClawBackend - INFO - [paid_plans.py:394] - Creating Subscription for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-19 19:27:11,283 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: payment_intent.created
2025-05-19 19:27:11,474 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: customer.subscription.created
2025-05-19 19:27:11,626 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.created
2025-05-19 19:27:11,691 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.finalized
2025-05-19 19:27:23,270 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: charge.succeeded
2025-05-19 19:27:23,274 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: customer.subscription.updated
2025-05-19 19:27:23,276 - ClawBackend - INFO - [paid_plans.py:557] - Processing subscription status change to active for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2, plan pro_monthly
2025-05-19 19:27:23,809 - ClawBackend - INFO - [repository.py:62] - Firebase updated for Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-19 19:27:25,403 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2: pro_monthly
2025-05-19 19:27:25,406 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: payment_intent.succeeded
2025-05-19 19:27:25,407 - ClawBackend - WARNING - [paid_plans.py:468] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-19 19:27:25,408 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.updated
2025-05-19 19:27:25,414 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.payment_succeeded
2025-05-19 19:27:25,416 - ClawBackend - INFO - [paid_plans.py:457] - Processing webhook event: invoice.paid
2025-05-19 19:32:40,183 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-19 19:33:25,775 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-19 20:34:47,646 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-20 00:07:48,818 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-20 00:12:38,751 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 00:15:02,390 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 00:15:02,747 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 00:15:02,753 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 00:15:04,113 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-20 00:15:06,881 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 00:15:07,120 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 00:15:07,208 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 00:15:07,221 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 00:15:24,678 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.succeeded
2025-05-20 00:15:24,682 - ClawBackend - WARNING - [paid_plans.py:324] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-20 00:15:24,885 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: charge.succeeded
2025-05-20 00:15:24,945 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.updated
2025-05-20 00:15:24,950 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.updated
2025-05-20 00:15:24,951 - ClawBackend - INFO - [paid_plans.py:442] - Processing subscription status change to active for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan pro_monthly
2025-05-20 00:15:25,236 - ClawBackend - INFO - [repository.py:63] - Firebase updated for sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-20 00:15:27,291 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user sTz7YpNFS3MzOHN2blYaFP9MN9u2: pro_monthly
2025-05-20 00:15:27,297 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.paid
2025-05-20 00:15:27,303 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.payment_succeeded
2025-05-20 00:16:27,117 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-20 00:17:20,248 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-20 00:17:23,475 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 00:17:23,757 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 00:17:23,758 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 00:17:26,099 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-20 00:17:28,537 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 00:17:28,911 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 00:17:29,031 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 00:17:29,037 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 00:17:45,290 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 00:17:45,559 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 00:17:45,559 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 00:17:46,749 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-20 00:17:49,060 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 00:17:49,479 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 00:17:49,598 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 00:17:49,634 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 00:18:04,615 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.succeeded
2025-05-20 00:18:04,615 - ClawBackend - WARNING - [paid_plans.py:324] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-20 00:18:04,885 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: charge.succeeded
2025-05-20 00:18:04,934 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.updated
2025-05-20 00:18:04,934 - ClawBackend - INFO - [paid_plans.py:442] - Processing subscription status change to active for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan pro_monthly
2025-05-20 00:18:05,406 - ClawBackend - INFO - [repository.py:63] - Firebase updated for sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-20 00:18:07,422 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user sTz7YpNFS3MzOHN2blYaFP9MN9u2: pro_monthly
2025-05-20 00:18:07,424 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.updated
2025-05-20 00:18:07,428 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.paid
2025-05-20 00:18:07,432 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.payment_succeeded
2025-05-20 01:51:58,953 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 02:00:13,361 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 02:03:03,188 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 02:05:22,676 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:05:22,997 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:05:22,999 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:05:24,830 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-20 02:05:28,440 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:05:30,079 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:05:30,278 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:05:30,287 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:13:13,948 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 02:14:27,564 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:14:28,267 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:14:28,269 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:14:30,325 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-20 02:14:37,653 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:14:37,669 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:14:37,685 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:14:37,692 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:14:49,978 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:14:50,383 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:14:50,384 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:14:52,023 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-20 02:14:55,715 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:14:55,721 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:14:55,871 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:14:55,885 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:15:36,667 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 02:39:44,204 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:39:45,635 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:39:45,637 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:39:48,504 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-20 02:39:52,407 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:39:52,716 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:39:52,738 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:39:52,744 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:47:16,618 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:47:18,487 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:47:18,489 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:47:27,071 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-20 02:47:31,813 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:47:31,911 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:47:31,918 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:47:31,939 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:52:33,749 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 02:53:21,154 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:53:22,690 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:53:22,692 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:53:28,668 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-20 02:53:33,166 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:53:33,635 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:53:33,920 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:53:33,926 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:54:02,877 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:54:04,571 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:54:04,572 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:54:08,054 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-20 02:54:10,921 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:54:12,559 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:54:12,560 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:54:17,374 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-20 02:54:22,486 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:54:23,051 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:54:23,251 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:54:23,275 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:54:23,384 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:54:23,807 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:54:23,831 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:54:23,859 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:57:23,545 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-20 02:57:24,504 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:57:24,505 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-20 02:57:28,668 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-20 02:57:32,056 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 02:57:32,752 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 02:57:32,758 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 02:57:32,762 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 02:58:34,695 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.succeeded
2025-05-20 02:58:34,697 - ClawBackend - WARNING - [paid_plans.py:324] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-20 02:58:35,116 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.updated
2025-05-20 02:58:35,117 - ClawBackend - INFO - [paid_plans.py:442] - Processing subscription status change to active for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan starter_monthly
2025-05-20 02:58:37,173 - ClawBackend - INFO - [repository.py:63] - Firebase updated for sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-20 02:58:45,473 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user sTz7YpNFS3MzOHN2blYaFP9MN9u2: starter_monthly
2025-05-20 02:58:45,485 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.updated
2025-05-20 02:58:45,503 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: charge.succeeded
2025-05-20 02:58:45,506 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.paid
2025-05-20 02:58:45,508 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.payment_succeeded
2025-05-20 03:00:49,628 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-20 03:00:50,267 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:00:50,268 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:00:54,106 - ClawBackend - INFO - [paid_plans.py:227] - Creating PaymentIntent for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan test_drive, price_id price_1RPtxqDIeiQ55dB6qarRb0ys
2025-05-20 03:00:56,882 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:01:24,973 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.succeeded
2025-05-20 03:01:25,030 - ClawBackend - INFO - [paid_plans.py:320] - Processing successful one-time payment for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan test_drive
2025-05-20 03:01:25,891 - ClawBackend - INFO - [repository.py:63] - Firebase updated for fgxotDv1IPaiSgAVVpCwXi91qMD2
2025-05-20 03:01:32,525 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user fgxotDv1IPaiSgAVVpCwXi91qMD2: test_drive
2025-05-20 03:01:32,991 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: charge.succeeded
2025-05-20 03:01:33,074 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: charge.updated
2025-05-20 03:02:48,984 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-20 03:02:50,207 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:02:50,208 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:02:53,464 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-20 03:02:56,443 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:02:57,339 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:02:57,353 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:02:57,412 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:03:44,343 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-20 03:03:44,645 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:03:44,646 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:03:46,098 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-20 03:03:48,578 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:03:48,720 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:03:48,728 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:03:48,776 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:04:44,104 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-20 03:04:44,414 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:04:44,414 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:04:45,875 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-20 03:04:48,336 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:04:48,626 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:04:48,739 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:04:48,741 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:05:23,545 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-20 03:05:23,864 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:05:23,865 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:05:25,415 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-20 03:05:27,788 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:05:27,954 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:05:28,033 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:05:28,142 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:08:20,842 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 03:08:58,593 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-20 03:08:58,902 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:08:58,903 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:09:00,832 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-20 03:09:03,709 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:09:03,714 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:09:03,747 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:09:03,755 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:11:30,136 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 03:19:58,706 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-20 03:19:59,010 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:19:59,011 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-20 03:20:00,196 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-20 03:20:03,004 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:20:03,089 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:20:03,217 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:20:03,260 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:20:49,136 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BT
2025-05-20 03:20:50,641 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCU
2025-05-20 03:20:51,509 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-20 03:20:53,120 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-20 03:27:09,514 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 03:28:27,210 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-20 03:28:27,511 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-20 03:28:27,512 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-20 03:28:29,468 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-20 03:28:31,416 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.created
2025-05-20 03:28:31,840 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:28:31,930 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.updated
2025-05-20 03:28:32,220 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:28:32,335 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:28:32,337 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:29:06,747 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: charge.succeeded
2025-05-20 03:29:07,605 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_method.attached
2025-05-20 03:29:07,610 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.updated
2025-05-20 03:29:07,610 - ClawBackend - INFO - [paid_plans.py:442] - Processing subscription status change to active for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan pro_monthly
2025-05-20 03:29:07,928 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-20 03:29:09,568 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: pro_monthly
2025-05-20 03:29:09,572 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.succeeded
2025-05-20 03:29:09,574 - ClawBackend - WARNING - [paid_plans.py:324] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-20 03:29:09,577 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.updated
2025-05-20 03:29:09,579 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.paid
2025-05-20 03:29:09,779 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.payment_succeeded
2025-05-20 03:30:28,147 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: checkout.session.expired
2025-05-20 03:30:28,149 - ClawBackend - ERROR - [paid_plans.py:352] - Checkout session failed for user kylOea42n4cZmGaY48cmSqYxRus2, event: checkout.session.expired
2025-05-20 03:30:29,147 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-20 03:37:45,830 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: checkout.session.expired
2025-05-20 03:37:45,912 - ClawBackend - ERROR - [paid_plans.py:352] - Checkout session failed for user kylOea42n4cZmGaY48cmSqYxRus2, event: checkout.session.expired
2025-05-20 03:37:46,918 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-20 03:42:55,336 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-20 03:43:28,587 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-20 03:43:28,899 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-20 03:43:28,900 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-20 03:43:30,278 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-20 03:43:33,152 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:43:33,208 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:43:33,223 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:43:33,283 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:47:27,169 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-20 03:47:27,708 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-20 03:47:27,710 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-20 03:47:30,910 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-20 03:47:34,375 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:47:34,757 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:47:34,759 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:47:34,767 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:49:48,837 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-20 03:49:49,131 - ClawBackend - INFO - [paid_plans.py:155] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-20 03:49:49,132 - ClawBackend - INFO - [paid_plans.py:190] - User details from get_user_details FUNCTION: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-20 03:49:51,069 - ClawBackend - INFO - [paid_plans.py:251] - Creating Subscription for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-20 03:49:53,564 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.created
2025-05-20 03:49:53,592 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.created
2025-05-20 03:49:54,017 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.finalized
2025-05-20 03:49:54,024 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.created
2025-05-20 03:50:02,693 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: payment_intent.succeeded
2025-05-20 03:50:02,694 - ClawBackend - WARNING - [paid_plans.py:324] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-20 03:50:02,697 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: customer.subscription.updated
2025-05-20 03:50:02,697 - ClawBackend - INFO - [paid_plans.py:442] - Processing subscription status change to active for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_monthly
2025-05-20 03:50:03,226 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-20 03:50:06,075 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: starter_monthly
2025-05-20 03:50:06,416 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: charge.succeeded
2025-05-20 03:50:06,663 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.paid
2025-05-20 03:50:06,689 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.updated
2025-05-20 03:50:06,715 - ClawBackend - INFO - [paid_plans.py:313] - Processing webhook event: invoice.payment_succeeded
2025-05-20 03:56:38,244 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 14:28:55,850 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 14:42:10,687 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 14:42:55,843 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 14:42:56,140 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 14:42:56,142 - ClawBackend - ERROR - [paid_plans.py:287] - Error: 'FirebaseRepository' object has no attribute 'get_user_subscription'
2025-05-21 14:48:52,876 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 14:50:21,850 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 14:53:20,420 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 14:53:20,896 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 14:53:21,185 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 14:53:22,788 - ClawBackend - ERROR - [paid_plans.py:287] - Error: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 14:54:28,609 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 14:54:29,004 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 14:54:29,302 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 14:54:30,874 - ClawBackend - ERROR - [paid_plans.py:287] - Error: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 14:56:28,306 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 14:56:33,752 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 14:57:22,732 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 14:59:00,527 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 14:59:19,509 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 14:59:22,909 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 14:59:23,206 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 14:59:23,498 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 14:59:25,708 - ClawBackend - ERROR - [paid_plans.py:287] - Error: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 15:00:33,167 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:00:33,460 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:00:33,755 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:00:35,458 - ClawBackend - ERROR - [paid_plans.py:287] - Error: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 15:08:39,370 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:09:34,297 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:10:10,494 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:10:10,817 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:10:11,108 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:10:12,643 - ClawBackend - ERROR - [paid_plans.py:289] - Error: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 15:10:49,533 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:11:00,549 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:13:45,614 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:14:28,322 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:14:51,051 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:14:51,460 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:14:51,869 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:16:19,092 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:16:40,959 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:18:05,443 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-21 15:18:07,997 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-21 15:18:20,490 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-21 15:18:20,723 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-21 15:18:22,879 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-21 15:18:23,480 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-21 15:18:23,482 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for BTCUSDT (1m), fetching from Binance
2025-05-21 15:18:25,701 - ClawBackend - INFO - [market_data.py:369] - Initiating background task to get and save full historical data
2025-05-21 15:18:25,745 - ClawBackend - INFO - [market_data.py:379] - Returning 100 records from Binance for page 1
2025-05-21 15:18:25,801 - ClawBackend - INFO - [market_data.py:399] - Started background task to fetch full history for BTCUSDT (1m)
2025-05-21 15:18:25,817 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-21 15:18:29,591 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-21 04:58:00+00:00 (1000 total records saved)
2025-05-21 15:18:31,339 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-21 21:38:00+00:00 (2000 total records saved)
2025-05-21 15:18:33,104 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-22 14:18:00+00:00 (3000 total records saved)
2025-05-21 15:18:35,489 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-23 06:58:00+00:00 (4000 total records saved)
2025-05-21 15:18:37,888 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-23 23:38:00+00:00 (5000 total records saved)
2025-05-21 15:18:39,105 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-24 16:18:00+00:00 (6000 total records saved)
2025-05-21 15:18:40,231 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-25 08:58:00+00:00 (7000 total records saved)
2025-05-21 15:18:41,375 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-26 01:38:00+00:00 (8000 total records saved)
2025-05-21 15:18:42,830 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-26 18:18:00+00:00 (9000 total records saved)
2025-05-21 15:18:44,050 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-27 10:58:00+00:00 (10000 total records saved)
2025-05-21 15:18:45,786 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 03:38:00+00:00 (11000 total records saved)
2025-05-21 15:18:47,226 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 20:18:00+00:00 (12000 total records saved)
2025-05-21 15:18:48,978 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 12:58:00+00:00 (13000 total records saved)
2025-05-21 15:18:50,166 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 05:38:00+00:00 (14000 total records saved)
2025-05-21 15:18:52,556 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 22:18:00+00:00 (15000 total records saved)
2025-05-21 15:18:53,826 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 14:58:00+00:00 (16000 total records saved)
2025-05-21 15:18:54,981 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-04 07:38:00+00:00 (17000 total records saved)
2025-05-21 15:18:56,122 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-05 00:18:00+00:00 (18000 total records saved)
2025-05-21 15:18:57,229 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-05 16:58:00+00:00 (19000 total records saved)
2025-05-21 15:18:58,368 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-06 09:38:00+00:00 (20000 total records saved)
2025-05-21 15:18:59,485 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-07 02:18:00+00:00 (21000 total records saved)
2025-05-21 15:19:00,601 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-07 18:58:00+00:00 (22000 total records saved)
2025-05-21 15:19:01,738 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-08 11:38:00+00:00 (23000 total records saved)
2025-05-21 15:19:03,497 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 04:18:00+00:00 (24000 total records saved)
2025-05-21 15:19:04,973 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 20:58:00+00:00 (25000 total records saved)
2025-05-21 15:19:06,240 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-10 13:38:00+00:00 (26000 total records saved)
2025-05-21 15:19:07,353 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-11 06:18:00+00:00 (27000 total records saved)
2025-05-21 15:19:08,457 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-11 22:58:00+00:00 (28000 total records saved)
2025-05-21 15:19:09,579 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-12 15:38:00+00:00 (29000 total records saved)
2025-05-21 15:19:11,941 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-13 08:18:00+00:00 (30000 total records saved)
2025-05-21 15:19:13,070 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-14 00:58:00+00:00 (31000 total records saved)
2025-05-21 15:19:14,205 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-14 17:38:00+00:00 (32000 total records saved)
2025-05-21 15:19:16,239 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-15 10:18:00+00:00 (33000 total records saved)
2025-05-21 15:19:17,378 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-16 02:58:00+00:00 (34000 total records saved)
2025-05-21 15:19:18,524 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-16 19:38:00+00:00 (35000 total records saved)
2025-05-21 15:19:19,735 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-17 12:18:00+00:00 (36000 total records saved)
2025-05-21 15:19:20,859 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-18 04:58:00+00:00 (37000 total records saved)
2025-05-21 15:19:21,976 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-18 21:38:00+00:00 (38000 total records saved)
2025-05-21 15:19:23,160 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-19 14:18:00+00:00 (39000 total records saved)
2025-05-21 15:19:25,578 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-20 06:58:00+00:00 (40000 total records saved)
2025-05-21 15:19:27,996 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-20 23:38:00+00:00 (41000 total records saved)
2025-05-21 15:19:29,165 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-21 16:18:00+00:00 (42000 total records saved)
2025-05-21 15:19:30,323 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-22 08:58:00+00:00 (43000 total records saved)
2025-05-21 15:19:31,448 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-23 01:38:00+00:00 (44000 total records saved)
2025-05-21 15:19:32,579 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-23 18:18:00+00:00 (45000 total records saved)
2025-05-21 15:19:33,758 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-24 10:58:00+00:00 (46000 total records saved)
2025-05-21 15:19:35,523 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 03:38:00+00:00 (47000 total records saved)
2025-05-21 15:19:36,653 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 20:18:00+00:00 (48000 total records saved)
2025-05-21 15:19:37,781 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-26 12:58:00+00:00 (49000 total records saved)
2025-05-21 15:19:38,933 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-27 05:38:00+00:00 (50000 total records saved)
2025-05-21 15:19:40,148 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-27 22:18:00+00:00 (51000 total records saved)
2025-05-21 15:19:41,294 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-28 14:58:00+00:00 (52000 total records saved)
2025-05-21 15:19:42,508 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-29 07:38:00+00:00 (53000 total records saved)
2025-05-21 15:19:43,759 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-30 00:18:00+00:00 (54000 total records saved)
2025-05-21 15:19:46,163 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-30 16:58:00+00:00 (55000 total records saved)
2025-05-21 15:19:47,319 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-31 09:38:00+00:00 (56000 total records saved)
2025-05-21 15:19:48,452 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-01 02:18:00+00:00 (57000 total records saved)
2025-05-21 15:19:49,599 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-01 18:58:00+00:00 (58000 total records saved)
2025-05-21 15:19:51,239 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-02 11:38:00+00:00 (59000 total records saved)
2025-05-21 15:19:52,386 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 04:18:00+00:00 (60000 total records saved)
2025-05-21 15:19:53,645 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 20:58:00+00:00 (61000 total records saved)
2025-05-21 15:19:54,798 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-04 13:38:00+00:00 (62000 total records saved)
2025-05-21 15:19:55,929 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-05 06:18:00+00:00 (63000 total records saved)
2025-05-21 15:19:57,246 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-05 22:58:00+00:00 (64000 total records saved)
2025-05-21 15:19:58,352 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-06 15:38:00+00:00 (65000 total records saved)
2025-05-21 15:19:59,663 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-07 08:18:00+00:00 (66000 total records saved)
2025-05-21 15:20:00,772 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-08 00:58:00+00:00 (67000 total records saved)
2025-05-21 15:20:01,902 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-08 17:38:00+00:00 (68000 total records saved)
2025-05-21 15:20:03,128 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-09 10:18:00+00:00 (69000 total records saved)
2025-05-21 15:20:04,294 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-10 02:58:00+00:00 (70000 total records saved)
2025-05-21 15:20:05,504 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-10 19:38:00+00:00 (71000 total records saved)
2025-05-21 15:20:06,628 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-11 12:18:00+00:00 (72000 total records saved)
2025-05-21 15:20:08,197 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-12 04:58:00+00:00 (73000 total records saved)
2025-05-21 15:20:09,344 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-12 21:38:00+00:00 (74000 total records saved)
2025-05-21 15:20:12,887 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-13 14:18:00+00:00 (75000 total records saved)
2025-05-21 15:20:14,047 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-14 06:58:00+00:00 (76000 total records saved)
2025-05-21 15:20:15,157 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-14 23:38:00+00:00 (77000 total records saved)
2025-05-21 15:20:16,270 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-15 16:18:00+00:00 (78000 total records saved)
2025-05-21 15:20:17,420 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-16 08:58:00+00:00 (79000 total records saved)
2025-05-21 15:20:18,561 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-17 01:38:00+00:00 (80000 total records saved)
2025-05-21 15:20:20,391 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-17 18:18:00+00:00 (81000 total records saved)
2025-05-21 15:20:22,783 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-18 10:58:00+00:00 (82000 total records saved)
2025-05-21 15:20:23,900 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 03:38:00+00:00 (83000 total records saved)
2025-05-21 15:20:25,028 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 20:18:00+00:00 (84000 total records saved)
2025-05-21 15:20:26,238 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-20 12:58:00+00:00 (85000 total records saved)
2025-05-21 15:20:27,372 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-21 05:38:00+00:00 (86000 total records saved)
2025-05-21 15:20:28,633 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-21 22:18:00+00:00 (87000 total records saved)
2025-05-21 15:20:29,768 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-22 14:58:00+00:00 (88000 total records saved)
2025-05-21 15:20:30,983 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-23 07:38:00+00:00 (89000 total records saved)
2025-05-21 15:20:32,168 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-24 00:18:00+00:00 (90000 total records saved)
2025-05-21 15:20:33,303 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-24 16:58:00+00:00 (91000 total records saved)
2025-05-21 15:20:35,696 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-25 09:38:00+00:00 (92000 total records saved)
2025-05-21 15:20:37,297 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-26 02:18:00+00:00 (93000 total records saved)
2025-05-21 15:20:38,539 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-26 18:58:00+00:00 (94000 total records saved)
2025-05-21 15:20:39,664 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-27 11:38:00+00:00 (95000 total records saved)
2025-05-21 15:20:40,769 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 04:18:00+00:00 (96000 total records saved)
2025-05-21 15:20:42,581 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 20:58:00+00:00 (97000 total records saved)
2025-05-21 15:20:44,990 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-29 13:38:00+00:00 (98000 total records saved)
2025-05-21 15:20:47,488 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-30 06:18:00+00:00 (99000 total records saved)
2025-05-21 15:20:48,662 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-30 22:58:00+00:00 (100000 total records saved)
2025-05-21 15:20:49,840 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-01 15:38:00+00:00 (101000 total records saved)
2025-05-21 15:20:51,046 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-02 08:18:00+00:00 (102000 total records saved)
2025-05-21 15:20:52,155 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-03 00:58:00+00:00 (103000 total records saved)
2025-05-21 15:20:53,331 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-03 17:38:00+00:00 (104000 total records saved)
2025-05-21 15:20:54,566 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-04 10:18:00+00:00 (105000 total records saved)
2025-05-21 15:20:55,740 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-05 02:58:00+00:00 (106000 total records saved)
2025-05-21 15:20:56,767 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-05 19:38:00+00:00 (107000 total records saved)
2025-05-21 15:20:57,988 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-06 12:18:00+00:00 (108000 total records saved)
2025-05-21 15:20:59,067 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-07 04:58:00+00:00 (109000 total records saved)
2025-05-21 15:21:00,190 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-07 21:38:00+00:00 (110000 total records saved)
2025-05-21 15:21:01,270 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-08 14:18:00+00:00 (111000 total records saved)
2025-05-21 15:21:02,460 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-09 06:58:00+00:00 (112000 total records saved)
2025-05-21 15:21:03,548 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-09 23:38:00+00:00 (113000 total records saved)
2025-05-21 15:21:06,133 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-10 16:18:00+00:00 (114000 total records saved)
2025-05-21 15:21:07,914 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-11 08:58:00+00:00 (115000 total records saved)
2025-05-21 15:21:09,019 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-12 01:38:00+00:00 (116000 total records saved)
2025-05-21 15:21:10,133 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-12 18:18:00+00:00 (117000 total records saved)
2025-05-21 15:21:11,330 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-13 10:58:00+00:00 (118000 total records saved)
2025-05-21 15:21:12,445 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-14 03:38:00+00:00 (119000 total records saved)
2025-05-21 15:21:13,909 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-14 20:18:00+00:00 (120000 total records saved)
2025-05-21 15:21:14,847 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-21 15:21:14,848 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-21 15:21:15,048 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-15 12:58:00+00:00 (121000 total records saved)
2025-05-21 15:21:15,820 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-21 15:21:15,821 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-21 15:21:16,161 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-16 05:38:00+00:00 (122000 total records saved)
2025-05-21 15:21:17,271 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-16 22:18:00+00:00 (123000 total records saved)
2025-05-21 15:21:18,359 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-17 14:58:00+00:00 (124000 total records saved)
2025-05-21 15:21:19,428 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-18 07:38:00+00:00 (125000 total records saved)
2025-05-21 15:21:20,611 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-19 00:18:00+00:00 (126000 total records saved)
2025-05-21 15:21:23,017 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-19 16:58:00+00:00 (127000 total records saved)
2025-05-21 15:21:24,090 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-20 09:38:00+00:00 (128000 total records saved)
2025-05-21 15:21:25,788 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-21 02:18:00+00:00 (129000 total records saved)
2025-05-21 15:21:27,800 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 600 records. Progress: 2025-05-21 12:18:00+00:00 (129600 total records saved)
2025-05-21 15:21:28,666 - ClawBackend - INFO - [market_data.py:421] - No more data available from Binance for BTCUSDT (1m)
2025-05-21 15:21:28,896 - ClawBackend - INFO - [market_data.py:475] - Unregistered background task for BTCUSDT (1m)
2025-05-21 15:21:29,164 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:22:18,984 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:22:39,307 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:22:39,599 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:22:39,876 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:22:44,031 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: invoiceitem.created
2025-05-21 15:22:44,037 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: customer.subscription.updated
2025-05-21 15:22:44,038 - ClawBackend - INFO - [paid_plans.py:619] - Processing subscription status change to active for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_monthly
2025-05-21 15:22:44,448 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 15:22:47,280 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: starter_monthly
2025-05-21 15:22:47,284 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: invoiceitem.created
2025-05-21 15:22:47,759 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: payment_intent.created
2025-05-21 15:23:11,277 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:23:11,584 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:23:11,891 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:23:58,483 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:23:58,801 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:23:59,201 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:24:03,609 - ClawBackend - INFO - [paid_plans.py:490] - Processing webhook event: payment_intent.created
2025-05-21 15:28:09,395 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:28:56,819 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:32:01,076 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:32:53,653 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:33:28,021 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:34:02,992 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:34:12,289 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:34:12,682 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:34:12,989 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:34:19,289 - ClawBackend - INFO - [paid_plans.py:535] - Processing webhook event: payment_intent.created
2025-05-21 15:34:38,692 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:34:38,999 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:34:39,284 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:41:04,895 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for WBTCUSDT (1m)
2025-05-21 15:41:04,967 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for WBTCUSDT (1m)
2025-05-21 15:41:06,041 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-21 15:41:06,550 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-21 15:41:06,557 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for WBTCUSDT (1m), fetching from Binance
2025-05-21 15:41:09,540 - ClawBackend - INFO - [market_data.py:369] - Initiating background task to get and save full historical data
2025-05-21 15:41:09,543 - ClawBackend - INFO - [market_data.py:379] - Returning 98 records from Binance for page 1
2025-05-21 15:41:09,616 - ClawBackend - INFO - [market_data.py:399] - Started background task to fetch full history for WBTCUSDT (1m)
2025-05-21 15:41:09,633 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-21 15:41:13,739 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 962 records. Progress: 2025-02-21 05:21:00+00:00 (962 total records saved)
2025-05-21 15:41:15,023 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 943 records. Progress: 2025-02-21 22:01:00+00:00 (1905 total records saved)
2025-05-21 15:41:16,133 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 929 records. Progress: 2025-02-22 14:41:00+00:00 (2834 total records saved)
2025-05-21 15:41:17,318 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 927 records. Progress: 2025-02-23 07:21:00+00:00 (3761 total records saved)
2025-05-21 15:41:18,566 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 918 records. Progress: 2025-02-24 00:01:00+00:00 (4679 total records saved)
2025-05-21 15:41:20,329 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 984 records. Progress: 2025-02-24 16:41:00+00:00 (5663 total records saved)
2025-05-21 15:41:21,453 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 994 records. Progress: 2025-02-25 09:21:00+00:00 (6657 total records saved)
2025-05-21 15:41:22,940 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 990 records. Progress: 2025-02-26 02:01:00+00:00 (7647 total records saved)
2025-05-21 15:41:24,098 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 989 records. Progress: 2025-02-26 18:41:00+00:00 (8636 total records saved)
2025-05-21 15:41:25,256 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 989 records. Progress: 2025-02-27 11:21:00+00:00 (9625 total records saved)
2025-05-21 15:41:26,422 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 982 records. Progress: 2025-02-28 04:01:00+00:00 (10607 total records saved)
2025-05-21 15:41:27,549 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 20:41:00+00:00 (11607 total records saved)
2025-05-21 15:41:28,816 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 13:21:00+00:00 (12607 total records saved)
2025-05-21 15:41:30,037 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 06:01:00+00:00 (13607 total records saved)
2025-05-21 15:41:31,851 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 22:41:00+00:00 (14607 total records saved)
2025-05-21 15:41:33,705 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 15:21:00+00:00 (15607 total records saved)
2025-05-21 15:41:34,904 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 998 records. Progress: 2025-03-04 08:01:00+00:00 (16605 total records saved)
2025-05-21 15:41:36,119 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 999 records. Progress: 2025-03-05 00:41:00+00:00 (17604 total records saved)
2025-05-21 15:41:38,810 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 994 records. Progress: 2025-03-05 17:21:00+00:00 (18598 total records saved)
2025-05-21 15:41:40,005 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 992 records. Progress: 2025-03-06 10:01:00+00:00 (19590 total records saved)
2025-05-21 15:41:41,218 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 984 records. Progress: 2025-03-07 02:41:00+00:00 (20574 total records saved)
2025-05-21 15:41:42,340 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 973 records. Progress: 2025-03-07 19:21:00+00:00 (21547 total records saved)
2025-05-21 15:41:43,782 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 967 records. Progress: 2025-03-08 12:01:00+00:00 (22514 total records saved)
2025-05-21 15:41:44,908 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 894 records. Progress: 2025-03-09 04:41:00+00:00 (23408 total records saved)
2025-05-21 15:41:46,052 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 943 records. Progress: 2025-03-09 21:21:00+00:00 (24351 total records saved)
2025-05-21 15:41:47,891 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 995 records. Progress: 2025-03-10 14:01:00+00:00 (25346 total records saved)
2025-05-21 15:41:49,035 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 991 records. Progress: 2025-03-11 06:41:00+00:00 (26337 total records saved)
2025-05-21 15:41:50,790 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 974 records. Progress: 2025-03-11 23:21:00+00:00 (27311 total records saved)
2025-05-21 15:41:51,918 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 959 records. Progress: 2025-03-12 16:01:00+00:00 (28270 total records saved)
2025-05-21 15:41:53,848 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 956 records. Progress: 2025-03-13 08:41:00+00:00 (29226 total records saved)
2025-05-21 15:41:54,966 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 930 records. Progress: 2025-03-14 01:21:00+00:00 (30156 total records saved)
2025-05-21 15:41:57,518 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 976 records. Progress: 2025-03-14 18:01:00+00:00 (31132 total records saved)
2025-05-21 15:41:58,651 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 756 records. Progress: 2025-03-15 10:41:00+00:00 (31888 total records saved)
2025-05-21 15:41:59,890 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 701 records. Progress: 2025-03-16 03:20:00+00:00 (32589 total records saved)
2025-05-21 15:42:01,026 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 781 records. Progress: 2025-03-16 20:00:00+00:00 (33370 total records saved)
2025-05-21 15:42:02,560 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 805 records. Progress: 2025-03-17 12:40:00+00:00 (34175 total records saved)
2025-05-21 15:42:03,713 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 810 records. Progress: 2025-03-18 05:20:00+00:00 (34985 total records saved)
2025-05-21 15:42:04,881 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 856 records. Progress: 2025-03-18 22:00:00+00:00 (35841 total records saved)
2025-05-21 15:42:05,977 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 802 records. Progress: 2025-03-19 14:40:00+00:00 (36643 total records saved)
2025-05-21 15:42:08,141 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 798 records. Progress: 2025-03-20 07:20:00+00:00 (37441 total records saved)
2025-05-21 15:42:10,201 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 832 records. Progress: 2025-03-21 00:00:00+00:00 (38273 total records saved)
2025-05-21 15:42:11,314 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 775 records. Progress: 2025-03-21 16:40:00+00:00 (39048 total records saved)
2025-05-21 15:42:12,715 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 666 records. Progress: 2025-03-22 09:17:00+00:00 (39714 total records saved)
2025-05-21 15:42:13,801 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 548 records. Progress: 2025-03-23 01:55:00+00:00 (40262 total records saved)
2025-05-21 15:42:14,905 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 610 records. Progress: 2025-03-23 18:34:00+00:00 (40872 total records saved)
2025-05-21 15:42:16,023 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 742 records. Progress: 2025-03-24 11:14:00+00:00 (41614 total records saved)
2025-05-21 15:42:17,149 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 875 records. Progress: 2025-03-25 03:53:00+00:00 (42489 total records saved)
2025-05-21 15:42:18,315 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 825 records. Progress: 2025-03-25 20:33:00+00:00 (43314 total records saved)
2025-05-21 15:42:19,715 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 798 records. Progress: 2025-03-26 13:13:00+00:00 (44112 total records saved)
2025-05-21 15:42:21,145 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 840 records. Progress: 2025-03-27 05:53:00+00:00 (44952 total records saved)
2025-05-21 15:42:23,272 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 857 records. Progress: 2025-03-27 22:33:00+00:00 (45809 total records saved)
2025-05-21 15:42:24,530 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 961 records. Progress: 2025-03-28 15:13:00+00:00 (46770 total records saved)
2025-05-21 15:42:25,717 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 862 records. Progress: 2025-03-29 07:53:00+00:00 (47632 total records saved)
2025-05-21 15:42:26,821 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 821 records. Progress: 2025-03-30 00:33:00+00:00 (48453 total records saved)
2025-05-21 15:42:27,966 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 779 records. Progress: 2025-03-30 17:13:00+00:00 (49232 total records saved)
2025-05-21 15:42:29,507 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 811 records. Progress: 2025-03-31 09:52:00+00:00 (50043 total records saved)
2025-05-21 15:42:30,616 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 886 records. Progress: 2025-04-01 02:32:00+00:00 (50929 total records saved)
2025-05-21 15:42:30,620 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for WBTCUSDT
2025-05-21 15:42:30,621 - ClawBackend - INFO - [market_data.py:341] - Closing connection for WBTCUSDT
2025-05-21 15:42:31,829 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 888 records. Progress: 2025-04-01 19:12:00+00:00 (51817 total records saved)
2025-05-21 15:42:32,953 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 817 records. Progress: 2025-04-02 11:52:00+00:00 (52634 total records saved)
2025-05-21 15:42:34,050 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 959 records. Progress: 2025-04-03 04:32:00+00:00 (53593 total records saved)
2025-05-21 15:42:35,166 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 928 records. Progress: 2025-04-03 21:12:00+00:00 (54521 total records saved)
2025-05-21 15:42:36,276 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 880 records. Progress: 2025-04-04 13:52:00+00:00 (55401 total records saved)
2025-05-21 15:42:37,374 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 823 records. Progress: 2025-04-05 06:32:00+00:00 (56224 total records saved)
2025-05-21 15:42:38,534 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 851 records. Progress: 2025-04-05 23:12:00+00:00 (57075 total records saved)
2025-05-21 15:42:39,651 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 705 records. Progress: 2025-04-06 15:52:00+00:00 (57780 total records saved)
2025-05-21 15:42:40,759 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 987 records. Progress: 2025-04-07 08:32:00+00:00 (58767 total records saved)
2025-05-21 15:42:41,892 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 988 records. Progress: 2025-04-08 01:12:00+00:00 (59755 total records saved)
2025-05-21 15:42:42,989 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 920 records. Progress: 2025-04-08 17:52:00+00:00 (60675 total records saved)
2025-05-21 15:42:44,091 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 952 records. Progress: 2025-04-09 10:32:00+00:00 (61627 total records saved)
2025-05-21 15:42:45,391 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 938 records. Progress: 2025-04-10 03:12:00+00:00 (62565 total records saved)
2025-05-21 15:42:46,551 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 884 records. Progress: 2025-04-10 19:52:00+00:00 (63449 total records saved)
2025-05-21 15:42:47,659 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 923 records. Progress: 2025-04-11 12:32:00+00:00 (64372 total records saved)
2025-05-21 15:42:48,759 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 882 records. Progress: 2025-04-12 05:12:00+00:00 (65254 total records saved)
2025-05-21 15:42:49,842 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 868 records. Progress: 2025-04-12 21:49:00+00:00 (66122 total records saved)
2025-05-21 15:42:50,966 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 799 records. Progress: 2025-04-13 14:29:00+00:00 (66921 total records saved)
2025-05-21 15:42:52,069 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 853 records. Progress: 2025-04-14 07:08:00+00:00 (67774 total records saved)
2025-05-21 15:42:53,508 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 869 records. Progress: 2025-04-14 23:45:00+00:00 (68643 total records saved)
2025-05-21 15:42:54,642 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 843 records. Progress: 2025-04-15 16:25:00+00:00 (69486 total records saved)
2025-05-21 15:42:55,853 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 809 records. Progress: 2025-04-16 09:05:00+00:00 (70295 total records saved)
2025-05-21 15:42:57,040 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 869 records. Progress: 2025-04-17 01:45:00+00:00 (71164 total records saved)
2025-05-21 15:42:58,120 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 720 records. Progress: 2025-04-17 18:25:00+00:00 (71884 total records saved)
2025-05-21 15:42:59,312 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 702 records. Progress: 2025-04-18 11:05:00+00:00 (72586 total records saved)
2025-05-21 15:43:00,534 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 627 records. Progress: 2025-04-19 03:45:00+00:00 (73213 total records saved)
2025-05-21 15:43:01,641 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 686 records. Progress: 2025-04-19 20:25:00+00:00 (73899 total records saved)
2025-05-21 15:43:02,719 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 618 records. Progress: 2025-04-20 13:05:00+00:00 (74517 total records saved)
2025-05-21 15:43:04,015 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 707 records. Progress: 2025-04-21 05:45:00+00:00 (75224 total records saved)
2025-05-21 15:43:06,122 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 762 records. Progress: 2025-04-21 22:25:00+00:00 (75986 total records saved)
2025-05-21 15:43:07,281 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 843 records. Progress: 2025-04-22 15:05:00+00:00 (76829 total records saved)
2025-05-21 15:43:08,755 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 910 records. Progress: 2025-04-23 07:45:00+00:00 (77739 total records saved)
2025-05-21 15:43:09,886 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 940 records. Progress: 2025-04-24 00:25:00+00:00 (78679 total records saved)
2025-05-21 15:43:12,048 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 960 records. Progress: 2025-04-24 17:05:00+00:00 (79639 total records saved)
2025-05-21 15:43:13,138 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 937 records. Progress: 2025-04-25 09:45:00+00:00 (80576 total records saved)
2025-05-21 15:43:14,287 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 946 records. Progress: 2025-04-26 02:25:00+00:00 (81522 total records saved)
2025-05-21 15:43:15,726 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 884 records. Progress: 2025-04-26 19:05:00+00:00 (82406 total records saved)
2025-05-21 15:43:16,835 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 859 records. Progress: 2025-04-27 11:45:00+00:00 (83265 total records saved)
2025-05-21 15:43:18,078 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 898 records. Progress: 2025-04-28 04:25:00+00:00 (84163 total records saved)
2025-05-21 15:43:19,210 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 953 records. Progress: 2025-04-28 21:05:00+00:00 (85116 total records saved)
2025-05-21 15:43:20,474 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 931 records. Progress: 2025-04-29 13:45:00+00:00 (86047 total records saved)
2025-05-21 15:43:21,598 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 932 records. Progress: 2025-04-30 06:25:00+00:00 (86979 total records saved)
2025-05-21 15:43:22,872 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 911 records. Progress: 2025-04-30 23:05:00+00:00 (87890 total records saved)
2025-05-21 15:43:24,016 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 892 records. Progress: 2025-05-01 15:45:00+00:00 (88782 total records saved)
2025-05-21 15:43:25,093 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 892 records. Progress: 2025-05-02 08:25:00+00:00 (89674 total records saved)
2025-05-21 15:43:26,326 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 915 records. Progress: 2025-05-03 01:05:00+00:00 (90589 total records saved)
2025-05-21 15:43:28,892 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 805 records. Progress: 2025-05-03 17:45:00+00:00 (91394 total records saved)
2025-05-21 15:43:30,040 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 860 records. Progress: 2025-05-04 10:25:00+00:00 (92254 total records saved)
2025-05-21 15:43:31,177 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 875 records. Progress: 2025-05-05 03:04:00+00:00 (93129 total records saved)
2025-05-21 15:43:32,258 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 908 records. Progress: 2025-05-05 19:44:00+00:00 (94037 total records saved)
2025-05-21 15:43:33,281 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 887 records. Progress: 2025-05-06 12:24:00+00:00 (94924 total records saved)
2025-05-21 15:43:34,434 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 949 records. Progress: 2025-05-07 05:04:00+00:00 (95873 total records saved)
2025-05-21 15:43:35,592 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 923 records. Progress: 2025-05-07 21:44:00+00:00 (96796 total records saved)
2025-05-21 15:43:36,727 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 942 records. Progress: 2025-05-08 14:24:00+00:00 (97738 total records saved)
2025-05-21 15:43:37,999 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 972 records. Progress: 2025-05-09 07:04:00+00:00 (98710 total records saved)
2025-05-21 15:43:39,116 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 946 records. Progress: 2025-05-09 23:44:00+00:00 (99656 total records saved)
2025-05-21 15:43:40,236 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 961 records. Progress: 2025-05-10 16:24:00+00:00 (100617 total records saved)
2025-05-21 15:43:41,432 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 971 records. Progress: 2025-05-11 09:04:00+00:00 (101588 total records saved)
2025-05-21 15:43:43,729 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 922 records. Progress: 2025-05-12 01:44:00+00:00 (102510 total records saved)
2025-05-21 15:43:44,855 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 971 records. Progress: 2025-05-12 18:24:00+00:00 (103481 total records saved)
2025-05-21 15:43:46,049 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 923 records. Progress: 2025-05-13 11:04:00+00:00 (104404 total records saved)
2025-05-21 15:43:48,163 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 981 records. Progress: 2025-05-14 03:44:00+00:00 (105385 total records saved)
2025-05-21 15:43:49,298 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 952 records. Progress: 2025-05-14 20:24:00+00:00 (106337 total records saved)
2025-05-21 15:43:50,411 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 929 records. Progress: 2025-05-15 13:04:00+00:00 (107266 total records saved)
2025-05-21 15:43:51,537 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 982 records. Progress: 2025-05-16 05:44:00+00:00 (108248 total records saved)
2025-05-21 15:43:52,856 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 959 records. Progress: 2025-05-16 22:24:00+00:00 (109207 total records saved)
2025-05-21 15:43:54,578 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 917 records. Progress: 2025-05-17 15:04:00+00:00 (110124 total records saved)
2025-05-21 15:43:55,676 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 889 records. Progress: 2025-05-18 07:44:00+00:00 (111013 total records saved)
2025-05-21 15:43:57,199 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 928 records. Progress: 2025-05-19 00:24:00+00:00 (111941 total records saved)
2025-05-21 15:43:58,699 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 982 records. Progress: 2025-05-19 17:04:00+00:00 (112923 total records saved)
2025-05-21 15:43:59,731 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 961 records. Progress: 2025-05-20 09:44:00+00:00 (113884 total records saved)
2025-05-21 15:44:00,830 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 944 records. Progress: 2025-05-21 02:24:00+00:00 (114828 total records saved)
2025-05-21 15:44:01,868 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 585 records. Progress: 2025-05-21 12:40:00+00:00 (115413 total records saved)
2025-05-21 15:44:02,760 - ClawBackend - INFO - [market_data.py:421] - No more data available from Binance for WBTCUSDT (1m)
2025-05-21 15:44:02,831 - ClawBackend - INFO - [market_data.py:475] - Unregistered background task for WBTCUSDT (1m)
2025-05-21 15:45:33,537 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for WBTCUSDT
2025-05-21 15:45:33,539 - ClawBackend - INFO - [market_data.py:341] - Closing connection for WBTCUSDT
2025-05-21 15:45:33,541 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 15:46:47,265 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 15:47:00,162 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:47:00,481 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:47:00,789 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:47:02,637 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RQeNPDIeiQ55dB6cYaxIlrR to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 15:47:03,865 - ClawBackend - INFO - [paid_plans.py:268] - Invoice amount_due: 1799, currency: gbp
2025-05-21 15:47:05,482 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: payment_intent.created
2025-05-21 15:52:29,199 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 15:52:29,513 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 15:52:29,904 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 15:52:32,886 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RQeNPDIeiQ55dB6cYaxIlrR to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC (selected plan: pro_weekly)
2025-05-21 15:52:35,421 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 15:52:39,764 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: customer.subscription.updated
2025-05-21 15:52:39,765 - ClawBackend - INFO - [paid_plans.py:655] - Processing subscription status change to active for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_monthly
2025-05-21 15:52:40,248 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 15:52:43,648 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: starter_monthly
2025-05-21 15:52:43,659 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: invoice.paid
2025-05-21 15:52:43,668 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: invoice.created
2025-05-21 15:52:43,674 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: customer.updated
2025-05-21 15:52:43,687 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: invoice.payment_succeeded
2025-05-21 15:52:43,695 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: invoice.finalized
2025-05-21 15:52:43,708 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: invoiceitem.created
2025-05-21 15:52:45,169 - ClawBackend - INFO - [paid_plans.py:526] - Processing webhook event: invoice.upcoming
2025-05-21 16:02:03,783 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 16:02:04,084 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 16:02:04,378 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 16:02:06,956 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RQeNPDIeiQ55dB6cYaxIlrR to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 16:02:10,748 - ClawBackend - INFO - [paid_plans.py:268] - Invoice amount_due: 1489, currency: gbp
2025-05-21 16:02:11,269 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 16:03:04,379 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 16:03:10,829 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 16:03:11,239 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 16:03:11,546 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 16:03:15,015 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RQeNPDIeiQ55dB6cYaxIlrR to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC (selected plan: pro_weekly)
2025-05-21 16:03:17,802 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:03:24,952 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.payment_succeeded
2025-05-21 16:03:25,075 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.created
2025-05-21 16:03:25,169 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoiceitem.created
2025-05-21 16:03:25,188 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: customer.subscription.updated
2025-05-21 16:03:25,197 - ClawBackend - INFO - [paid_plans.py:656] - Processing subscription status change to active for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_monthly
2025-05-21 16:03:25,548 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:03:28,146 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: starter_monthly
2025-05-21 16:03:28,157 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.paid
2025-05-21 16:03:28,162 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: customer.updated
2025-05-21 16:03:28,169 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.finalized
2025-05-21 16:03:42,544 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.upcoming
2025-05-21 16:06:47,233 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 16:06:47,524 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 16:06:47,819 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 16:06:49,772 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RQeNPDIeiQ55dB6cYaxIlrR to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 16:06:52,090 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:06:55,254 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: customer.subscription.updated
2025-05-21 16:06:55,261 - ClawBackend - INFO - [paid_plans.py:656] - Processing subscription status change to active for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_monthly
2025-05-21 16:06:55,598 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:06:58,365 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: starter_monthly
2025-05-21 16:06:58,369 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: customer.updated
2025-05-21 16:06:58,387 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.paid
2025-05-21 16:06:58,402 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.created
2025-05-21 16:06:58,412 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.finalized
2025-05-21 16:06:58,420 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoice.payment_succeeded
2025-05-21 16:06:58,459 - ClawBackend - INFO - [paid_plans.py:527] - Processing webhook event: invoiceitem.created
2025-05-21 16:21:30,657 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 16:22:42,918 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 16:24:48,526 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 16:25:10,569 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 16:25:10,876 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 16:25:11,182 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: starter_monthly
2025-05-21 16:25:13,140 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RQeNPDIeiQ55dB6cYaxIlrR to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 16:25:14,868 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:25:49,135 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 16:27:04,335 - ClawBackend - INFO - [repository.py:46] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 exists in Firebase
2025-05-21 16:27:04,744 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-21 16:27:05,153 - ClawBackend - INFO - [repository.py:85] - User ZYDDbIu8aoN0lOQ0PnMsHCssn163 has subscription type: pro_monthly
2025-05-21 16:27:06,798 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RQeNPDIeiQ55dB6cYaxIlrR to plan starter_monthly
2025-05-21 16:27:07,229 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {'id': 'sub_1RQeNPDIeiQ55dB6cYaxIlrR', 'object': 'subscription', 'application': None, 'application_fee_percent': None, 'automatic_tax': <AutomaticTax at 0x294d7adc640> JSON: {
  "disabled_reason": null,
  "enabled": false,
  "liability": null
}, 'billing_cycle_anchor': 1747832811, 'billing_cycle_anchor_config': None, 'billing_thresholds': None, 'cancel_at': None, 'cancel_at_period_end': False, 'canceled_at': None, 'cancellation_details': <CancellationDetails at 0x294d7a2a2b0> JSON: {
  "comment": null,
  "feedback": null,
  "reason": null
}, 'collection_method': 'charge_automatically', 'created': 1747702191, 'currency': 'gbp', 'customer': 'cus_SLKi3Xc0dHYMXI', 'days_until_due': None, 'default_payment_method': 'pm_1RQe3IDIeiQ55dB614eHpp33', 'default_source': None, 'default_tax_rates': [], 'description': None, 'discounts': [], 'ended_at': None, 'invoice_settings': <InvoiceSettings at 0x294d7c7b9d0> JSON: {
  "account_tax_ids": null,
  "issuer": {
    "type": "self"
  }
}, 'items': <ListObject list at 0x294be1b5270> JSON: {
  "data": [
    {
      "billing_thresholds": null,
      "created": 1747702192,
      "current_period_end": 1750511211,
      "current_period_start": 1747832811,
      "discounts": [],
      "id": "si_SLL37sQ5mAK9za",
      "metadata": {},
      "object": "subscription_item",
      "plan": {
        "active": true,
        "amount": 3199,
        "amount_decimal": "3199",
        "billing_scheme": "per_unit",
        "created": 1747524611,
        "currency": "gbp",
        "id": "price_1RPuBDDIeiQ55dB6deQ4BKqk",
        "interval": "month",
        "interval_count": 1,
        "livemode": false,
        "metadata": {},
        "meter": null,
        "nickname": null,
        "object": "plan",
        "product": "prod_SKZJKQPLcoix89",
        "tiers_mode": null,
        "transform_usage": null,
        "trial_period_days": null,
        "usage_type": "licensed"
      },
      "price": {
        "active": true,
        "billing_scheme": "per_unit",
        "created": 1747524611,
        "currency": "gbp",
        "custom_unit_amount": null,
        "id": "price_1RPuBDDIeiQ55dB6deQ4BKqk",
        "livemode": false,
        "lookup_key": null,
        "metadata": {},
        "nickname": null,
        "object": "price",
        "product": "prod_SKZJKQPLcoix89",
        "recurring": {
          "interval": "month",
          "interval_count": 1,
          "meter": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "tax_behavior": "unspecified",
        "tiers_mode": null,
        "transform_quantity": null,
        "type": "recurring",
        "unit_amount": 3199,
        "unit_amount_decimal": "3199"
      },
      "quantity": 1,
      "subscription": "sub_1RQeNPDIeiQ55dB6cYaxIlrR",
      "tax_rates": []
    }
  ],
  "has_more": false,
  "object": "list",
  "total_count": 1,
  "url": "/v1/subscription_items?subscription=sub_1RQeNPDIeiQ55dB6cYaxIlrR"
}, 'latest_invoice': 'in_1RRCMCDIeiQ55dB6vRytxaIR', 'livemode': False, 'metadata': <StripeObject at 0x294be1b5040> JSON: {
  "plan_type": "starter_monthly",
  "user_id": "ZYDDbIu8aoN0lOQ0PnMsHCssn163"
}, 'next_pending_invoice_item_invoice': None, 'on_behalf_of': None, 'pause_collection': None, 'payment_settings': <PaymentSettings at 0x294be1b4fa0> JSON: {
  "payment_method_options": null,
  "payment_method_types": null,
  "save_default_payment_method": "on_subscription"
}, 'pending_invoice_item_interval': None, 'pending_setup_intent': None, 'pending_update': None, 'plan': <Plan plan id=price_1RPuBDDIeiQ55dB6deQ4BKqk at 0x294d78066c0> JSON: {
  "active": true,
  "amount": 3199,
  "amount_decimal": "3199",
  "billing_scheme": "per_unit",
  "created": 1747524611,
  "currency": "gbp",
  "id": "price_1RPuBDDIeiQ55dB6deQ4BKqk",
  "interval": "month",
  "interval_count": 1,
  "livemode": false,
  "metadata": {},
  "meter": null,
  "nickname": null,
  "object": "plan",
  "product": "prod_SKZJKQPLcoix89",
  "tiers_mode": null,
  "transform_usage": null,
  "trial_period_days": null,
  "usage_type": "licensed"
}, 'quantity': 1, 'schedule': None, 'start_date': 1747702191, 'status': 'active', 'test_clock': None, 'transfer_data': None, 'trial_end': None, 'trial_settings': <TrialSettings at 0x294d7806850> JSON: {
  "end_behavior": {
    "missing_payment_method": "create_invoice"
  }
}, 'trial_start': None}
2025-05-21 16:29:30,972 - ClawBackend - INFO - [repository.py:46] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 exists in Firebase
2025-05-21 16:29:31,278 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 16:29:31,688 - ClawBackend - INFO - [repository.py:85] - User sTz7YpNFS3MzOHN2blYaFP9MN9u2 has subscription type: starter_monthly
2025-05-21 16:29:33,638 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RQdYjDIeiQ55dB6yY002OD1 to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC (selected plan: pro_weekly)
2025-05-21 16:29:36,305 - ClawBackend - INFO - [repository.py:63] - Firebase updated for sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-21 16:29:39,096 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.created
2025-05-21 16:29:39,122 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.updated
2025-05-21 16:29:39,166 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.created
2025-05-21 16:29:39,270 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.updated
2025-05-21 16:29:39,300 - ClawBackend - INFO - [paid_plans.py:670] - Processing subscription status change to active for user sTz7YpNFS3MzOHN2blYaFP9MN9u2, plan starter_monthly
2025-05-21 16:29:39,602 - ClawBackend - INFO - [repository.py:63] - Firebase updated for sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-21 16:29:41,833 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user sTz7YpNFS3MzOHN2blYaFP9MN9u2: starter_monthly
2025-05-21 16:29:41,839 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.paid
2025-05-21 16:29:41,884 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.payment_succeeded
2025-05-21 16:29:41,894 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.finalized
2025-05-21 16:30:17,757 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.upcoming
2025-05-21 16:31:58,611 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.updated
2025-05-21 16:31:58,616 - ClawBackend - INFO - [paid_plans.py:670] - Processing subscription status change to active for user ZYDDbIu8aoN0lOQ0PnMsHCssn163, plan starter_monthly
2025-05-21 16:31:59,583 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:32:02,185 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: starter_monthly
2025-05-21 16:32:06,201 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.finalized
2025-05-21 16:33:04,045 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.succeeded
2025-05-21 16:33:04,047 - ClawBackend - WARNING - [paid_plans.py:552] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 16:35:36,198 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:35:36,201 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:35:37,067 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:35:39,166 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: free
2025-05-21 16:35:46,281 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:35:46,282 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:35:46,679 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ZYDDbIu8aoN0lOQ0PnMsHCssn163
2025-05-21 16:35:48,393 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ZYDDbIu8aoN0lOQ0PnMsHCssn163: free
2025-05-21 16:35:54,260 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:35:54,261 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-21 16:35:54,667 - ClawBackend - INFO - [repository.py:63] - Firebase updated for sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-21 16:35:56,230 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user sTz7YpNFS3MzOHN2blYaFP9MN9u2: free
2025-05-21 16:36:03,853 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:36:03,855 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-21 16:36:04,146 - ClawBackend - INFO - [repository.py:63] - Firebase updated for sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-21 16:36:07,003 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user sTz7YpNFS3MzOHN2blYaFP9MN9u2: free
2025-05-21 16:36:10,834 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:36:10,836 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-21 16:36:11,427 - ClawBackend - INFO - [repository.py:63] - Firebase updated for sTz7YpNFS3MzOHN2blYaFP9MN9u2
2025-05-21 16:36:14,169 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user sTz7YpNFS3MzOHN2blYaFP9MN9u2: free
2025-05-21 16:37:43,594 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 16:39:35,157 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-21 16:39:35,447 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 16:39:35,736 - ClawBackend - INFO - [repository.py:85] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 has subscription type: test_drive
2025-05-21 16:39:37,314 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RPxBrDIeiQ55dB6vrAQ0822 to price_id price_1RPu76DIeiQ55dB6S32S2sVP (selected plan: starter_monthly)
2025-05-21 16:39:38,466 - ClawBackend - INFO - [paid_plans.py:268] - Invoice amount_due: 1799, currency: gbp
2025-05-21 16:39:39,827 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 16:40:01,767 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.succeeded
2025-05-21 16:40:01,861 - ClawBackend - INFO - [paid_plans.py:548] - Processing successful one-time payment for user fgxotDv1IPaiSgAVVpCwXi91qMD2, plan starter_monthly
2025-05-21 16:40:02,156 - ClawBackend - INFO - [repository.py:63] - Firebase updated for fgxotDv1IPaiSgAVVpCwXi91qMD2
2025-05-21 16:40:03,470 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user fgxotDv1IPaiSgAVVpCwXi91qMD2: starter_monthly
2025-05-21 16:40:03,830 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.succeeded
2025-05-21 16:40:03,832 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.updated
2025-05-21 16:40:17,661 - ClawBackend - INFO - [repository.py:46] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 exists in Firebase
2025-05-21 16:40:17,952 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 16:40:18,240 - ClawBackend - INFO - [repository.py:85] - User fgxotDv1IPaiSgAVVpCwXi91qMD2 has subscription type: starter_monthly
2025-05-21 16:40:19,800 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RPxBrDIeiQ55dB6vrAQ0822 to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 16:40:21,227 - ClawBackend - INFO - [paid_plans.py:268] - Invoice amount_due: 1799, currency: gbp
2025-05-21 16:40:22,114 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.updated
2025-05-21 16:40:22,155 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.created
2025-05-21 16:40:22,156 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.created
2025-05-21 16:40:22,488 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 16:43:34,278 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.canceled
2025-05-21 16:44:04,949 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:08,628 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:08,986 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:08,987 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-21 16:44:09,659 - ClawBackend - INFO - [repository.py:63] - Firebase updated for Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-21 16:44:11,455 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2: free
2025-05-21 16:44:11,460 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:11,461 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-21 16:44:11,774 - ClawBackend - INFO - [repository.py:63] - Firebase updated for Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-21 16:44:13,080 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2: free
2025-05-21 16:44:13,083 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:13,084 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-21 16:44:13,380 - ClawBackend - INFO - [repository.py:63] - Firebase updated for Zdu406N3OoNDb1Pm2NyqCL4D9Tl2
2025-05-21 16:44:14,491 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user Zdu406N3OoNDb1Pm2NyqCL4D9Tl2: free
2025-05-21 16:44:15,061 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:15,061 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user W0Pu7AV4dnVp037yVmtk0MhTtq42
2025-05-21 16:44:15,364 - ClawBackend - INFO - [repository.py:63] - Firebase updated for W0Pu7AV4dnVp037yVmtk0MhTtq42
2025-05-21 16:44:16,635 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user W0Pu7AV4dnVp037yVmtk0MhTtq42: free
2025-05-21 16:44:16,640 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:17,266 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:17,266 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user vb2NMkVJi3bLz9UgvUihzWMBDVK2
2025-05-21 16:44:17,593 - ClawBackend - INFO - [repository.py:63] - Firebase updated for vb2NMkVJi3bLz9UgvUihzWMBDVK2
2025-05-21 16:44:18,826 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vb2NMkVJi3bLz9UgvUihzWMBDVK2: free
2025-05-21 16:44:18,832 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:18,832 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user vb2NMkVJi3bLz9UgvUihzWMBDVK2
2025-05-21 16:44:19,134 - ClawBackend - INFO - [repository.py:63] - Firebase updated for vb2NMkVJi3bLz9UgvUihzWMBDVK2
2025-05-21 16:44:20,273 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vb2NMkVJi3bLz9UgvUihzWMBDVK2: free
2025-05-21 16:44:20,275 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:21,767 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:21,956 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:21,957 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user UOxs1bqmGmTyG2xOUEFI6XDb0gR2
2025-05-21 16:44:22,251 - ClawBackend - INFO - [repository.py:63] - Firebase updated for UOxs1bqmGmTyG2xOUEFI6XDb0gR2
2025-05-21 16:44:23,429 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user UOxs1bqmGmTyG2xOUEFI6XDb0gR2: free
2025-05-21 16:44:26,098 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:26,352 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:26,353 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user Bm4GokxpSfdHsKCadvWT1QcGRRq2
2025-05-21 16:44:26,655 - ClawBackend - INFO - [repository.py:63] - Firebase updated for Bm4GokxpSfdHsKCadvWT1QcGRRq2
2025-05-21 16:44:27,796 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user Bm4GokxpSfdHsKCadvWT1QcGRRq2: free
2025-05-21 16:44:29,170 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:29,417 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:29,483 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:29,788 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:30,914 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-21 16:44:30,920 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:30,921 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:31,223 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:32,480 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-21 16:44:32,485 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:32,486 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:32,785 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:33,927 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-21 16:44:33,930 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:33,931 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:34,226 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:35,402 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-21 16:44:35,407 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:35,409 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:35,707 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:36,895 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-21 16:44:36,900 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:36,901 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:37,219 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:38,353 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-21 16:44:39,102 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:39,108 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:39,471 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:40,688 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-21 16:44:40,692 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:40,692 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:40,992 - ClawBackend - INFO - [repository.py:63] - Firebase updated for kylOea42n4cZmGaY48cmSqYxRus2
2025-05-21 16:44:42,158 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user kylOea42n4cZmGaY48cmSqYxRus2: free
2025-05-21 16:44:42,167 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:43,262 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:43,646 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:43,651 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:43,651 - ClawBackend - INFO - [paid_plans.py:694] - Processing subscription deletion for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-21 16:44:43,974 - ClawBackend - INFO - [repository.py:63] - Firebase updated for 8bgHrh3Xt9SiJtbvsTOctG2CjrI3
2025-05-21 16:44:45,130 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 8bgHrh3Xt9SiJtbvsTOctG2CjrI3: free
2025-05-21 16:44:45,134 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:45,149 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:45,564 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:45,969 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:45,975 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:45,987 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:46,385 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.deleted
2025-05-21 16:44:46,780 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:44:46,783 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.deleted
2025-05-21 16:45:04,457 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.deleted
2025-05-21 16:45:04,566 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.deleted
2025-05-21 16:46:11,807 - ClawBackend - INFO - [repository.py:46] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 exists in Firebase
2025-05-21 16:46:12,130 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 16:46:12,453 - ClawBackend - INFO - [repository.py:85] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 has subscription type: free
2025-05-21 16:46:14,583 - ClawBackend - INFO - [paid_plans.py:319] - Creating Subscription for user FKhfm6kArkX4ppSk11Zx881K6Jb2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-21 16:46:16,649 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.created
2025-05-21 16:46:17,255 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 16:46:17,335 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.updated
2025-05-21 16:46:17,454 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.created
2025-05-21 16:46:17,546 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.created
2025-05-21 16:46:17,642 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.finalized
2025-05-21 16:50:21,730 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 16:53:59,541 - ClawBackend - INFO - [repository.py:46] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 exists in Firebase
2025-05-21 16:53:59,852 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 16:54:00,136 - ClawBackend - INFO - [repository.py:85] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 has subscription type: free
2025-05-21 16:54:01,645 - ClawBackend - INFO - [paid_plans.py:319] - Creating Subscription for user FKhfm6kArkX4ppSk11Zx881K6Jb2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-21 16:54:04,497 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 16:54:05,085 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.created
2025-05-21 16:54:05,088 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.created
2025-05-21 16:54:05,090 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.finalized
2025-05-21 16:58:37,915 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 16:59:21,739 - ClawBackend - INFO - [repository.py:46] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 exists in Firebase
2025-05-21 16:59:22,031 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 16:59:22,332 - ClawBackend - INFO - [repository.py:85] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 has subscription type: free
2025-05-21 16:59:23,847 - ClawBackend - INFO - [paid_plans.py:319] - Creating Subscription for user FKhfm6kArkX4ppSk11Zx881K6Jb2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-21 16:59:25,989 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 16:59:26,281 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.created
2025-05-21 16:59:26,386 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.created
2025-05-21 16:59:26,388 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.finalized
2025-05-21 17:00:37,796 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.succeeded
2025-05-21 17:00:38,285 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.updated
2025-05-21 17:00:38,303 - ClawBackend - INFO - [paid_plans.py:670] - Processing subscription status change to active for user FKhfm6kArkX4ppSk11Zx881K6Jb2, plan starter_monthly
2025-05-21 17:00:39,098 - ClawBackend - INFO - [repository.py:63] - Firebase updated for FKhfm6kArkX4ppSk11Zx881K6Jb2
2025-05-21 17:00:41,423 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user FKhfm6kArkX4ppSk11Zx881K6Jb2: starter_monthly
2025-05-21 17:00:41,427 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.updated
2025-05-21 17:00:41,429 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_method.attached
2025-05-21 17:00:41,431 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.succeeded
2025-05-21 17:00:41,431 - ClawBackend - WARNING - [paid_plans.py:552] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 17:00:41,432 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.paid
2025-05-21 17:00:41,434 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.payment_succeeded
2025-05-21 17:01:25,165 - ClawBackend - INFO - [repository.py:46] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 exists in Firebase
2025-05-21 17:01:25,465 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 17:01:25,750 - ClawBackend - INFO - [repository.py:85] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 has subscription type: starter_monthly
2025-05-21 17:01:27,309 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RRDB3DIeiQ55dB6WZQMQY85 to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 17:01:28,588 - ClawBackend - INFO - [paid_plans.py:268] - Invoice amount_due: 1799, currency: gbp
2025-05-21 17:01:29,709 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.created
2025-05-21 17:01:29,753 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.created
2025-05-21 17:01:29,777 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 17:01:29,782 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.updated
2025-05-21 17:01:29,782 - ClawBackend - INFO - [paid_plans.py:670] - Processing subscription status change to active for user FKhfm6kArkX4ppSk11Zx881K6Jb2, plan starter_monthly
2025-05-21 17:01:30,076 - ClawBackend - INFO - [repository.py:63] - Firebase updated for FKhfm6kArkX4ppSk11Zx881K6Jb2
2025-05-21 17:01:31,259 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user FKhfm6kArkX4ppSk11Zx881K6Jb2: starter_monthly
2025-05-21 17:01:31,261 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 17:01:40,166 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.paid
2025-05-21 17:01:41,971 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.succeeded
2025-05-21 17:01:41,971 - ClawBackend - INFO - [paid_plans.py:548] - Processing successful one-time payment for user FKhfm6kArkX4ppSk11Zx881K6Jb2, plan pro_monthly
2025-05-21 17:01:42,329 - ClawBackend - INFO - [repository.py:63] - Firebase updated for FKhfm6kArkX4ppSk11Zx881K6Jb2
2025-05-21 17:01:43,569 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user FKhfm6kArkX4ppSk11Zx881K6Jb2: pro_monthly
2025-05-21 17:01:43,573 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.succeeded
2025-05-21 17:01:44,415 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.payment_succeeded
2025-05-21 17:01:44,418 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.updated
2025-05-21 17:02:24,656 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.succeeded
2025-05-21 17:02:51,132 - ClawBackend - INFO - [repository.py:46] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 exists in Firebase
2025-05-21 17:02:51,472 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 17:02:51,786 - ClawBackend - INFO - [repository.py:85] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 has subscription type: pro_monthly
2025-05-21 17:02:53,403 - ClawBackend - INFO - [paid_plans.py:319] - Creating Subscription for user FKhfm6kArkX4ppSk11Zx881K6Jb2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-21 17:02:55,412 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 17:02:55,976 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 17:02:56,171 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.created
2025-05-21 17:02:56,278 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.finalized
2025-05-21 17:02:56,281 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.created
2025-05-21 17:03:01,897 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.created
2025-05-21 17:03:21,464 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.succeeded
2025-05-21 17:03:21,510 - ClawBackend - WARNING - [paid_plans.py:552] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 17:03:21,789 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.succeeded
2025-05-21 17:03:21,973 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.updated
2025-05-21 17:03:21,981 - ClawBackend - INFO - [paid_plans.py:670] - Processing subscription status change to active for user FKhfm6kArkX4ppSk11Zx881K6Jb2, plan pro_weekly
2025-05-21 17:03:22,291 - ClawBackend - INFO - [repository.py:63] - Firebase updated for FKhfm6kArkX4ppSk11Zx881K6Jb2
2025-05-21 17:03:24,415 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user FKhfm6kArkX4ppSk11Zx881K6Jb2: pro_weekly
2025-05-21 17:03:24,419 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.updated
2025-05-21 17:03:24,425 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.paid
2025-05-21 17:03:24,429 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.payment_succeeded
2025-05-21 17:03:44,391 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.updated
2025-05-21 17:03:44,906 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.created
2025-05-21 17:03:52,274 - ClawBackend - INFO - [repository.py:46] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 exists in Firebase
2025-05-21 17:03:52,564 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 17:03:52,866 - ClawBackend - INFO - [repository.py:85] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 has subscription type: pro_weekly
2025-05-21 17:03:54,764 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDERDIeiQ55dB6F2HccNmA to plan starter_monthly
2025-05-21 17:03:55,224 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {'id': 'sub_1RRDERDIeiQ55dB6F2HccNmA', 'object': 'subscription', 'application': None, 'application_fee_percent': None, 'automatic_tax': <AutomaticTax at 0x16dc9787a20> JSON: {
  "disabled_reason": null,
  "enabled": false,
  "liability": null
}, 'billing_cycle_anchor': 1747836175, 'billing_cycle_anchor_config': None, 'billing_thresholds': None, 'cancel_at': None, 'cancel_at_period_end': False, 'canceled_at': None, 'cancellation_details': <CancellationDetails at 0x16dc9787070> JSON: {
  "comment": null,
  "feedback": null,
  "reason": null
}, 'collection_method': 'charge_automatically', 'created': 1747836175, 'currency': 'gbp', 'customer': 'cus_SLun53LOlWk39H', 'days_until_due': None, 'default_payment_method': 'pm_1RRDCCDIeiQ55dB68pfgkQmP', 'default_source': None, 'default_tax_rates': [], 'description': None, 'discounts': [], 'ended_at': None, 'invoice_settings': <InvoiceSettings at 0x16dc9787cf0> JSON: {
  "account_tax_ids": null,
  "issuer": {
    "type": "self"
  }
}, 'items': <ListObject list at 0x16dc97870c0> JSON: {
  "data": [
    {
      "billing_thresholds": null,
      "created": 1747836175,
      "current_period_end": 1748440975,
      "current_period_start": 1747836175,
      "discounts": [],
      "id": "si_SLv46tmYYPYLrC",
      "metadata": {},
      "object": "subscription_item",
      "plan": {
        "active": true,
        "amount": 999,
        "amount_decimal": "999",
        "billing_scheme": "per_unit",
        "created": 1747524486,
        "currency": "gbp",
        "id": "price_1RPu9CDIeiQ55dB6dGFWoQAC",
        "interval": "week",
        "interval_count": 1,
        "livemode": false,
        "metadata": {},
        "meter": null,
        "nickname": null,
        "object": "plan",
        "product": "prod_SKZHHRkNfsMhqt",
        "tiers_mode": null,
        "transform_usage": null,
        "trial_period_days": null,
        "usage_type": "licensed"
      },
      "price": {
        "active": true,
        "billing_scheme": "per_unit",
        "created": 1747524486,
        "currency": "gbp",
        "custom_unit_amount": null,
        "id": "price_1RPu9CDIeiQ55dB6dGFWoQAC",
        "livemode": false,
        "lookup_key": null,
        "metadata": {},
        "nickname": null,
        "object": "price",
        "product": "prod_SKZHHRkNfsMhqt",
        "recurring": {
          "interval": "week",
          "interval_count": 1,
          "meter": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "tax_behavior": "unspecified",
        "tiers_mode": null,
        "transform_quantity": null,
        "type": "recurring",
        "unit_amount": 999,
        "unit_amount_decimal": "999"
      },
      "quantity": 1,
      "subscription": "sub_1RRDERDIeiQ55dB6F2HccNmA",
      "tax_rates": []
    }
  ],
  "has_more": false,
  "object": "list",
  "total_count": 1,
  "url": "/v1/subscription_items?subscription=sub_1RRDERDIeiQ55dB6F2HccNmA"
}, 'latest_invoice': 'in_1RRDERDIeiQ55dB6StiiBvvV', 'livemode': False, 'metadata': <StripeObject at 0x16dc9786e90> JSON: {
  "plan_type": "pro_weekly",
  "price_id": "price_1RPu9CDIeiQ55dB6dGFWoQAC",
  "user_id": "FKhfm6kArkX4ppSk11Zx881K6Jb2"
}, 'next_pending_invoice_item_invoice': None, 'on_behalf_of': None, 'pause_collection': None, 'payment_settings': <PaymentSettings at 0x16dc9787d40> JSON: {
  "payment_method_options": null,
  "payment_method_types": null,
  "save_default_payment_method": "on_subscription"
}, 'pending_invoice_item_interval': None, 'pending_setup_intent': None, 'pending_update': None, 'plan': <Plan plan id=price_1RPu9CDIeiQ55dB6dGFWoQAC at 0x16dc9786f30> JSON: {
  "active": true,
  "amount": 999,
  "amount_decimal": "999",
  "billing_scheme": "per_unit",
  "created": 1747524486,
  "currency": "gbp",
  "id": "price_1RPu9CDIeiQ55dB6dGFWoQAC",
  "interval": "week",
  "interval_count": 1,
  "livemode": false,
  "metadata": {},
  "meter": null,
  "nickname": null,
  "object": "plan",
  "product": "prod_SKZHHRkNfsMhqt",
  "tiers_mode": null,
  "transform_usage": null,
  "trial_period_days": null,
  "usage_type": "licensed"
}, 'quantity': 1, 'schedule': None, 'start_date': 1747836175, 'status': 'active', 'test_clock': None, 'transfer_data': None, 'trial_end': None, 'trial_settings': <TrialSettings at 0x16dc9787430> JSON: {
  "end_behavior": {
    "missing_payment_method": "create_invoice"
  }
}, 'trial_start': None}
2025-05-21 17:04:11,747 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.upcoming
2025-05-21 17:04:34,773 - ClawBackend - INFO - [repository.py:46] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 exists in Firebase
2025-05-21 17:04:35,076 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 17:04:35,378 - ClawBackend - INFO - [repository.py:85] - User FKhfm6kArkX4ppSk11Zx881K6Jb2 has subscription type: pro_weekly
2025-05-21 17:04:36,999 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDERDIeiQ55dB6F2HccNmA to plan starter_weekly
2025-05-21 17:04:37,641 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {'id': 'sub_1RRDERDIeiQ55dB6F2HccNmA', 'object': 'subscription', 'application': None, 'application_fee_percent': None, 'automatic_tax': <AutomaticTax at 0x16dc6d44730> JSON: {
  "disabled_reason": null,
  "enabled": false,
  "liability": null
}, 'billing_cycle_anchor': 1747836175, 'billing_cycle_anchor_config': None, 'billing_thresholds': None, 'cancel_at': None, 'cancel_at_period_end': False, 'canceled_at': None, 'cancellation_details': <CancellationDetails at 0x16dc6d44ff0> JSON: {
  "comment": null,
  "feedback": null,
  "reason": null
}, 'collection_method': 'charge_automatically', 'created': 1747836175, 'currency': 'gbp', 'customer': 'cus_SLun53LOlWk39H', 'days_until_due': None, 'default_payment_method': 'pm_1RRDCCDIeiQ55dB68pfgkQmP', 'default_source': None, 'default_tax_rates': [], 'description': None, 'discounts': [], 'ended_at': None, 'invoice_settings': <InvoiceSettings at 0x16dc6d44dc0> JSON: {
  "account_tax_ids": null,
  "issuer": {
    "type": "self"
  }
}, 'items': <ListObject list at 0x16dc6d44e10> JSON: {
  "data": [
    {
      "billing_thresholds": null,
      "created": 1747836175,
      "current_period_end": 1748440975,
      "current_period_start": 1747836175,
      "discounts": [],
      "id": "si_SLv46tmYYPYLrC",
      "metadata": {},
      "object": "subscription_item",
      "plan": {
        "active": true,
        "amount": 999,
        "amount_decimal": "999",
        "billing_scheme": "per_unit",
        "created": 1747524486,
        "currency": "gbp",
        "id": "price_1RPu9CDIeiQ55dB6dGFWoQAC",
        "interval": "week",
        "interval_count": 1,
        "livemode": false,
        "metadata": {},
        "meter": null,
        "nickname": null,
        "object": "plan",
        "product": "prod_SKZHHRkNfsMhqt",
        "tiers_mode": null,
        "transform_usage": null,
        "trial_period_days": null,
        "usage_type": "licensed"
      },
      "price": {
        "active": true,
        "billing_scheme": "per_unit",
        "created": 1747524486,
        "currency": "gbp",
        "custom_unit_amount": null,
        "id": "price_1RPu9CDIeiQ55dB6dGFWoQAC",
        "livemode": false,
        "lookup_key": null,
        "metadata": {},
        "nickname": null,
        "object": "price",
        "product": "prod_SKZHHRkNfsMhqt",
        "recurring": {
          "interval": "week",
          "interval_count": 1,
          "meter": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "tax_behavior": "unspecified",
        "tiers_mode": null,
        "transform_quantity": null,
        "type": "recurring",
        "unit_amount": 999,
        "unit_amount_decimal": "999"
      },
      "quantity": 1,
      "subscription": "sub_1RRDERDIeiQ55dB6F2HccNmA",
      "tax_rates": []
    }
  ],
  "has_more": false,
  "object": "list",
  "total_count": 1,
  "url": "/v1/subscription_items?subscription=sub_1RRDERDIeiQ55dB6F2HccNmA"
}, 'latest_invoice': 'in_1RRDERDIeiQ55dB6StiiBvvV', 'livemode': False, 'metadata': <StripeObject at 0x16dc9a5fed0> JSON: {
  "plan_type": "pro_weekly",
  "price_id": "price_1RPu9CDIeiQ55dB6dGFWoQAC",
  "user_id": "FKhfm6kArkX4ppSk11Zx881K6Jb2"
}, 'next_pending_invoice_item_invoice': None, 'on_behalf_of': None, 'pause_collection': None, 'payment_settings': <PaymentSettings at 0x16dc9a5f890> JSON: {
  "payment_method_options": null,
  "payment_method_types": null,
  "save_default_payment_method": "on_subscription"
}, 'pending_invoice_item_interval': None, 'pending_setup_intent': None, 'pending_update': None, 'plan': <Plan plan id=price_1RPu9CDIeiQ55dB6dGFWoQAC at 0x16dc9a5f750> JSON: {
  "active": true,
  "amount": 999,
  "amount_decimal": "999",
  "billing_scheme": "per_unit",
  "created": 1747524486,
  "currency": "gbp",
  "id": "price_1RPu9CDIeiQ55dB6dGFWoQAC",
  "interval": "week",
  "interval_count": 1,
  "livemode": false,
  "metadata": {},
  "meter": null,
  "nickname": null,
  "object": "plan",
  "product": "prod_SKZHHRkNfsMhqt",
  "tiers_mode": null,
  "transform_usage": null,
  "trial_period_days": null,
  "usage_type": "licensed"
}, 'quantity': 1, 'schedule': None, 'start_date': 1747836175, 'status': 'active', 'test_clock': None, 'transfer_data': None, 'trial_end': None, 'trial_settings': <TrialSettings at 0x16dc9a5f840> JSON: {
  "end_behavior": {
    "missing_payment_method": "create_invoice"
  }
}, 'trial_start': None}
2025-05-21 17:05:56,267 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:05:56,676 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:05:56,980 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: free
2025-05-21 17:05:59,557 - ClawBackend - INFO - [paid_plans.py:319] - Creating Subscription for user nnrM4aticDSsZoFBEZpXeZOO89G2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-21 17:06:01,727 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.created
2025-05-21 17:06:02,176 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 17:06:02,423 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.updated
2025-05-21 17:06:02,484 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.created
2025-05-21 17:06:02,486 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.created
2025-05-21 17:06:02,593 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.finalized
2025-05-21 17:06:28,123 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.succeeded
2025-05-21 17:06:28,665 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_method.attached
2025-05-21 17:06:28,750 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.succeeded
2025-05-21 17:06:28,752 - ClawBackend - WARNING - [paid_plans.py:552] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 17:06:28,767 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.updated
2025-05-21 17:06:28,768 - ClawBackend - INFO - [paid_plans.py:670] - Processing subscription status change to active for user nnrM4aticDSsZoFBEZpXeZOO89G2, plan starter_weekly
2025-05-21 17:06:29,071 - ClawBackend - INFO - [repository.py:63] - Firebase updated for nnrM4aticDSsZoFBEZpXeZOO89G2
2025-05-21 17:06:30,610 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user nnrM4aticDSsZoFBEZpXeZOO89G2: starter_weekly
2025-05-21 17:06:30,616 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.updated
2025-05-21 17:06:30,620 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.payment_succeeded
2025-05-21 17:06:30,626 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.paid
2025-05-21 17:06:48,883 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.upcoming
2025-05-21 17:07:04,516 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:07:04,799 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:07:05,118 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_weekly
2025-05-21 17:07:06,830 - ClawBackend - INFO - [paid_plans.py:258] - Upgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to price_id price_1RPu76DIeiQ55dB6S32S2sVP (selected plan: starter_monthly)
2025-05-21 17:07:10,599 - ClawBackend - INFO - [paid_plans.py:268] - Invoice amount_due: 1300, currency: gbp
2025-05-21 17:07:12,383 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.created
2025-05-21 17:07:12,408 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoiceitem.created
2025-05-21 17:07:12,426 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.paid
2025-05-21 17:07:12,525 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.succeeded
2025-05-21 17:07:12,531 - ClawBackend - WARNING - [paid_plans.py:552] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 17:07:12,547 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: customer.subscription.updated
2025-05-21 17:07:12,549 - ClawBackend - INFO - [paid_plans.py:670] - Processing subscription status change to active for user nnrM4aticDSsZoFBEZpXeZOO89G2, plan starter_weekly
2025-05-21 17:07:12,925 - ClawBackend - INFO - [repository.py:63] - Firebase updated for nnrM4aticDSsZoFBEZpXeZOO89G2
2025-05-21 17:07:14,163 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user nnrM4aticDSsZoFBEZpXeZOO89G2: starter_weekly
2025-05-21 17:07:14,167 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.finalized
2025-05-21 17:07:14,171 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: invoice.payment_succeeded
2025-05-21 17:07:14,178 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 17:07:14,182 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.succeeded
2025-05-21 17:07:14,184 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.created
2025-05-21 17:07:32,886 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: payment_intent.succeeded
2025-05-21 17:07:32,887 - ClawBackend - INFO - [paid_plans.py:548] - Processing successful one-time payment for user nnrM4aticDSsZoFBEZpXeZOO89G2, plan starter_monthly
2025-05-21 17:07:33,227 - ClawBackend - INFO - [repository.py:63] - Firebase updated for nnrM4aticDSsZoFBEZpXeZOO89G2
2025-05-21 17:07:34,917 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user nnrM4aticDSsZoFBEZpXeZOO89G2: starter_monthly
2025-05-21 17:07:34,921 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.succeeded
2025-05-21 17:07:35,408 - ClawBackend - INFO - [paid_plans.py:541] - Processing webhook event: charge.updated
2025-05-21 17:08:16,715 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:08:17,016 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:08:17,302 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:08:18,959 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:08:19,365 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {'id': 'sub_1RRDHRDIeiQ55dB6FbZp5nzR', 'object': 'subscription', 'application': None, 'application_fee_percent': None, 'automatic_tax': <AutomaticTax at 0x16dcaaf3070> JSON: {
  "disabled_reason": null,
  "enabled": false,
  "liability": null
}, 'billing_cycle_anchor': 1747836428, 'billing_cycle_anchor_config': None, 'billing_thresholds': None, 'cancel_at': None, 'cancel_at_period_end': False, 'canceled_at': None, 'cancellation_details': <CancellationDetails at 0x16dcaaf1f90> JSON: {
  "comment": null,
  "feedback": null,
  "reason": null
}, 'collection_method': 'charge_automatically', 'created': 1747836361, 'currency': 'gbp', 'customer': 'cus_SLv7e4hkiE69T3', 'days_until_due': None, 'default_payment_method': 'pm_1RRDHrDIeiQ55dB669UYzuaJ', 'default_source': None, 'default_tax_rates': [], 'description': None, 'discounts': [], 'ended_at': None, 'invoice_settings': <InvoiceSettings at 0x16dcaaf3bb0> JSON: {
  "account_tax_ids": null,
  "issuer": {
    "type": "self"
  }
}, 'items': <ListObject list at 0x16dcaaf23a0> JSON: {
  "data": [
    {
      "billing_thresholds": null,
      "created": 1747836362,
      "current_period_end": 1750514828,
      "current_period_start": 1747836428,
      "discounts": [],
      "id": "si_SLv7XCP6MYpHlG",
      "metadata": {},
      "object": "subscription_item",
      "plan": {
        "active": true,
        "amount": 1799,
        "amount_decimal": "1799",
        "billing_scheme": "per_unit",
        "created": 1747524356,
        "currency": "gbp",
        "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "interval": "month",
        "interval_count": 1,
        "livemode": false,
        "metadata": {},
        "meter": null,
        "nickname": null,
        "object": "plan",
        "product": "prod_SKZFxdUSg7IZCN",
        "tiers_mode": null,
        "transform_usage": null,
        "trial_period_days": null,
        "usage_type": "licensed"
      },
      "price": {
        "active": true,
        "billing_scheme": "per_unit",
        "created": 1747524356,
        "currency": "gbp",
        "custom_unit_amount": null,
        "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "livemode": false,
        "lookup_key": null,
        "metadata": {},
        "nickname": null,
        "object": "price",
        "product": "prod_SKZFxdUSg7IZCN",
        "recurring": {
          "interval": "month",
          "interval_count": 1,
          "meter": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "tax_behavior": "unspecified",
        "tiers_mode": null,
        "transform_quantity": null,
        "type": "recurring",
        "unit_amount": 1799,
        "unit_amount_decimal": "1799"
      },
      "quantity": 1,
      "subscription": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
      "tax_rates": []
    }
  ],
  "has_more": false,
  "object": "list",
  "total_count": 1,
  "url": "/v1/subscription_items?subscription=sub_1RRDHRDIeiQ55dB6FbZp5nzR"
}, 'latest_invoice': 'in_1RRDIXDIeiQ55dB6kMIV6rEZ', 'livemode': False, 'metadata': <StripeObject at 0x16dcaaf07d0> JSON: {
  "plan_type": "starter_weekly",
  "price_id": "price_1RPu2ZDIeiQ55dB6rpiPHkSu",
  "user_id": "nnrM4aticDSsZoFBEZpXeZOO89G2"
}, 'next_pending_invoice_item_invoice': None, 'on_behalf_of': None, 'pause_collection': None, 'payment_settings': <PaymentSettings at 0x16dcaaf3fc0> JSON: {
  "payment_method_options": null,
  "payment_method_types": null,
  "save_default_payment_method": "on_subscription"
}, 'pending_invoice_item_interval': None, 'pending_setup_intent': None, 'pending_update': None, 'plan': <Plan plan id=price_1RPu76DIeiQ55dB6S32S2sVP at 0x16dcaaf2580> JSON: {
  "active": true,
  "amount": 1799,
  "amount_decimal": "1799",
  "billing_scheme": "per_unit",
  "created": 1747524356,
  "currency": "gbp",
  "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
  "interval": "month",
  "interval_count": 1,
  "livemode": false,
  "metadata": {},
  "meter": null,
  "nickname": null,
  "object": "plan",
  "product": "prod_SKZFxdUSg7IZCN",
  "tiers_mode": null,
  "transform_usage": null,
  "trial_period_days": null,
  "usage_type": "licensed"
}, 'quantity': 1, 'schedule': None, 'start_date': 1747836361, 'status': 'active', 'test_clock': None, 'transfer_data': None, 'trial_end': None, 'trial_settings': <TrialSettings at 0x16dcaaf0550> JSON: {
  "end_behavior": {
    "missing_payment_method": "create_invoice"
  }
}, 'trial_start': None}
2025-05-21 17:10:05,030 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:10:59,899 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:13:13,686 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:13:38,370 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:14:29,863 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:14:30,286 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:14:30,595 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:14:32,527 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:14:33,170 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {'id': 'sub_1RRDHRDIeiQ55dB6FbZp5nzR', 'object': 'subscription', 'application': None, 'application_fee_percent': None, 'automatic_tax': <AutomaticTax at 0x2f5aa1fc780> JSON: {
  "disabled_reason": null,
  "enabled": false,
  "liability": null
}, 'billing_cycle_anchor': 1747836428, 'billing_cycle_anchor_config': None, 'billing_thresholds': None, 'cancel_at': None, 'cancel_at_period_end': False, 'canceled_at': None, 'cancellation_details': <CancellationDetails at 0x2f5aa1fc8c0> JSON: {
  "comment": null,
  "feedback": null,
  "reason": null
}, 'collection_method': 'charge_automatically', 'created': 1747836361, 'currency': 'gbp', 'customer': 'cus_SLv7e4hkiE69T3', 'days_until_due': None, 'default_payment_method': 'pm_1RRDHrDIeiQ55dB669UYzuaJ', 'default_source': None, 'default_tax_rates': [], 'description': None, 'discounts': [], 'ended_at': None, 'invoice_settings': <InvoiceSettings at 0x2f5aa1fc870> JSON: {
  "account_tax_ids": null,
  "issuer": {
    "type": "self"
  }
}, 'items': <ListObject list at 0x2f5aa1ff700> JSON: {
  "data": [
    {
      "billing_thresholds": null,
      "created": 1747836362,
      "current_period_end": 1750514828,
      "current_period_start": 1747836428,
      "discounts": [],
      "id": "si_SLv7XCP6MYpHlG",
      "metadata": {},
      "object": "subscription_item",
      "plan": {
        "active": true,
        "amount": 1799,
        "amount_decimal": "1799",
        "billing_scheme": "per_unit",
        "created": 1747524356,
        "currency": "gbp",
        "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "interval": "month",
        "interval_count": 1,
        "livemode": false,
        "metadata": {},
        "meter": null,
        "nickname": null,
        "object": "plan",
        "product": "prod_SKZFxdUSg7IZCN",
        "tiers_mode": null,
        "transform_usage": null,
        "trial_period_days": null,
        "usage_type": "licensed"
      },
      "price": {
        "active": true,
        "billing_scheme": "per_unit",
        "created": 1747524356,
        "currency": "gbp",
        "custom_unit_amount": null,
        "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "livemode": false,
        "lookup_key": null,
        "metadata": {},
        "nickname": null,
        "object": "price",
        "product": "prod_SKZFxdUSg7IZCN",
        "recurring": {
          "interval": "month",
          "interval_count": 1,
          "meter": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "tax_behavior": "unspecified",
        "tiers_mode": null,
        "transform_quantity": null,
        "type": "recurring",
        "unit_amount": 1799,
        "unit_amount_decimal": "1799"
      },
      "quantity": 1,
      "subscription": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
      "tax_rates": []
    }
  ],
  "has_more": false,
  "object": "list",
  "total_count": 1,
  "url": "/v1/subscription_items?subscription=sub_1RRDHRDIeiQ55dB6FbZp5nzR"
}, 'latest_invoice': 'in_1RRDIXDIeiQ55dB6kMIV6rEZ', 'livemode': False, 'metadata': <StripeObject at 0x2f5aa1fc640> JSON: {
  "plan_type": "starter_weekly",
  "price_id": "price_1RPu2ZDIeiQ55dB6rpiPHkSu",
  "user_id": "nnrM4aticDSsZoFBEZpXeZOO89G2"
}, 'next_pending_invoice_item_invoice': None, 'on_behalf_of': None, 'pause_collection': None, 'payment_settings': <PaymentSettings at 0x2f5aa1ff480> JSON: {
  "payment_method_options": null,
  "payment_method_types": null,
  "save_default_payment_method": "on_subscription"
}, 'pending_invoice_item_interval': None, 'pending_setup_intent': None, 'pending_update': None, 'plan': <Plan plan id=price_1RPu76DIeiQ55dB6S32S2sVP at 0x2f5aa1ff390> JSON: {
  "active": true,
  "amount": 1799,
  "amount_decimal": "1799",
  "billing_scheme": "per_unit",
  "created": 1747524356,
  "currency": "gbp",
  "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
  "interval": "month",
  "interval_count": 1,
  "livemode": false,
  "metadata": {},
  "meter": null,
  "nickname": null,
  "object": "plan",
  "product": "prod_SKZFxdUSg7IZCN",
  "tiers_mode": null,
  "transform_usage": null,
  "trial_period_days": null,
  "usage_type": "licensed"
}, 'quantity': 1, 'schedule': None, 'start_date': 1747836361, 'status': 'active', 'test_clock': None, 'transfer_data': None, 'trial_end': None, 'trial_settings': <TrialSettings at 0x2f5aa1ff340> JSON: {
  "end_behavior": {
    "missing_payment_method": "create_invoice"
  }
}, 'trial_start': None}
2025-05-21 17:20:01,800 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:20:02,124 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:20:02,445 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:20:04,339 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:20:04,817 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {'id': 'sub_1RRDHRDIeiQ55dB6FbZp5nzR', 'object': 'subscription', 'application': None, 'application_fee_percent': None, 'automatic_tax': <AutomaticTax at 0x2f5aa1ffed0> JSON: {
  "disabled_reason": null,
  "enabled": false,
  "liability": null
}, 'billing_cycle_anchor': 1747836428, 'billing_cycle_anchor_config': None, 'billing_thresholds': None, 'cancel_at': None, 'cancel_at_period_end': False, 'canceled_at': None, 'cancellation_details': <CancellationDetails at 0x2f5aa1fcc30> JSON: {
  "comment": null,
  "feedback": null,
  "reason": null
}, 'collection_method': 'charge_automatically', 'created': 1747836361, 'currency': 'gbp', 'customer': 'cus_SLv7e4hkiE69T3', 'days_until_due': None, 'default_payment_method': 'pm_1RRDHrDIeiQ55dB669UYzuaJ', 'default_source': None, 'default_tax_rates': [], 'description': None, 'discounts': [], 'ended_at': None, 'invoice_settings': <InvoiceSettings at 0x2f5aa1fd270> JSON: {
  "account_tax_ids": null,
  "issuer": {
    "type": "self"
  }
}, 'items': <ListObject list at 0x2f5aa1fd2c0> JSON: {
  "data": [
    {
      "billing_thresholds": null,
      "created": 1747836362,
      "current_period_end": 1750514828,
      "current_period_start": 1747836428,
      "discounts": [],
      "id": "si_SLv7XCP6MYpHlG",
      "metadata": {},
      "object": "subscription_item",
      "plan": {
        "active": true,
        "amount": 1799,
        "amount_decimal": "1799",
        "billing_scheme": "per_unit",
        "created": 1747524356,
        "currency": "gbp",
        "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "interval": "month",
        "interval_count": 1,
        "livemode": false,
        "metadata": {},
        "meter": null,
        "nickname": null,
        "object": "plan",
        "product": "prod_SKZFxdUSg7IZCN",
        "tiers_mode": null,
        "transform_usage": null,
        "trial_period_days": null,
        "usage_type": "licensed"
      },
      "price": {
        "active": true,
        "billing_scheme": "per_unit",
        "created": 1747524356,
        "currency": "gbp",
        "custom_unit_amount": null,
        "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "livemode": false,
        "lookup_key": null,
        "metadata": {},
        "nickname": null,
        "object": "price",
        "product": "prod_SKZFxdUSg7IZCN",
        "recurring": {
          "interval": "month",
          "interval_count": 1,
          "meter": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "tax_behavior": "unspecified",
        "tiers_mode": null,
        "transform_quantity": null,
        "type": "recurring",
        "unit_amount": 1799,
        "unit_amount_decimal": "1799"
      },
      "quantity": 1,
      "subscription": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
      "tax_rates": []
    }
  ],
  "has_more": false,
  "object": "list",
  "total_count": 1,
  "url": "/v1/subscription_items?subscription=sub_1RRDHRDIeiQ55dB6FbZp5nzR"
}, 'latest_invoice': 'in_1RRDIXDIeiQ55dB6kMIV6rEZ', 'livemode': False, 'metadata': <StripeObject at 0x2f5aa1fd220> JSON: {
  "plan_type": "starter_weekly",
  "price_id": "price_1RPu2ZDIeiQ55dB6rpiPHkSu",
  "user_id": "nnrM4aticDSsZoFBEZpXeZOO89G2"
}, 'next_pending_invoice_item_invoice': None, 'on_behalf_of': None, 'pause_collection': None, 'payment_settings': <PaymentSettings at 0x2f5aa1fd720> JSON: {
  "payment_method_options": null,
  "payment_method_types": null,
  "save_default_payment_method": "on_subscription"
}, 'pending_invoice_item_interval': None, 'pending_setup_intent': None, 'pending_update': None, 'plan': <Plan plan id=price_1RPu76DIeiQ55dB6S32S2sVP at 0x2f5a777d040> JSON: {
  "active": true,
  "amount": 1799,
  "amount_decimal": "1799",
  "billing_scheme": "per_unit",
  "created": 1747524356,
  "currency": "gbp",
  "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
  "interval": "month",
  "interval_count": 1,
  "livemode": false,
  "metadata": {},
  "meter": null,
  "nickname": null,
  "object": "plan",
  "product": "prod_SKZFxdUSg7IZCN",
  "tiers_mode": null,
  "transform_usage": null,
  "trial_period_days": null,
  "usage_type": "licensed"
}, 'quantity': 1, 'schedule': None, 'start_date': 1747836361, 'status': 'active', 'test_clock': None, 'transfer_data': None, 'trial_end': None, 'trial_settings': <TrialSettings at 0x2f5a777cf50> JSON: {
  "end_behavior": {
    "missing_payment_method": "create_invoice"
  }
}, 'trial_start': None}
2025-05-21 17:21:43,203 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:22:22,875 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:22:36,048 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:22:36,596 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:22:36,928 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:22:38,798 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:22:39,346 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {'id': 'sub_1RRDHRDIeiQ55dB6FbZp5nzR', 'object': 'subscription', 'application': None, 'application_fee_percent': None, 'automatic_tax': <AutomaticTax at 0x22ac5f19720> JSON: {
  "disabled_reason": null,
  "enabled": false,
  "liability": null
}, 'billing_cycle_anchor': 1747836428, 'billing_cycle_anchor_config': None, 'billing_thresholds': None, 'cancel_at': None, 'cancel_at_period_end': False, 'canceled_at': None, 'cancellation_details': <CancellationDetails at 0x22ac5f19d10> JSON: {
  "comment": null,
  "feedback": null,
  "reason": null
}, 'collection_method': 'charge_automatically', 'created': 1747836361, 'currency': 'gbp', 'customer': 'cus_SLv7e4hkiE69T3', 'days_until_due': None, 'default_payment_method': 'pm_1RRDHrDIeiQ55dB669UYzuaJ', 'default_source': None, 'default_tax_rates': [], 'description': None, 'discounts': [], 'ended_at': None, 'invoice_settings': <InvoiceSettings at 0x22ac5f18910> JSON: {
  "account_tax_ids": null,
  "issuer": {
    "type": "self"
  }
}, 'items': <ListObject list at 0x22ac5f188c0> JSON: {
  "data": [
    {
      "billing_thresholds": null,
      "created": 1747836362,
      "current_period_end": 1750514828,
      "current_period_start": 1747836428,
      "discounts": [],
      "id": "si_SLv7XCP6MYpHlG",
      "metadata": {},
      "object": "subscription_item",
      "plan": {
        "active": true,
        "amount": 1799,
        "amount_decimal": "1799",
        "billing_scheme": "per_unit",
        "created": 1747524356,
        "currency": "gbp",
        "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "interval": "month",
        "interval_count": 1,
        "livemode": false,
        "metadata": {},
        "meter": null,
        "nickname": null,
        "object": "plan",
        "product": "prod_SKZFxdUSg7IZCN",
        "tiers_mode": null,
        "transform_usage": null,
        "trial_period_days": null,
        "usage_type": "licensed"
      },
      "price": {
        "active": true,
        "billing_scheme": "per_unit",
        "created": 1747524356,
        "currency": "gbp",
        "custom_unit_amount": null,
        "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
        "livemode": false,
        "lookup_key": null,
        "metadata": {},
        "nickname": null,
        "object": "price",
        "product": "prod_SKZFxdUSg7IZCN",
        "recurring": {
          "interval": "month",
          "interval_count": 1,
          "meter": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "tax_behavior": "unspecified",
        "tiers_mode": null,
        "transform_quantity": null,
        "type": "recurring",
        "unit_amount": 1799,
        "unit_amount_decimal": "1799"
      },
      "quantity": 1,
      "subscription": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
      "tax_rates": []
    }
  ],
  "has_more": false,
  "object": "list",
  "total_count": 1,
  "url": "/v1/subscription_items?subscription=sub_1RRDHRDIeiQ55dB6FbZp5nzR"
}, 'latest_invoice': 'in_1RRDIXDIeiQ55dB6kMIV6rEZ', 'livemode': False, 'metadata': <StripeObject at 0x22ac5f1b700> JSON: {
  "plan_type": "starter_weekly",
  "price_id": "price_1RPu2ZDIeiQ55dB6rpiPHkSu",
  "user_id": "nnrM4aticDSsZoFBEZpXeZOO89G2"
}, 'next_pending_invoice_item_invoice': None, 'on_behalf_of': None, 'pause_collection': None, 'payment_settings': <PaymentSettings at 0x22ac5f18960> JSON: {
  "payment_method_options": null,
  "payment_method_types": null,
  "save_default_payment_method": "on_subscription"
}, 'pending_invoice_item_interval': None, 'pending_setup_intent': None, 'pending_update': None, 'plan': <Plan plan id=price_1RPu76DIeiQ55dB6S32S2sVP at 0x22ac5f1b570> JSON: {
  "active": true,
  "amount": 1799,
  "amount_decimal": "1799",
  "billing_scheme": "per_unit",
  "created": 1747524356,
  "currency": "gbp",
  "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
  "interval": "month",
  "interval_count": 1,
  "livemode": false,
  "metadata": {},
  "meter": null,
  "nickname": null,
  "object": "plan",
  "product": "prod_SKZFxdUSg7IZCN",
  "tiers_mode": null,
  "transform_usage": null,
  "trial_period_days": null,
  "usage_type": "licensed"
}, 'quantity': 1, 'schedule': None, 'start_date': 1747836361, 'status': 'active', 'test_clock': None, 'transfer_data': None, 'trial_end': None, 'trial_settings': <TrialSettings at 0x22ac5f18640> JSON: {
  "end_behavior": {
    "missing_payment_method": "create_invoice"
  }
}, 'trial_start': None}
2025-05-21 17:24:12,720 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:24:18,212 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:24:30,868 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:24:31,157 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:24:31,558 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:24:33,802 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:24:34,450 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {
  "application": null,
  "application_fee_percent": null,
  "automatic_tax": {
    "disabled_reason": null,
    "enabled": false,
    "liability": null
  },
  "billing_cycle_anchor": 1747836428,
  "billing_cycle_anchor_config": null,
  "billing_thresholds": null,
  "cancel_at": null,
  "cancel_at_period_end": false,
  "canceled_at": null,
  "cancellation_details": {
    "comment": null,
    "feedback": null,
    "reason": null
  },
  "collection_method": "charge_automatically",
  "created": 1747836361,
  "currency": "gbp",
  "customer": "cus_SLv7e4hkiE69T3",
  "days_until_due": null,
  "default_payment_method": "pm_1RRDHrDIeiQ55dB669UYzuaJ",
  "default_source": null,
  "default_tax_rates": [],
  "description": null,
  "discounts": [],
  "ended_at": null,
  "id": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
  "invoice_settings": {
    "account_tax_ids": null,
    "issuer": {
      "type": "self"
    }
  },
  "items": {
    "data": [
      {
        "billing_thresholds": null,
        "created": 1747836362,
        "current_period_end": 1750514828,
        "current_period_start": 1747836428,
        "discounts": [],
        "id": "si_SLv7XCP6MYpHlG",
        "metadata": {},
        "object": "subscription_item",
        "plan": {
          "active": true,
          "amount": 1799,
          "amount_decimal": "1799",
          "billing_scheme": "per_unit",
          "created": 1747524356,
          "currency": "gbp",
          "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "interval": "month",
          "interval_count": 1,
          "livemode": false,
          "metadata": {},
          "meter": null,
          "nickname": null,
          "object": "plan",
          "product": "prod_SKZFxdUSg7IZCN",
          "tiers_mode": null,
          "transform_usage": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "price": {
          "active": true,
          "billing_scheme": "per_unit",
          "created": 1747524356,
          "currency": "gbp",
          "custom_unit_amount": null,
          "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "livemode": false,
          "lookup_key": null,
          "metadata": {},
          "nickname": null,
          "object": "price",
          "product": "prod_SKZFxdUSg7IZCN",
          "recurring": {
            "interval": "month",
            "interval_count": 1,
            "meter": null,
            "trial_period_days": null,
            "usage_type": "licensed"
          },
          "tax_behavior": "unspecified",
          "tiers_mode": null,
          "transform_quantity": null,
          "type": "recurring",
          "unit_amount": 1799,
          "unit_amount_decimal": "1799"
        },
        "quantity": 1,
        "subscription": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
        "tax_rates": []
      }
    ],
    "has_more": false,
    "object": "list",
    "total_count": 1,
    "url": "/v1/subscription_items?subscription=sub_1RRDHRDIeiQ55dB6FbZp5nzR"
  },
  "latest_invoice": "in_1RRDIXDIeiQ55dB6kMIV6rEZ",
  "livemode": false,
  "metadata": {
    "plan_type": "starter_weekly",
    "price_id": "price_1RPu2ZDIeiQ55dB6rpiPHkSu",
    "user_id": "nnrM4aticDSsZoFBEZpXeZOO89G2"
  },
  "next_pending_invoice_item_invoice": null,
  "object": "subscription",
  "on_behalf_of": null,
  "pause_collection": null,
  "payment_settings": {
    "payment_method_options": null,
    "payment_method_types": null,
    "save_default_payment_method": "on_subscription"
  },
  "pending_invoice_item_interval": null,
  "pending_setup_intent": null,
  "pending_update": null,
  "plan": {
    "active": true,
    "amount": 1799,
    "amount_decimal": "1799",
    "billing_scheme": "per_unit",
    "created": 1747524356,
    "currency": "gbp",
    "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
    "interval": "month",
    "interval_count": 1,
    "livemode": false,
    "metadata": {},
    "meter": null,
    "nickname": null,
    "object": "plan",
    "product": "prod_SKZFxdUSg7IZCN",
    "tiers_mode": null,
    "transform_usage": null,
    "trial_period_days": null,
    "usage_type": "licensed"
  },
  "quantity": 1,
  "schedule": null,
  "start_date": 1747836361,
  "status": "active",
  "test_clock": null,
  "transfer_data": null,
  "trial_end": null,
  "trial_settings": {
    "end_behavior": {
      "missing_payment_method": "create_invoice"
    }
  },
  "trial_start": null
}
2025-05-21 17:27:19,157 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:27:40,315 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:27:40,649 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:27:40,955 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:27:43,043 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:27:43,472 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {
  "application": null,
  "application_fee_percent": null,
  "automatic_tax": {
    "disabled_reason": null,
    "enabled": false,
    "liability": null
  },
  "billing_cycle_anchor": 1747836428,
  "billing_cycle_anchor_config": null,
  "billing_thresholds": null,
  "cancel_at": null,
  "cancel_at_period_end": false,
  "canceled_at": null,
  "cancellation_details": {
    "comment": null,
    "feedback": null,
    "reason": null
  },
  "collection_method": "charge_automatically",
  "created": 1747836361,
  "currency": "gbp",
  "customer": "cus_SLv7e4hkiE69T3",
  "days_until_due": null,
  "default_payment_method": "pm_1RRDHrDIeiQ55dB669UYzuaJ",
  "default_source": null,
  "default_tax_rates": [],
  "description": null,
  "discounts": [],
  "ended_at": null,
  "id": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
  "invoice_settings": {
    "account_tax_ids": null,
    "issuer": {
      "type": "self"
    }
  },
  "items": {
    "data": [
      {
        "billing_thresholds": null,
        "created": 1747836362,
        "current_period_end": 1750514828,
        "current_period_start": 1747836428,
        "discounts": [],
        "id": "si_SLv7XCP6MYpHlG",
        "metadata": {},
        "object": "subscription_item",
        "plan": {
          "active": true,
          "amount": 1799,
          "amount_decimal": "1799",
          "billing_scheme": "per_unit",
          "created": 1747524356,
          "currency": "gbp",
          "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "interval": "month",
          "interval_count": 1,
          "livemode": false,
          "metadata": {},
          "meter": null,
          "nickname": null,
          "object": "plan",
          "product": "prod_SKZFxdUSg7IZCN",
          "tiers_mode": null,
          "transform_usage": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "price": {
          "active": true,
          "billing_scheme": "per_unit",
          "created": 1747524356,
          "currency": "gbp",
          "custom_unit_amount": null,
          "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "livemode": false,
          "lookup_key": null,
          "metadata": {},
          "nickname": null,
          "object": "price",
          "product": "prod_SKZFxdUSg7IZCN",
          "recurring": {
            "interval": "month",
            "interval_count": 1,
            "meter": null,
            "trial_period_days": null,
            "usage_type": "licensed"
          },
          "tax_behavior": "unspecified",
          "tiers_mode": null,
          "transform_quantity": null,
          "type": "recurring",
          "unit_amount": 1799,
          "unit_amount_decimal": "1799"
        },
        "quantity": 1,
        "subscription": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
        "tax_rates": []
      }
    ],
    "has_more": false,
    "object": "list",
    "total_count": 1,
    "url": "/v1/subscription_items?subscription=sub_1RRDHRDIeiQ55dB6FbZp5nzR"
  },
  "latest_invoice": "in_1RRDIXDIeiQ55dB6kMIV6rEZ",
  "livemode": false,
  "metadata": {
    "plan_type": "starter_weekly",
    "price_id": "price_1RPu2ZDIeiQ55dB6rpiPHkSu",
    "user_id": "nnrM4aticDSsZoFBEZpXeZOO89G2"
  },
  "next_pending_invoice_item_invoice": null,
  "object": "subscription",
  "on_behalf_of": null,
  "pause_collection": null,
  "payment_settings": {
    "payment_method_options": null,
    "payment_method_types": null,
    "save_default_payment_method": "on_subscription"
  },
  "pending_invoice_item_interval": null,
  "pending_setup_intent": null,
  "pending_update": null,
  "plan": {
    "active": true,
    "amount": 1799,
    "amount_decimal": "1799",
    "billing_scheme": "per_unit",
    "created": 1747524356,
    "currency": "gbp",
    "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
    "interval": "month",
    "interval_count": 1,
    "livemode": false,
    "metadata": {},
    "meter": null,
    "nickname": null,
    "object": "plan",
    "product": "prod_SKZFxdUSg7IZCN",
    "tiers_mode": null,
    "transform_usage": null,
    "trial_period_days": null,
    "usage_type": "licensed"
  },
  "quantity": 1,
  "schedule": null,
  "start_date": 1747836361,
  "status": "active",
  "test_clock": null,
  "transfer_data": null,
  "trial_end": null,
  "trial_settings": {
    "end_behavior": {
      "missing_payment_method": "create_invoice"
    }
  },
  "trial_start": null
}
2025-05-21 17:27:45,437 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:33:12,326 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:33:22,906 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:33:23,414 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:33:23,728 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:33:26,081 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:33:26,696 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active, full object: {
  "application": null,
  "application_fee_percent": null,
  "automatic_tax": {
    "disabled_reason": null,
    "enabled": false,
    "liability": null
  },
  "billing_cycle_anchor": 1747836428,
  "billing_cycle_anchor_config": null,
  "billing_thresholds": null,
  "cancel_at": null,
  "cancel_at_period_end": false,
  "canceled_at": null,
  "cancellation_details": {
    "comment": null,
    "feedback": null,
    "reason": null
  },
  "collection_method": "charge_automatically",
  "created": 1747836361,
  "currency": "gbp",
  "customer": "cus_SLv7e4hkiE69T3",
  "days_until_due": null,
  "default_payment_method": "pm_1RRDHrDIeiQ55dB669UYzuaJ",
  "default_source": null,
  "default_tax_rates": [],
  "description": null,
  "discounts": [],
  "ended_at": null,
  "id": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
  "invoice_settings": {
    "account_tax_ids": null,
    "issuer": {
      "type": "self"
    }
  },
  "items": {
    "data": [
      {
        "billing_thresholds": null,
        "created": 1747836362,
        "current_period_end": 1750514828,
        "current_period_start": 1747836428,
        "discounts": [],
        "id": "si_SLv7XCP6MYpHlG",
        "metadata": {},
        "object": "subscription_item",
        "plan": {
          "active": true,
          "amount": 1799,
          "amount_decimal": "1799",
          "billing_scheme": "per_unit",
          "created": 1747524356,
          "currency": "gbp",
          "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "interval": "month",
          "interval_count": 1,
          "livemode": false,
          "metadata": {},
          "meter": null,
          "nickname": null,
          "object": "plan",
          "product": "prod_SKZFxdUSg7IZCN",
          "tiers_mode": null,
          "transform_usage": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "price": {
          "active": true,
          "billing_scheme": "per_unit",
          "created": 1747524356,
          "currency": "gbp",
          "custom_unit_amount": null,
          "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "livemode": false,
          "lookup_key": null,
          "metadata": {},
          "nickname": null,
          "object": "price",
          "product": "prod_SKZFxdUSg7IZCN",
          "recurring": {
            "interval": "month",
            "interval_count": 1,
            "meter": null,
            "trial_period_days": null,
            "usage_type": "licensed"
          },
          "tax_behavior": "unspecified",
          "tiers_mode": null,
          "transform_quantity": null,
          "type": "recurring",
          "unit_amount": 1799,
          "unit_amount_decimal": "1799"
        },
        "quantity": 1,
        "subscription": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
        "tax_rates": []
      }
    ],
    "has_more": false,
    "object": "list",
    "total_count": 1,
    "url": "/v1/subscription_items?subscription=sub_1RRDHRDIeiQ55dB6FbZp5nzR"
  },
  "latest_invoice": "in_1RRDIXDIeiQ55dB6kMIV6rEZ",
  "livemode": false,
  "metadata": {
    "plan_type": "starter_weekly",
    "price_id": "price_1RPu2ZDIeiQ55dB6rpiPHkSu",
    "user_id": "nnrM4aticDSsZoFBEZpXeZOO89G2"
  },
  "next_pending_invoice_item_invoice": null,
  "object": "subscription",
  "on_behalf_of": null,
  "pause_collection": null,
  "payment_settings": {
    "payment_method_options": null,
    "payment_method_types": null,
    "save_default_payment_method": "on_subscription"
  },
  "pending_invoice_item_interval": null,
  "pending_setup_intent": null,
  "pending_update": null,
  "plan": {
    "active": true,
    "amount": 1799,
    "amount_decimal": "1799",
    "billing_scheme": "per_unit",
    "created": 1747524356,
    "currency": "gbp",
    "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
    "interval": "month",
    "interval_count": 1,
    "livemode": false,
    "metadata": {},
    "meter": null,
    "nickname": null,
    "object": "plan",
    "product": "prod_SKZFxdUSg7IZCN",
    "tiers_mode": null,
    "transform_usage": null,
    "trial_period_days": null,
    "usage_type": "licensed"
  },
  "quantity": 1,
  "schedule": null,
  "start_date": 1747836361,
  "status": "active",
  "test_clock": null,
  "transfer_data": null,
  "trial_end": null,
  "trial_settings": {
    "end_behavior": {
      "missing_payment_method": "create_invoice"
    }
  },
  "trial_start": null
}
2025-05-21 17:33:26,742 - ClawBackend - ERROR - [logger.py:73] - Subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR missing current_period_end: {
  "application": null,
  "application_fee_percent": null,
  "automatic_tax": {
    "disabled_reason": null,
    "enabled": false,
    "liability": null
  },
  "billing_cycle_anchor": 1747836428,
  "billing_cycle_anchor_config": null,
  "billing_thresholds": null,
  "cancel_at": null,
  "cancel_at_period_end": false,
  "canceled_at": null,
  "cancellation_details": {
    "comment": null,
    "feedback": null,
    "reason": null
  },
  "collection_method": "charge_automatically",
  "created": 1747836361,
  "currency": "gbp",
  "customer": "cus_SLv7e4hkiE69T3",
  "days_until_due": null,
  "default_payment_method": "pm_1RRDHrDIeiQ55dB669UYzuaJ",
  "default_source": null,
  "default_tax_rates": [],
  "description": null,
  "discounts": [],
  "ended_at": null,
  "id": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
  "invoice_settings": {
    "account_tax_ids": null,
    "issuer": {
      "type": "self"
    }
  },
  "items": {
    "data": [
      {
        "billing_thresholds": null,
        "created": 1747836362,
        "current_period_end": 1750514828,
        "current_period_start": 1747836428,
        "discounts": [],
        "id": "si_SLv7XCP6MYpHlG",
        "metadata": {},
        "object": "subscription_item",
        "plan": {
          "active": true,
          "amount": 1799,
          "amount_decimal": "1799",
          "billing_scheme": "per_unit",
          "created": 1747524356,
          "currency": "gbp",
          "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "interval": "month",
          "interval_count": 1,
          "livemode": false,
          "metadata": {},
          "meter": null,
          "nickname": null,
          "object": "plan",
          "product": "prod_SKZFxdUSg7IZCN",
          "tiers_mode": null,
          "transform_usage": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "price": {
          "active": true,
          "billing_scheme": "per_unit",
          "created": 1747524356,
          "currency": "gbp",
          "custom_unit_amount": null,
          "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
          "livemode": false,
          "lookup_key": null,
          "metadata": {},
          "nickname": null,
          "object": "price",
          "product": "prod_SKZFxdUSg7IZCN",
          "recurring": {
            "interval": "month",
            "interval_count": 1,
            "meter": null,
            "trial_period_days": null,
            "usage_type": "licensed"
          },
          "tax_behavior": "unspecified",
          "tiers_mode": null,
          "transform_quantity": null,
          "type": "recurring",
          "unit_amount": 1799,
          "unit_amount_decimal": "1799"
        },
        "quantity": 1,
        "subscription": "sub_1RRDHRDIeiQ55dB6FbZp5nzR",
        "tax_rates": []
      }
    ],
    "has_more": false,
    "object": "list",
    "total_count": 1,
    "url": "/v1/subscription_items?subscription=sub_1RRDHRDIeiQ55dB6FbZp5nzR"
  },
  "latest_invoice": "in_1RRDIXDIeiQ55dB6kMIV6rEZ",
  "livemode": false,
  "metadata": {
    "plan_type": "starter_weekly",
    "price_id": "price_1RPu2ZDIeiQ55dB6rpiPHkSu",
    "user_id": "nnrM4aticDSsZoFBEZpXeZOO89G2"
  },
  "next_pending_invoice_item_invoice": null,
  "object": "subscription",
  "on_behalf_of": null,
  "pause_collection": null,
  "payment_settings": {
    "payment_method_options": null,
    "payment_method_types": null,
    "save_default_payment_method": "on_subscription"
  },
  "pending_invoice_item_interval": null,
  "pending_setup_intent": null,
  "pending_update": null,
  "plan": {
    "active": true,
    "amount": 1799,
    "amount_decimal": "1799",
    "billing_scheme": "per_unit",
    "created": 1747524356,
    "currency": "gbp",
    "id": "price_1RPu76DIeiQ55dB6S32S2sVP",
    "interval": "month",
    "interval_count": 1,
    "livemode": false,
    "metadata": {},
    "meter": null,
    "nickname": null,
    "object": "plan",
    "product": "prod_SKZFxdUSg7IZCN",
    "tiers_mode": null,
    "transform_usage": null,
    "trial_period_days": null,
    "usage_type": "licensed"
  },
  "quantity": 1,
  "schedule": null,
  "start_date": 1747836361,
  "status": "active",
  "test_clock": null,
  "transfer_data": null,
  "trial_end": null,
  "trial_settings": {
    "end_behavior": {
      "missing_payment_method": "create_invoice"
    }
  },
  "trial_start": null
}
2025-05-21 17:37:41,570 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:38:52,737 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:39:17,720 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:39:18,130 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:39:18,540 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:39:20,591 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:39:21,000 - ClawBackend - INFO - [paid_plans.py:299] - Subscription status: active
2025-05-21 17:39:21,001 - ClawBackend - ERROR - [logger.py:73] - Subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR missing current_period_end
2025-05-21 17:40:13,232 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:49:13,957 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:49:57,589 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:50:21,407 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:51:00,267 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:51:10,151 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:51:15,855 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:51:16,162 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:51:16,777 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:51:20,058 - ClawBackend - INFO - [paid_plans.py:297] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:51:20,672 - ClawBackend - INFO - [paid_plans.py:300] - Subscription status: active
2025-05-21 17:51:21,464 - ClawBackend - ERROR - [logger.py:75] - Stripe error: Request req_PtmO9oCyW7VTop: You cannot set `phases` if `from_subscription` is set. | Exception: InvalidRequestError: Request req_PtmO9oCyW7VTop: You cannot set `phases` if `from_subscription` is set. at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err | Exception: InvalidRequestError: Request req_PtmO9oCyW7VTop: You cannot set `phases` if `from_subscription` is set. at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err | Exception: InvalidRequestError: Request req_PtmO9oCyW7VTop: You cannot set `phases` if `from_subscription` is set. at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 310, in initiate_payment_intent_or_subscription
    schedule = stripe.SubscriptionSchedule.create(
        from_subscription=subscription.id,
    ...<3 lines>...
        ]
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_subscription_schedule.py", line 1663, in create
    cls._static_request(
    ~~~~~~~~~~~~~~~~~~~^
        "post",
        ^^^^^^^
        cls.class_url(),
        ^^^^^^^^^^^^^^^^
        params=params,
        ^^^^^^^^^^^^^^
    ),
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_resource.py", line 172, in _static_request
    return _APIRequestor._global_instance().request(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        method_,
        ^^^^^^^^
    ...<3 lines>...
        base_address=base_address,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 197, in request
    resp = requestor._interpret_response(rbody, rcode, rheaders, api_mode)
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 853, in _interpret_response
    self.handle_error_response(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        rbody, rcode, resp.data, rheaders, api_mode
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 336, in handle_error_response
    raise err
stripe._error.InvalidRequestError: Request req_PtmO9oCyW7VTop: You cannot set `phases` if `from_subscription` is set.
2025-05-21 17:55:15,613 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 17:55:42,861 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 17:56:00,849 - ClawBackend - INFO - [repository.py:46] - User nnrM4aticDSsZoFBEZpXeZOO89G2 exists in Firebase
2025-05-21 17:56:01,245 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 17:56:01,655 - ClawBackend - INFO - [repository.py:85] - User nnrM4aticDSsZoFBEZpXeZOO89G2 has subscription type: starter_monthly
2025-05-21 17:56:03,808 - ClawBackend - INFO - [paid_plans.py:298] - Downgrading subscription sub_1RRDHRDIeiQ55dB6FbZp5nzR to plan starter_weekly
2025-05-21 17:56:04,321 - ClawBackend - INFO - [paid_plans.py:302] - Subscription status: active
2025-05-21 17:56:05,995 - ClawBackend - ERROR - [logger.py:75] - Error: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intent_type
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing | Exception: ValidationError: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intent_type
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py:243 in __init__ | Code: validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self) | Exception: ValidationError: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intent_type
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py:243 in __init__ | Code: validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self) | Exception: ValidationError: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intent_type
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py:243 in __init__ | Code: validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 340, in initiate_payment_intent_or_subscription
    return NativeCheckoutResponseSchema(
        publishable_key=STRIPE_PUBLISHABLE_KEY,
    ...<5 lines>...
        message="Downgrade scheduled for end of billing period"
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\pydantic\main.py", line 243, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for NativeCheckoutResponseSchema
client_secret
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intent_type
  Field required [type=missing, input_value={'publishable_key': 'pk_t... end of billing period'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-21 17:56:06,549 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: subscription_schedule.created
2025-05-21 17:56:06,562 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: customer.subscription.updated
2025-05-21 17:56:06,564 - ClawBackend - INFO - [paid_plans.py:701] - Processing subscription status change to active for user nnrM4aticDSsZoFBEZpXeZOO89G2, plan starter_weekly
2025-05-21 17:56:06,881 - ClawBackend - INFO - [repository.py:63] - Firebase updated for nnrM4aticDSsZoFBEZpXeZOO89G2
2025-05-21 17:56:10,157 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user nnrM4aticDSsZoFBEZpXeZOO89G2: starter_weekly
2025-05-21 17:56:10,162 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: subscription_schedule.updated
2025-05-21 17:56:10,634 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: 'builtin_function_or_method' object is not subscriptable | Exception: TypeError: 'builtin_function_or_method' object is not subscriptable at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:739 in stripe_webhook | Code: price_id = current_phase.items[0].price | Exception: TypeError: 'builtin_function_or_method' object is not subscriptable at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:739 in stripe_webhook | Code: price_id = current_phase.items[0].price | Exception: TypeError: 'builtin_function_or_method' object is not subscriptable at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:739 in stripe_webhook | Code: price_id = current_phase.items[0].price
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 739, in stripe_webhook
    price_id = current_phase.items[0].price
               ~~~~~~~~~~~~~~~~~~~^^^
TypeError: 'builtin_function_or_method' object is not subscriptable
2025-05-21 18:00:18,619 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 18:01:11,511 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 18:03:06,927 - ClawBackend - INFO - [repository.py:46] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 exists in Firebase
2025-05-21 18:03:07,235 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-21 18:03:07,540 - ClawBackend - INFO - [repository.py:85] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 has subscription type: free
2025-05-21 18:03:09,896 - ClawBackend - INFO - [paid_plans.py:350] - Creating Subscription for user 3d16hiZnFFP60nBtZN3cOmsrUBm1, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-21 18:03:12,339 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: customer.created
2025-05-21 18:03:12,749 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: payment_intent.created
2025-05-21 18:03:12,857 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: customer.updated
2025-05-21 18:03:12,991 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: customer.subscription.created
2025-05-21 18:03:13,055 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: invoice.created
2025-05-21 18:03:13,187 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: invoice.finalized
2025-05-21 18:03:37,838 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: payment_method.attached
2025-05-21 18:03:37,887 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: payment_intent.succeeded
2025-05-21 18:03:37,961 - ClawBackend - WARNING - [paid_plans.py:583] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 18:03:38,053 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: invoice.payment_succeeded
2025-05-21 18:03:38,102 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: customer.subscription.updated
2025-05-21 18:03:38,120 - ClawBackend - INFO - [paid_plans.py:701] - Processing subscription status change to active for user 3d16hiZnFFP60nBtZN3cOmsrUBm1, plan pro_monthly
2025-05-21 18:03:38,465 - ClawBackend - INFO - [repository.py:63] - Firebase updated for 3d16hiZnFFP60nBtZN3cOmsrUBm1
2025-05-21 18:03:41,026 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 3d16hiZnFFP60nBtZN3cOmsrUBm1: pro_monthly
2025-05-21 18:03:41,030 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: charge.succeeded
2025-05-21 18:03:41,036 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: invoice.paid
2025-05-21 18:03:41,040 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: invoice.updated
2025-05-21 18:04:10,003 - ClawBackend - INFO - [repository.py:46] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 exists in Firebase
2025-05-21 18:04:10,412 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-21 18:04:10,721 - ClawBackend - INFO - [repository.py:85] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 has subscription type: pro_monthly
2025-05-21 18:04:13,085 - ClawBackend - INFO - [paid_plans.py:298] - Downgrading subscription sub_1RREAmDIeiQ55dB6or4wFyoR to plan starter_monthly
2025-05-21 18:04:13,652 - ClawBackend - INFO - [paid_plans.py:302] - Subscription status: active
2025-05-21 18:04:15,483 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: subscription_schedule.created
2025-05-21 18:04:15,487 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: customer.subscription.updated
2025-05-21 18:04:15,488 - ClawBackend - INFO - [paid_plans.py:701] - Processing subscription status change to active for user 3d16hiZnFFP60nBtZN3cOmsrUBm1, plan pro_monthly
2025-05-21 18:04:15,791 - ClawBackend - INFO - [repository.py:63] - Firebase updated for 3d16hiZnFFP60nBtZN3cOmsrUBm1
2025-05-21 18:04:17,481 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user 3d16hiZnFFP60nBtZN3cOmsrUBm1: pro_monthly
2025-05-21 18:04:17,987 - ClawBackend - INFO - [paid_plans.py:572] - Processing webhook event: subscription_schedule.updated
2025-05-21 18:04:18,511 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: 'builtin_function_or_method' object is not subscriptable | Exception: TypeError: 'builtin_function_or_method' object is not subscriptable at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:739 in stripe_webhook | Code: price_id = current_phase.items[0].price | Exception: TypeError: 'builtin_function_or_method' object is not subscriptable at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:739 in stripe_webhook | Code: price_id = current_phase.items[0].price | Exception: TypeError: 'builtin_function_or_method' object is not subscriptable at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:739 in stripe_webhook | Code: price_id = current_phase.items[0].price
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 739, in stripe_webhook
    price_id = current_phase.items[0].price
               ~~~~~~~~~~~~~~~~~~~^^^
TypeError: 'builtin_function_or_method' object is not subscriptable
2025-05-21 18:30:03,033 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 18:30:58,669 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 18:31:01,069 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 18:32:09,467 - ClawBackend - INFO - [repository.py:46] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 exists in Firebase
2025-05-21 18:32:09,856 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-21 18:32:10,347 - ClawBackend - INFO - [repository.py:85] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 has subscription type: pro_monthly
2025-05-21 18:32:12,602 - ClawBackend - INFO - [paid_plans.py:314] - Downgrading subscription sub_1RREAmDIeiQ55dB6or4wFyoR to plan starter_weekly
2025-05-21 18:32:13,232 - ClawBackend - INFO - [paid_plans.py:318] - Subscription status: active
2025-05-21 18:32:13,891 - ClawBackend - ERROR - [logger.py:75] - Stripe error: Request req_lyrnMnVYdWy7IO: Received unknown parameter: status | Exception: InvalidRequestError: Request req_lyrnMnVYdWy7IO: Received unknown parameter: status at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err | Exception: InvalidRequestError: Request req_lyrnMnVYdWy7IO: Received unknown parameter: status at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err | Exception: InvalidRequestError: Request req_lyrnMnVYdWy7IO: Received unknown parameter: status at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 335, in initiate_payment_intent_or_subscription
    schedules_response = stripe.SubscriptionSchedule.list(
        customer=customer_id,
        status="active",
        limit=10
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_subscription_schedule.py", line 1693, in list
    result = cls._static_request(
        "get",
        cls.class_url(),
        params=params,
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_resource.py", line 172, in _static_request
    return _APIRequestor._global_instance().request(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        method_,
        ^^^^^^^^
    ...<3 lines>...
        base_address=base_address,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 197, in request
    resp = requestor._interpret_response(rbody, rcode, rheaders, api_mode)
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 853, in _interpret_response
    self.handle_error_response(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        rbody, rcode, resp.data, rheaders, api_mode
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 336, in handle_error_response
    raise err
stripe._error.InvalidRequestError: Request req_lyrnMnVYdWy7IO: Received unknown parameter: status
2025-05-21 18:34:16,914 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 18:34:39,439 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 18:35:10,075 - ClawBackend - INFO - [repository.py:46] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 exists in Firebase
2025-05-21 18:35:10,362 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-21 18:35:10,649 - ClawBackend - INFO - [repository.py:85] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 has subscription type: pro_monthly
2025-05-21 18:35:12,207 - ClawBackend - INFO - [paid_plans.py:314] - Downgrading subscription sub_1RREAmDIeiQ55dB6or4wFyoR to plan starter_weekly
2025-05-21 18:35:12,614 - ClawBackend - INFO - [paid_plans.py:318] - Subscription status: active
2025-05-21 18:35:13,010 - ClawBackend - INFO - [paid_plans.py:348] - Updating existing subscription schedule sub_sched_1RREBnDIeiQ55dB69STxdlc8 for downgrade
2025-05-21 18:35:14,514 - ClawBackend - INFO - [paid_plans.py:618] - Processing webhook event: subscription_schedule.updated
2025-05-21 18:35:14,591 - ClawBackend - ERROR - [logger.py:75] - Failed to extract price_id: 'items', current_phase: {
  "end_date": 1750518191,
  "start_date": 1747839791
} | Exception: KeyError: 'items' at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:200 in __getitem__ | Code: return super(StripeObject, self).__getitem__(k) | Exception: KeyError: 'items' at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:200 in __getitem__ | Code: return super(StripeObject, self).__getitem__(k) | Exception: KeyError: 'items' at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:200 in __getitem__ | Code: return super(StripeObject, self).__getitem__(k)
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 783, in stripe_webhook
    price_id = current_phase['items'][0]['price']['id']
               ~~~~~~~~~~~~~^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'items'
2025-05-21 18:35:14,594 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: 500: Invalid subscription phase data | Exception: HTTPException: 500: Invalid subscription phase data at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:792 in stripe_webhook | Code: raise HTTPException(status_code=500, detail="Invalid subscription phase data") | Exception: HTTPException: 500: Invalid subscription phase data at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:792 in stripe_webhook | Code: raise HTTPException(status_code=500, detail="Invalid subscription phase data") | Exception: HTTPException: 500: Invalid subscription phase data at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:792 in stripe_webhook | Code: raise HTTPException(status_code=500, detail="Invalid subscription phase data")
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 783, in stripe_webhook
    price_id = current_phase['items'][0]['price']['id']
               ~~~~~~~~~~~~~^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'items'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 792, in stripe_webhook
    raise HTTPException(status_code=500, detail="Invalid subscription phase data")
fastapi.exceptions.HTTPException: 500: Invalid subscription phase data
2025-05-21 18:36:01,712 - ClawBackend - INFO - [repository.py:46] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 exists in Firebase
2025-05-21 18:36:02,282 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-21 18:36:02,599 - ClawBackend - INFO - [repository.py:85] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 has subscription type: pro_monthly
2025-05-21 18:36:04,627 - ClawBackend - INFO - [paid_plans.py:314] - Downgrading subscription sub_1RREAmDIeiQ55dB6or4wFyoR to plan starter_monthly
2025-05-21 18:36:05,213 - ClawBackend - INFO - [paid_plans.py:318] - Subscription status: active
2025-05-21 18:36:05,676 - ClawBackend - INFO - [paid_plans.py:348] - Updating existing subscription schedule sub_sched_1RREBnDIeiQ55dB69STxdlc8 for downgrade
2025-05-21 18:36:07,597 - ClawBackend - INFO - [paid_plans.py:618] - Processing webhook event: subscription_schedule.updated
2025-05-21 18:36:07,600 - ClawBackend - ERROR - [logger.py:75] - Failed to extract price_id: 'items', current_phase: {
  "end_date": 1750518191,
  "start_date": 1747839791
} | Exception: KeyError: 'items' at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:200 in __getitem__ | Code: return super(StripeObject, self).__getitem__(k) | Exception: KeyError: 'items' at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:200 in __getitem__ | Code: return super(StripeObject, self).__getitem__(k) | Exception: KeyError: 'items' at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:200 in __getitem__ | Code: return super(StripeObject, self).__getitem__(k)
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 783, in stripe_webhook
    price_id = current_phase['items'][0]['price']['id']
               ~~~~~~~~~~~~~^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'items'
2025-05-21 18:36:07,639 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: 500: Invalid subscription phase data | Exception: HTTPException: 500: Invalid subscription phase data at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:792 in stripe_webhook | Code: raise HTTPException(status_code=500, detail="Invalid subscription phase data") | Exception: HTTPException: 500: Invalid subscription phase data at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:792 in stripe_webhook | Code: raise HTTPException(status_code=500, detail="Invalid subscription phase data") | Exception: HTTPException: 500: Invalid subscription phase data at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:792 in stripe_webhook | Code: raise HTTPException(status_code=500, detail="Invalid subscription phase data")
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 783, in stripe_webhook
    price_id = current_phase['items'][0]['price']['id']
               ~~~~~~~~~~~~~^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'items'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 792, in stripe_webhook
    raise HTTPException(status_code=500, detail="Invalid subscription phase data")
fastapi.exceptions.HTTPException: 500: Invalid subscription phase data
2025-05-21 18:41:15,846 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 18:41:59,005 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 18:42:12,824 - ClawBackend - INFO - [repository.py:46] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 exists in Firebase
2025-05-21 18:42:13,116 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-21 18:42:13,406 - ClawBackend - INFO - [repository.py:85] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 has subscription type: pro_monthly
2025-05-21 18:42:15,710 - ClawBackend - INFO - [paid_plans.py:314] - Downgrading subscription sub_1RREAmDIeiQ55dB6or4wFyoR to plan starter_monthly
2025-05-21 18:42:16,256 - ClawBackend - INFO - [paid_plans.py:318] - Subscription status: active
2025-05-21 18:42:16,676 - ClawBackend - INFO - [paid_plans.py:348] - Updating existing subscription schedule sub_sched_1RREBnDIeiQ55dB69STxdlc8 for downgrade
2025-05-21 18:46:26,041 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 18:46:55,186 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 18:50:32,257 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 18:50:38,216 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 18:51:52,446 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 18:55:24,926 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 18:56:05,878 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 18:56:21,740 - ClawBackend - INFO - [repository.py:46] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 exists in Firebase
2025-05-21 18:56:22,042 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-21 18:56:22,358 - ClawBackend - INFO - [repository.py:85] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 has subscription type: pro_monthly
2025-05-21 18:56:25,084 - ClawBackend - INFO - [paid_plans.py:396] - Creating Subscription for user 3d16hiZnFFP60nBtZN3cOmsrUBm1, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-21 18:56:27,894 - ClawBackend - INFO - [paid_plans.py:613] - Processing webhook event: payment_intent.created
2025-05-21 18:56:28,252 - ClawBackend - INFO - [paid_plans.py:613] - Processing webhook event: invoice.created
2025-05-21 18:56:28,471 - ClawBackend - INFO - [paid_plans.py:613] - Processing webhook event: invoice.finalized
2025-05-21 18:56:28,492 - ClawBackend - INFO - [paid_plans.py:613] - Processing webhook event: customer.subscription.created
2025-05-21 19:00:25,971 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 19:00:56,237 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 19:01:06,591 - ClawBackend - INFO - [repository.py:46] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 exists in Firebase
2025-05-21 19:01:06,910 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-21 19:01:07,239 - ClawBackend - INFO - [repository.py:85] - User 3d16hiZnFFP60nBtZN3cOmsrUBm1 has subscription type: pro_monthly
2025-05-21 19:01:09,586 - ClawBackend - INFO - [paid_plans.py:314] - Downgrading subscription sub_1RREAmDIeiQ55dB6or4wFyoR to plan pro_weekly
2025-05-21 19:01:10,117 - ClawBackend - INFO - [paid_plans.py:318] - Subscription status: active
2025-05-21 19:01:10,556 - ClawBackend - INFO - [paid_plans.py:348] - Updating existing subscription schedule sub_sched_1RREBnDIeiQ55dB69STxdlc8 for downgrade
2025-05-21 19:01:12,368 - ClawBackend - INFO - [paid_plans.py:611] - Processing webhook event: subscription_schedule.updated
2025-05-21 19:01:12,797 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:830 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:830 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:830 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 830, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 19:41:29,217 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 19:42:24,114 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 19:42:27,655 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.updated
2025-05-21 19:42:27,660 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:753 in stripe_webhook | Code: if not plan_type and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:753 in stripe_webhook | Code: if not plan_type and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:753 in stripe_webhook | Code: if not plan_type and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 753, in stripe_webhook
    if not plan_type and subscription.items.data:
                         ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 19:43:25,545 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.deleted
2025-05-21 19:43:27,084 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: metadata | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'metadata'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 778, in stripe_webhook
    user_id = customer.metadata.get("user_id")
              ^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: metadata
2025-05-21 19:44:02,090 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.deleted
2025-05-21 19:44:02,491 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: metadata | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'metadata'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 778, in stripe_webhook
    user_id = customer.metadata.get("user_id")
              ^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: metadata
2025-05-21 19:44:46,364 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.deleted
2025-05-21 19:44:46,844 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: metadata | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'metadata'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 778, in stripe_webhook
    user_id = customer.metadata.get("user_id")
              ^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: metadata
2025-05-21 19:44:59,219 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.deleted
2025-05-21 19:44:59,655 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: metadata | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'metadata'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 778, in stripe_webhook
    user_id = customer.metadata.get("user_id")
              ^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: metadata
2025-05-21 19:45:29,914 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.deleted
2025-05-21 19:45:30,531 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: metadata | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'metadata'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 778, in stripe_webhook
    user_id = customer.metadata.get("user_id")
              ^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: metadata
2025-05-21 19:47:21,858 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.deleted
2025-05-21 19:47:23,097 - ClawBackend - ERROR - [logger.py:75] - Webhook processing error: metadata | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: metadata at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'metadata'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 778, in stripe_webhook
    user_id = customer.metadata.get("user_id")
              ^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: metadata
2025-05-21 19:47:44,361 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 19:49:57,556 - ClawBackend - INFO - [repository.py:46] - User f2qccYhHfZR6UXwDvTcDG2J8cIl2 exists in Firebase
2025-05-21 19:49:57,885 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-21 19:49:58,304 - ClawBackend - INFO - [repository.py:85] - User f2qccYhHfZR6UXwDvTcDG2J8cIl2 has subscription type: free
2025-05-21 19:50:00,795 - ClawBackend - INFO - [paid_plans.py:412] - Creating Subscription for user f2qccYhHfZR6UXwDvTcDG2J8cIl2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-21 19:50:02,976 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.created
2025-05-21 19:50:03,389 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.created
2025-05-21 19:50:04,234 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: payment_intent.created
2025-05-21 19:50:04,747 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.finalized
2025-05-21 19:50:04,754 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.created
2025-05-21 19:50:04,758 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.updated
2025-05-21 19:50:47,790 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: charge.succeeded
2025-05-21 19:50:48,007 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.updated
2025-05-21 19:50:48,009 - ClawBackend - INFO - [paid_plans.py:756] - Processing subscription status change to active for user f2qccYhHfZR6UXwDvTcDG2J8cIl2, plan pro_weekly
2025-05-21 19:50:48,623 - ClawBackend - INFO - [repository.py:63] - Firebase updated for f2qccYhHfZR6UXwDvTcDG2J8cIl2
2025-05-21 19:50:51,185 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user f2qccYhHfZR6UXwDvTcDG2J8cIl2: pro_weekly
2025-05-21 19:50:51,190 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: payment_intent.succeeded
2025-05-21 19:50:51,191 - ClawBackend - WARNING - [paid_plans.py:638] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 19:50:51,203 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: payment_method.attached
2025-05-21 19:50:51,207 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.paid
2025-05-21 19:50:51,211 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.updated
2025-05-21 19:50:51,213 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.payment_succeeded
2025-05-21 19:51:07,750 - ClawBackend - INFO - [repository.py:46] - User f2qccYhHfZR6UXwDvTcDG2J8cIl2 exists in Firebase
2025-05-21 19:51:08,070 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-21 19:51:08,372 - ClawBackend - INFO - [repository.py:85] - User f2qccYhHfZR6UXwDvTcDG2J8cIl2 has subscription type: pro_weekly
2025-05-21 19:51:10,936 - ClawBackend - INFO - [paid_plans.py:274] - Upgrading subscription sub_1RRFqADIeiQ55dB6M5PTjwA0 to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 19:51:15,705 - ClawBackend - INFO - [paid_plans.py:300] - Invoice amount_due: 2200, currency: gbp
2025-05-21 19:51:17,087 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.upcoming
2025-05-21 19:51:17,397 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.finalized
2025-05-21 19:51:17,405 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.updated
2025-05-21 19:51:17,407 - ClawBackend - INFO - [paid_plans.py:756] - Processing subscription status change to active for user f2qccYhHfZR6UXwDvTcDG2J8cIl2, plan pro_weekly
2025-05-21 19:51:17,756 - ClawBackend - INFO - [repository.py:63] - Firebase updated for f2qccYhHfZR6UXwDvTcDG2J8cIl2
2025-05-21 19:51:19,004 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user f2qccYhHfZR6UXwDvTcDG2J8cIl2: pro_weekly
2025-05-21 19:51:19,007 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: payment_intent.succeeded
2025-05-21 19:51:19,007 - ClawBackend - WARNING - [paid_plans.py:638] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 19:51:19,010 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: charge.succeeded
2025-05-21 19:51:19,012 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: payment_intent.created
2025-05-21 19:51:19,016 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.payment_succeeded
2025-05-21 19:51:19,021 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoiceitem.created
2025-05-21 19:51:19,023 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: payment_intent.created
2025-05-21 19:51:19,024 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.created
2025-05-21 19:51:19,026 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: invoice.paid
2025-05-21 19:53:00,488 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 20:00:31,413 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 20:10:39,916 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 20:13:11,232 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 20:18:27,672 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 20:20:14,235 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 20:25:35,554 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-21 20:33:46,346 - ClawBackend - INFO - [repository.py:46] - User f2qccYhHfZR6UXwDvTcDG2J8cIl2 exists in Firebase
2025-05-21 20:33:49,196 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-21 20:33:50,037 - ClawBackend - INFO - [repository.py:85] - User f2qccYhHfZR6UXwDvTcDG2J8cIl2 has subscription type: pro_weekly
2025-05-21 20:34:03,934 - ClawBackend - INFO - [paid_plans.py:330] - Downgrading subscription sub_1RRFqADIeiQ55dB6M5PTjwA0 to plan starter_monthly
2025-05-21 20:34:06,514 - ClawBackend - INFO - [paid_plans.py:334] - Subscription status: active
2025-05-21 20:34:14,126 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: subscription_schedule.updated
2025-05-21 20:34:14,638 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:846 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:846 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:846 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 846, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 20:34:14,688 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: customer.subscription.updated
2025-05-21 20:34:14,690 - ClawBackend - INFO - [paid_plans.py:756] - Processing subscription status change to active for user f2qccYhHfZR6UXwDvTcDG2J8cIl2, plan pro_weekly
2025-05-21 20:34:16,437 - ClawBackend - INFO - [repository.py:63] - Firebase updated for f2qccYhHfZR6UXwDvTcDG2J8cIl2
2025-05-21 20:34:23,197 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user f2qccYhHfZR6UXwDvTcDG2J8cIl2: pro_weekly
2025-05-21 20:34:23,202 - ClawBackend - INFO - [paid_plans.py:627] - Processing webhook event: subscription_schedule.created
2025-05-21 20:41:25,610 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 20:42:23,297 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 20:46:22,355 - ClawBackend - INFO - [repository.py:46] - User f2qccYhHfZR6UXwDvTcDG2J8cIl2 exists in Firebase
2025-05-21 20:46:22,643 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mappedvision@gmail.com, name=Mapped Vision
2025-05-21 20:46:22,952 - ClawBackend - INFO - [repository.py:85] - User f2qccYhHfZR6UXwDvTcDG2J8cIl2 has subscription type: pro_weekly
2025-05-21 20:46:27,988 - ClawBackend - INFO - [paid_plans.py:334] - Downgrading subscription sub_1RRFqADIeiQ55dB6M5PTjwA0 to plan starter_monthly
2025-05-21 20:46:28,603 - ClawBackend - INFO - [paid_plans.py:338] - Subscription status: active
2025-05-21 20:46:29,290 - ClawBackend - INFO - [paid_plans.py:368] - Updating existing subscription schedule sub_sched_1RRGWsDIeiQ55dB6ajnYj1ef for downgrade
2025-05-21 20:47:19,510 - ClawBackend - INFO - [repository.py:46] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 exists in Firebase
2025-05-21 20:47:19,801 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-21 20:47:20,225 - ClawBackend - INFO - [repository.py:85] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 has subscription type: free
2025-05-21 20:47:23,077 - ClawBackend - INFO - [paid_plans.py:416] - Creating Subscription for user oam5xHPSfuVMMJHjTjTe4Q0robl2, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-21 20:47:25,383 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.created
2025-05-21 20:47:25,778 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: payment_intent.created
2025-05-21 20:47:25,944 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.updated
2025-05-21 20:47:26,097 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.created
2025-05-21 20:47:26,099 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.subscription.created
2025-05-21 20:47:26,130 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.finalized
2025-05-21 20:47:57,530 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: payment_method.attached
2025-05-21 20:47:57,574 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: payment_intent.succeeded
2025-05-21 20:47:57,587 - ClawBackend - WARNING - [paid_plans.py:642] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 20:47:57,632 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.subscription.updated
2025-05-21 20:47:57,639 - ClawBackend - INFO - [paid_plans.py:760] - Processing subscription status change to active for user oam5xHPSfuVMMJHjTjTe4Q0robl2, plan starter_monthly
2025-05-21 20:47:58,303 - ClawBackend - INFO - [repository.py:63] - Firebase updated for oam5xHPSfuVMMJHjTjTe4Q0robl2
2025-05-21 20:48:00,326 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user oam5xHPSfuVMMJHjTjTe4Q0robl2: starter_monthly
2025-05-21 20:48:00,333 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: charge.succeeded
2025-05-21 20:48:00,340 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.payment_succeeded
2025-05-21 20:48:00,346 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.paid
2025-05-21 20:48:00,354 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.updated
2025-05-21 20:48:42,539 - ClawBackend - INFO - [repository.py:46] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 exists in Firebase
2025-05-21 20:48:43,154 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-21 20:48:43,624 - ClawBackend - INFO - [repository.py:85] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 has subscription type: starter_monthly
2025-05-21 20:48:46,229 - ClawBackend - INFO - [paid_plans.py:278] - Upgrading subscription sub_1RRGjhDIeiQ55dB6bm7BM258 to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 20:48:47,969 - ClawBackend - INFO - [paid_plans.py:304] - Invoice amount_due: 1799, currency: gbp
2025-05-21 20:48:49,256 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoiceitem.created
2025-05-21 20:48:49,270 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoiceitem.created
2025-05-21 20:48:49,278 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.subscription.updated
2025-05-21 20:48:49,281 - ClawBackend - INFO - [paid_plans.py:760] - Processing subscription status change to active for user oam5xHPSfuVMMJHjTjTe4Q0robl2, plan starter_monthly
2025-05-21 20:48:49,587 - ClawBackend - INFO - [repository.py:63] - Firebase updated for oam5xHPSfuVMMJHjTjTe4Q0robl2
2025-05-21 20:48:51,450 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user oam5xHPSfuVMMJHjTjTe4Q0robl2: starter_monthly
2025-05-21 20:48:51,454 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: payment_intent.created
2025-05-21 20:49:20,324 - ClawBackend - INFO - [repository.py:46] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 exists in Firebase
2025-05-21 20:49:20,632 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-21 20:49:20,939 - ClawBackend - INFO - [repository.py:85] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 has subscription type: starter_monthly
2025-05-21 20:49:23,708 - ClawBackend - INFO - [paid_plans.py:278] - Upgrading subscription sub_1RRGjhDIeiQ55dB6bm7BM258 to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC (selected plan: pro_weekly)
2025-05-21 20:49:27,290 - ClawBackend - INFO - [repository.py:63] - Firebase updated for oam5xHPSfuVMMJHjTjTe4Q0robl2
2025-05-21 20:49:28,348 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.paid
2025-05-21 20:49:28,375 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.subscription.updated
2025-05-21 20:49:28,392 - ClawBackend - INFO - [paid_plans.py:760] - Processing subscription status change to active for user oam5xHPSfuVMMJHjTjTe4Q0robl2, plan starter_monthly
2025-05-21 20:49:29,029 - ClawBackend - INFO - [repository.py:63] - Firebase updated for oam5xHPSfuVMMJHjTjTe4Q0robl2
2025-05-21 20:49:30,567 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user oam5xHPSfuVMMJHjTjTe4Q0robl2: starter_monthly
2025-05-21 20:49:30,571 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoiceitem.created
2025-05-21 20:49:30,577 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.finalized
2025-05-21 20:49:30,581 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.updated
2025-05-21 20:49:30,588 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.created
2025-05-21 20:49:30,598 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.payment_succeeded
2025-05-21 20:49:42,266 - ClawBackend - INFO - [repository.py:46] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 exists in Firebase
2025-05-21 20:49:42,648 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-21 20:49:43,235 - ClawBackend - INFO - [repository.py:85] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 has subscription type: starter_monthly
2025-05-21 20:49:46,646 - ClawBackend - INFO - [paid_plans.py:278] - Upgrading subscription sub_1RRGjhDIeiQ55dB6bm7BM258 to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC (selected plan: pro_weekly)
2025-05-21 20:49:49,510 - ClawBackend - INFO - [repository.py:63] - Firebase updated for oam5xHPSfuVMMJHjTjTe4Q0robl2
2025-05-21 20:50:18,413 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.upcoming
2025-05-21 20:51:52,973 - ClawBackend - INFO - [repository.py:46] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 exists in Firebase
2025-05-21 20:51:53,619 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=dishutch@gmail.com, name=Dishutch
2025-05-21 20:51:54,233 - ClawBackend - INFO - [repository.py:85] - User oam5xHPSfuVMMJHjTjTe4Q0robl2 has subscription type: pro_weekly
2025-05-21 20:51:56,514 - ClawBackend - INFO - [paid_plans.py:334] - Downgrading subscription sub_1RRGjhDIeiQ55dB6bm7BM258 to plan starter_monthly
2025-05-21 20:51:56,937 - ClawBackend - INFO - [paid_plans.py:338] - Subscription status: active
2025-05-21 20:52:00,135 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.subscription.updated
2025-05-21 20:52:00,136 - ClawBackend - INFO - [paid_plans.py:760] - Processing subscription status change to active for user oam5xHPSfuVMMJHjTjTe4Q0robl2, plan starter_monthly
2025-05-21 20:52:00,444 - ClawBackend - INFO - [repository.py:63] - Firebase updated for oam5xHPSfuVMMJHjTjTe4Q0robl2
2025-05-21 20:52:03,487 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user oam5xHPSfuVMMJHjTjTe4Q0robl2: starter_monthly
2025-05-21 20:52:03,495 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: subscription_schedule.created
2025-05-21 20:52:03,519 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: subscription_schedule.updated
2025-05-21 20:52:04,119 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:850 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:850 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:850 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 850, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 20:53:55,491 - ClawBackend - INFO - [repository.py:46] - User xTSWtEH7swcqzB3rDVTkfey0IWq1 exists in Firebase
2025-05-21 20:53:55,824 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-21 20:53:56,372 - ClawBackend - INFO - [repository.py:85] - User xTSWtEH7swcqzB3rDVTkfey0IWq1 has subscription type: free
2025-05-21 20:54:04,610 - ClawBackend - INFO - [paid_plans.py:416] - Creating Subscription for user xTSWtEH7swcqzB3rDVTkfey0IWq1, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-21 20:54:08,064 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.created
2025-05-21 20:54:09,762 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: payment_intent.created
2025-05-21 20:54:10,316 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.updated
2025-05-21 20:54:10,327 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.subscription.created
2025-05-21 20:54:10,336 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.finalized
2025-05-21 20:54:10,343 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.created
2025-05-21 20:54:34,596 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: payment_intent.succeeded
2025-05-21 20:54:34,606 - ClawBackend - WARNING - [paid_plans.py:642] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 20:54:35,886 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: payment_method.attached
2025-05-21 20:54:35,924 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: charge.succeeded
2025-05-21 20:54:35,977 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: customer.subscription.updated
2025-05-21 20:54:35,984 - ClawBackend - INFO - [paid_plans.py:760] - Processing subscription status change to active for user xTSWtEH7swcqzB3rDVTkfey0IWq1, plan starter_monthly
2025-05-21 20:54:36,308 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xTSWtEH7swcqzB3rDVTkfey0IWq1
2025-05-21 20:54:39,103 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xTSWtEH7swcqzB3rDVTkfey0IWq1: starter_monthly
2025-05-21 20:54:39,112 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.paid
2025-05-21 20:54:39,156 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.payment_succeeded
2025-05-21 20:54:39,167 - ClawBackend - INFO - [paid_plans.py:631] - Processing webhook event: invoice.updated
2025-05-21 20:56:38,238 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 20:58:32,546 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 21:00:14,599 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-21 21:00:49,323 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 21:00:53,475 - ClawBackend - INFO - [repository.py:46] - User xTSWtEH7swcqzB3rDVTkfey0IWq1 exists in Firebase
2025-05-21 21:00:53,986 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-21 21:00:54,396 - ClawBackend - INFO - [repository.py:85] - User xTSWtEH7swcqzB3rDVTkfey0IWq1 has subscription type: starter_monthly
2025-05-21 21:00:58,915 - ClawBackend - INFO - [paid_plans.py:281] - Upgrading subscription sub_1RRGqADIeiQ55dB6F2nJYgaK to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC (selected plan: pro_weekly)
2025-05-21 21:01:04,555 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xTSWtEH7swcqzB3rDVTkfey0IWq1
2025-05-21 21:01:08,796 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.paid
2025-05-21 21:01:08,814 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.payment_succeeded
2025-05-21 21:01:08,831 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.finalized
2025-05-21 21:01:08,841 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoiceitem.created
2025-05-21 21:01:08,846 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.updated
2025-05-21 21:01:08,858 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.created
2025-05-21 21:01:08,864 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:01:08,868 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user xTSWtEH7swcqzB3rDVTkfey0IWq1, plan starter_monthly
2025-05-21 21:01:09,183 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xTSWtEH7swcqzB3rDVTkfey0IWq1
2025-05-21 21:01:11,707 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xTSWtEH7swcqzB3rDVTkfey0IWq1: starter_monthly
2025-05-21 21:01:18,637 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.upcoming
2025-05-21 21:05:24,822 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.deleted
2025-05-21 21:05:24,936 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.deleted
2025-05-21 21:05:24,939 - ClawBackend - INFO - [paid_plans.py:787] - Processing subscription deletion for user xTSWtEH7swcqzB3rDVTkfey0IWq1
2025-05-21 21:05:25,751 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xTSWtEH7swcqzB3rDVTkfey0IWq1
2025-05-21 21:05:28,482 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xTSWtEH7swcqzB3rDVTkfey0IWq1: free
2025-05-21 21:05:28,497 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.deleted
2025-05-21 21:05:28,498 - ClawBackend - INFO - [paid_plans.py:787] - Processing subscription deletion for user f2qccYhHfZR6UXwDvTcDG2J8cIl2
2025-05-21 21:05:28,814 - ClawBackend - INFO - [repository.py:63] - Firebase updated for f2qccYhHfZR6UXwDvTcDG2J8cIl2
2025-05-21 21:05:30,106 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user f2qccYhHfZR6UXwDvTcDG2J8cIl2: free
2025-05-21 21:05:30,139 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.deleted
2025-05-21 21:05:30,140 - ClawBackend - INFO - [paid_plans.py:787] - Processing subscription deletion for user oam5xHPSfuVMMJHjTjTe4Q0robl2
2025-05-21 21:05:30,469 - ClawBackend - INFO - [repository.py:63] - Firebase updated for oam5xHPSfuVMMJHjTjTe4Q0robl2
2025-05-21 21:07:58,611 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 21:12:13,875 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-21 21:12:45,567 - ClawBackend - INFO - [repository.py:46] - User vVIClnsq7pTA99vL7p0X6PblOfg1 exists in Firebase
2025-05-21 21:12:45,930 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 21:12:46,268 - ClawBackend - INFO - [repository.py:85] - User vVIClnsq7pTA99vL7p0X6PblOfg1 has subscription type: free
2025-05-21 21:12:49,050 - ClawBackend - INFO - [paid_plans.py:419] - Creating Subscription for user vVIClnsq7pTA99vL7p0X6PblOfg1, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-21 21:12:51,197 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.created
2025-05-21 21:12:51,672 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-21 21:12:52,023 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.updated
2025-05-21 21:12:52,098 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.created
2025-05-21 21:12:52,100 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.created
2025-05-21 21:12:52,258 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.finalized
2025-05-21 21:13:22,526 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_method.attached
2025-05-21 21:13:23,268 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.succeeded
2025-05-21 21:13:23,311 - ClawBackend - WARNING - [paid_plans.py:645] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 21:13:23,570 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.paid
2025-05-21 21:13:23,604 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.payment_succeeded
2025-05-21 21:13:23,617 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:13:23,618 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user vVIClnsq7pTA99vL7p0X6PblOfg1, plan pro_weekly
2025-05-21 21:13:24,070 - ClawBackend - INFO - [repository.py:63] - Firebase updated for vVIClnsq7pTA99vL7p0X6PblOfg1
2025-05-21 21:13:26,736 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vVIClnsq7pTA99vL7p0X6PblOfg1: pro_weekly
2025-05-21 21:13:26,740 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: charge.succeeded
2025-05-21 21:13:26,744 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.updated
2025-05-21 21:13:53,788 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.upcoming
2025-05-21 21:14:12,102 - ClawBackend - INFO - [repository.py:46] - User vVIClnsq7pTA99vL7p0X6PblOfg1 exists in Firebase
2025-05-21 21:14:12,534 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 21:14:12,831 - ClawBackend - INFO - [repository.py:85] - User vVIClnsq7pTA99vL7p0X6PblOfg1 has subscription type: pro_weekly
2025-05-21 21:14:14,791 - ClawBackend - INFO - [paid_plans.py:337] - Downgrading subscription sub_1RRH8JDIeiQ55dB6MP11bvVM to plan starter_monthly
2025-05-21 21:14:15,274 - ClawBackend - INFO - [paid_plans.py:341] - Subscription status: active
2025-05-21 21:14:19,210 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:14:19,214 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user vVIClnsq7pTA99vL7p0X6PblOfg1, plan pro_weekly
2025-05-21 21:14:19,520 - ClawBackend - INFO - [repository.py:63] - Firebase updated for vVIClnsq7pTA99vL7p0X6PblOfg1
2025-05-21 21:14:21,314 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vVIClnsq7pTA99vL7p0X6PblOfg1: pro_weekly
2025-05-21 21:14:21,323 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.created
2025-05-21 21:14:21,369 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.updated
2025-05-21 21:14:21,944 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 853, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 21:15:00,196 - ClawBackend - INFO - [repository.py:46] - User vVIClnsq7pTA99vL7p0X6PblOfg1 exists in Firebase
2025-05-21 21:15:00,737 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 21:15:01,350 - ClawBackend - INFO - [repository.py:85] - User vVIClnsq7pTA99vL7p0X6PblOfg1 has subscription type: pro_weekly
2025-05-21 21:15:04,426 - ClawBackend - INFO - [paid_plans.py:281] - Upgrading subscription sub_1RRH8JDIeiQ55dB6MP11bvVM to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-21 21:15:05,041 - ClawBackend - INFO - [paid_plans.py:293] - Canceling existing subscription schedule sub_sched_1RRH9hDIeiQ55dB6Vj4Pmao6 before upgrading
2025-05-21 21:15:09,598 - ClawBackend - INFO - [paid_plans.py:307] - Invoice amount_due: 2200, currency: gbp
2025-05-21 21:15:16,177 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.finalized
2025-05-21 21:15:16,247 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.succeeded
2025-05-21 21:15:16,258 - ClawBackend - WARNING - [paid_plans.py:645] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 21:15:16,301 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: charge.succeeded
2025-05-21 21:15:16,336 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.paid
2025-05-21 21:15:16,371 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-21 21:15:16,399 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:15:16,423 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user vVIClnsq7pTA99vL7p0X6PblOfg1, plan pro_weekly
2025-05-21 21:15:16,760 - ClawBackend - INFO - [repository.py:63] - Firebase updated for vVIClnsq7pTA99vL7p0X6PblOfg1
2025-05-21 21:15:19,786 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vVIClnsq7pTA99vL7p0X6PblOfg1: pro_weekly
2025-05-21 21:15:19,794 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:15:19,798 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user vVIClnsq7pTA99vL7p0X6PblOfg1, plan pro_weekly
2025-05-21 21:15:20,115 - ClawBackend - INFO - [repository.py:63] - Firebase updated for vVIClnsq7pTA99vL7p0X6PblOfg1
2025-05-21 21:15:23,369 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vVIClnsq7pTA99vL7p0X6PblOfg1: pro_weekly
2025-05-21 21:15:23,375 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.released
2025-05-21 21:15:23,390 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.updated
2025-05-21 21:15:23,394 - ClawBackend - WARNING - [paid_plans.py:802] - No subscription ID found in schedule: sub_sched_1RRH9hDIeiQ55dB6Vj4Pmao6
2025-05-21 21:15:23,404 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.created
2025-05-21 21:15:23,411 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoiceitem.created
2025-05-21 21:15:23,422 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.payment_succeeded
2025-05-21 21:15:23,432 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-21 21:15:23,991 - ClawBackend - INFO - [repository.py:46] - User vVIClnsq7pTA99vL7p0X6PblOfg1 exists in Firebase
2025-05-21 21:15:24,390 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=thecreatorjim@gmail.com, name=Jim The Creator
2025-05-21 21:15:24,698 - ClawBackend - INFO - [repository.py:85] - User vVIClnsq7pTA99vL7p0X6PblOfg1 has subscription type: pro_weekly
2025-05-21 21:15:27,367 - ClawBackend - INFO - [paid_plans.py:337] - Downgrading subscription sub_1RRH8JDIeiQ55dB6MP11bvVM to plan starter_weekly
2025-05-21 21:15:27,980 - ClawBackend - INFO - [paid_plans.py:341] - Subscription status: active
2025-05-21 21:15:31,992 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.created
2025-05-21 21:15:32,000 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:15:32,001 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user vVIClnsq7pTA99vL7p0X6PblOfg1, plan pro_weekly
2025-05-21 21:15:32,380 - ClawBackend - INFO - [repository.py:63] - Firebase updated for vVIClnsq7pTA99vL7p0X6PblOfg1
2025-05-21 21:15:34,185 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vVIClnsq7pTA99vL7p0X6PblOfg1: pro_weekly
2025-05-21 21:15:34,192 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.updated
2025-05-21 21:15:34,643 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 853, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 21:17:54,305 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-21 21:17:54,607 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 21:17:54,914 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: free
2025-05-21 21:17:57,036 - ClawBackend - INFO - [paid_plans.py:419] - Creating Subscription for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-21 21:18:00,081 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.created
2025-05-21 21:18:00,962 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-21 21:18:01,413 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.created
2025-05-21 21:18:01,722 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.updated
2025-05-21 21:18:01,730 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.created
2025-05-21 21:18:01,740 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.finalized
2025-05-21 21:18:23,105 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: charge.succeeded
2025-05-21 21:18:24,181 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:18:24,183 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan pro_weekly
2025-05-21 21:18:24,513 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-21 21:18:26,459 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: pro_weekly
2025-05-21 21:18:26,464 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.succeeded
2025-05-21 21:18:26,469 - ClawBackend - WARNING - [paid_plans.py:645] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 21:18:26,511 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_method.attached
2025-05-21 21:18:26,525 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.updated
2025-05-21 21:18:26,541 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.paid
2025-05-21 21:18:26,589 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.payment_succeeded
2025-05-21 21:18:38,029 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-21 21:18:38,393 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 21:18:39,054 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: pro_weekly
2025-05-21 21:18:41,674 - ClawBackend - INFO - [paid_plans.py:337] - Downgrading subscription sub_1RRHDHDIeiQ55dB6M7Nt5hqB to plan starter_monthly
2025-05-21 21:18:42,268 - ClawBackend - INFO - [paid_plans.py:341] - Subscription status: active
2025-05-21 21:18:46,001 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:18:46,002 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan pro_weekly
2025-05-21 21:18:46,324 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-21 21:18:48,476 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: pro_weekly
2025-05-21 21:18:48,483 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.created
2025-05-21 21:18:48,491 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.updated
2025-05-21 21:18:48,907 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 853, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 21:19:01,274 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-21 21:19:01,581 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-21 21:19:01,993 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: pro_weekly
2025-05-21 21:19:04,661 - ClawBackend - INFO - [paid_plans.py:337] - Downgrading subscription sub_1RRHDHDIeiQ55dB6M7Nt5hqB to plan starter_weekly
2025-05-21 21:19:05,097 - ClawBackend - INFO - [paid_plans.py:341] - Subscription status: active
2025-05-21 21:19:05,511 - ClawBackend - INFO - [paid_plans.py:371] - Updating existing subscription schedule sub_sched_1RRHE0DIeiQ55dB69lGK3w8G for downgrade
2025-05-21 21:19:07,297 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.upcoming
2025-05-21 21:19:08,147 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: subscription_schedule.updated
2025-05-21 21:19:08,578 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:853 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 853, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-21 21:19:54,943 - ClawBackend - INFO - [repository.py:46] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 exists in Firebase
2025-05-21 21:19:55,265 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-21 21:19:55,799 - ClawBackend - INFO - [repository.py:85] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 has subscription type: free
2025-05-21 21:19:59,623 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.created
2025-05-21 21:20:00,158 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-21 21:20:20,178 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.succeeded
2025-05-21 21:20:20,179 - ClawBackend - INFO - [paid_plans.py:641] - Processing successful one-time payment for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan test_drive
2025-05-21 21:20:20,533 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-21 21:20:22,892 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: test_drive
2025-05-21 21:20:22,912 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: charge.succeeded
2025-05-21 21:20:23,928 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: charge.updated
2025-05-21 21:20:49,307 - ClawBackend - INFO - [repository.py:46] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 exists in Firebase
2025-05-21 21:20:49,819 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-21 21:20:50,177 - ClawBackend - INFO - [repository.py:85] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 has subscription type: test_drive
2025-05-21 21:20:52,688 - ClawBackend - INFO - [paid_plans.py:419] - Creating Subscription for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-21 21:20:56,348 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-21 21:20:56,729 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.updated
2025-05-21 21:20:57,141 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.created
2025-05-21 21:20:57,271 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.created
2025-05-21 21:20:57,278 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.finalized
2025-05-21 21:21:15,983 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: charge.succeeded
2025-05-21 21:21:17,527 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.succeeded
2025-05-21 21:21:17,531 - ClawBackend - WARNING - [paid_plans.py:645] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-21 21:21:17,555 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_method.attached
2025-05-21 21:21:17,582 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-21 21:21:17,583 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly
2025-05-21 21:21:18,184 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-21 21:21:20,182 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: starter_monthly
2025-05-21 21:21:20,191 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.updated
2025-05-21 21:21:20,200 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.paid
2025-05-21 21:21:20,211 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.payment_succeeded
2025-05-21 21:29:47,798 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 03:02:04,688 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 03:02:07,709 - ClawBackend - ERROR - [logger.py:75] - Failed to preload tickers: Timeout connecting to server | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server") | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server") | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server")
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 697, in _connect
    reader, writer = await asyncio.open_connection(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **self._connection_arguments()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\streams.py", line 48, in open_connection
    transport, _ = await loop.create_connection(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        lambda: protocol, host, port, **kwds)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 1135, in create_connection
    sock = await self._connect_sock(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
        exceptions, addrinfo, laddr_infos)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 1038, in _connect_sock
    await self.sock_connect(sock, address)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\selector_events.py", line 641, in sock_connect
    return await fut
           ^^^^^^^^^
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 281, in connect
    await self.retry.call_with_retry(
        lambda: self._connect(), lambda error: self.disconnect()
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 59, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 696, in _connect
    async with async_timeout(self.socket_connect_timeout):
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\timeouts.py", line 116, in __aexit__
    raise TimeoutError from exc_val
TimeoutError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\app.py", line 34, in lifespan
    await redis_cache.initialize()
  File "d:\ClawInc\Claw-Backend\src\infrastructure\database\redis\cache.py", line 32, in initialize
    if await self._redis.ping():
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 611, in execute_command
    conn = self.connection or await pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 1064, in get_connection
    await self.ensure_connection(connection)
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 1097, in ensure_connection
    await connection.connect()
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 287, in connect
    raise TimeoutError("Timeout connecting to server")
redis.exceptions.TimeoutError: Timeout connecting to server
2025-05-22 03:06:35,282 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 03:06:38,300 - ClawBackend - ERROR - [logger.py:75] - Failed to preload tickers: Timeout connecting to server | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server") | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server") | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server")
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 697, in _connect
    reader, writer = await asyncio.open_connection(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **self._connection_arguments()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\streams.py", line 48, in open_connection
    transport, _ = await loop.create_connection(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        lambda: protocol, host, port, **kwds)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 1135, in create_connection
    sock = await self._connect_sock(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
        exceptions, addrinfo, laddr_infos)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 1038, in _connect_sock
    await self.sock_connect(sock, address)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\selector_events.py", line 641, in sock_connect
    return await fut
           ^^^^^^^^^
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 281, in connect
    await self.retry.call_with_retry(
        lambda: self._connect(), lambda error: self.disconnect()
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 59, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 696, in _connect
    async with async_timeout(self.socket_connect_timeout):
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\timeouts.py", line 116, in __aexit__
    raise TimeoutError from exc_val
TimeoutError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\app.py", line 34, in lifespan
    await redis_cache.initialize()
  File "d:\ClawInc\Claw-Backend\src\infrastructure\database\redis\cache.py", line 32, in initialize
    if await self._redis.ping():
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 611, in execute_command
    conn = self.connection or await pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 1064, in get_connection
    await self.ensure_connection(connection)
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 1097, in ensure_connection
    await connection.connect()
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 287, in connect
    raise TimeoutError("Timeout connecting to server")
redis.exceptions.TimeoutError: Timeout connecting to server
2025-05-22 03:07:52,306 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 03:07:55,312 - ClawBackend - ERROR - [logger.py:75] - Failed to preload tickers: Timeout connecting to server | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server") | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server") | Exception: TimeoutError: Timeout connecting to server at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py:287 in connect | Code: raise TimeoutError("Timeout connecting to server")
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 697, in _connect
    reader, writer = await asyncio.open_connection(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **self._connection_arguments()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\streams.py", line 48, in open_connection
    transport, _ = await loop.create_connection(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        lambda: protocol, host, port, **kwds)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 1135, in create_connection
    sock = await self._connect_sock(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
        exceptions, addrinfo, laddr_infos)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 1038, in _connect_sock
    await self.sock_connect(sock, address)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\selector_events.py", line 641, in sock_connect
    return await fut
           ^^^^^^^^^
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 281, in connect
    await self.retry.call_with_retry(
        lambda: self._connect(), lambda error: self.disconnect()
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 59, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 696, in _connect
    async with async_timeout(self.socket_connect_timeout):
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\asyncio\timeouts.py", line 116, in __aexit__
    raise TimeoutError from exc_val
TimeoutError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\src\app.py", line 34, in lifespan
    await redis_cache.initialize()
  File "d:\ClawInc\Claw-Backend\src\infrastructure\database\redis\cache.py", line 32, in initialize
    if await self._redis.ping():
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 611, in execute_command
    conn = self.connection or await pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 1064, in get_connection
    await self.ensure_connection(connection)
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 1097, in ensure_connection
    await connection.connect()
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 287, in connect
    raise TimeoutError("Timeout connecting to server")
redis.exceptions.TimeoutError: Timeout connecting to server
2025-05-22 03:10:58,502 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 03:14:19,556 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-22 03:14:24,145 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 03:14:50,486 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 03:17:25,612 - ClawBackend - INFO - [repository.py:46] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 exists in Firebase
2025-05-22 03:17:25,938 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-22 03:17:26,262 - ClawBackend - INFO - [repository.py:85] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 has subscription type: starter_monthly
2025-05-22 03:17:30,671 - ClawBackend - INFO - [paid_plans.py:338] - Downgrading subscription sub_1RRHG6DIeiQ55dB6plR6vSpT to plan pro_weekly
2025-05-22 03:17:31,113 - ClawBackend - INFO - [paid_plans.py:342] - Subscription status: active
2025-05-22 03:17:35,160 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.subscription.updated
2025-05-22 03:17:35,161 - ClawBackend - INFO - [paid_plans.py:764] - Processing subscription status change to active for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly
2025-05-22 03:17:35,474 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 03:17:38,657 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: starter_monthly
2025-05-22 03:17:38,668 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: subscription_schedule.created
2025-05-22 03:17:38,677 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: subscription_schedule.updated
2025-05-22 03:17:39,283 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:854 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:854 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:854 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 854, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-22 03:18:09,270 - ClawBackend - INFO - [repository.py:46] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 exists in Firebase
2025-05-22 03:18:09,578 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-22 03:18:09,885 - ClawBackend - INFO - [repository.py:85] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 has subscription type: starter_monthly
2025-05-22 03:18:12,523 - ClawBackend - INFO - [paid_plans.py:282] - Upgrading subscription sub_1RRHG6DIeiQ55dB6plR6vSpT to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-22 03:18:12,977 - ClawBackend - INFO - [paid_plans.py:294] - Canceling existing subscription schedule sub_sched_1RRMpHDIeiQ55dB6FSPqTfpD before upgrading
2025-05-22 03:18:15,014 - ClawBackend - INFO - [paid_plans.py:308] - Invoice amount_due: 1799, currency: gbp
2025-05-22 03:18:18,698 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: subscription_schedule.updated
2025-05-22 03:18:18,716 - ClawBackend - WARNING - [paid_plans.py:803] - No subscription ID found in schedule: sub_sched_1RRMpHDIeiQ55dB6FSPqTfpD
2025-05-22 03:18:18,738 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: subscription_schedule.released
2025-05-22 03:18:18,769 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.subscription.updated
2025-05-22 03:18:18,773 - ClawBackend - INFO - [paid_plans.py:764] - Processing subscription status change to active for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly
2025-05-22 03:18:19,105 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 03:18:20,947 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: starter_monthly
2025-05-22 03:18:20,952 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoiceitem.created
2025-05-22 03:18:20,962 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoiceitem.created
2025-05-22 03:18:20,977 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.subscription.updated
2025-05-22 03:18:20,978 - ClawBackend - INFO - [paid_plans.py:764] - Processing subscription status change to active for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly
2025-05-22 03:18:21,353 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 03:18:23,712 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: starter_monthly
2025-05-22 03:18:23,718 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: payment_intent.created
2025-05-22 03:18:33,070 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: charge.succeeded
2025-05-22 03:18:33,078 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: payment_intent.succeeded
2025-05-22 03:18:33,091 - ClawBackend - INFO - [paid_plans.py:642] - Processing successful one-time payment for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan pro_monthly
2025-05-22 03:18:33,437 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 03:18:35,143 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: pro_monthly
2025-05-22 03:18:36,145 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: charge.updated
2025-05-22 03:47:09,775 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-22 03:47:47,361 - ClawBackend - INFO - [repository.py:46] - User GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1 exists in Firebase
2025-05-22 03:47:47,670 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-22 03:47:47,968 - ClawBackend - INFO - [repository.py:85] - User GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1 has subscription type: free
2025-05-22 03:47:50,016 - ClawBackend - INFO - [paid_plans.py:420] - Creating Subscription for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-22 03:47:51,922 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.created
2025-05-22 03:47:52,512 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: payment_intent.created
2025-05-22 03:47:52,559 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.updated
2025-05-22 03:47:52,833 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.subscription.created
2025-05-22 03:47:52,874 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.finalized
2025-05-22 03:47:52,877 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.created
2025-05-22 03:48:27,167 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: charge.succeeded
2025-05-22 03:48:27,220 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: payment_method.attached
2025-05-22 03:48:27,444 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: payment_intent.succeeded
2025-05-22 03:48:27,445 - ClawBackend - WARNING - [paid_plans.py:646] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-22 03:48:27,468 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.subscription.updated
2025-05-22 03:48:27,469 - ClawBackend - INFO - [paid_plans.py:764] - Processing subscription status change to active for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1, plan pro_weekly
2025-05-22 03:48:27,775 - ClawBackend - INFO - [repository.py:63] - Firebase updated for GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1
2025-05-22 03:48:29,518 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1: pro_weekly
2025-05-22 03:48:29,525 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.updated
2025-05-22 03:48:29,528 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.paid
2025-05-22 03:48:29,532 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.payment_succeeded
2025-05-22 03:48:54,665 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.upcoming
2025-05-22 03:49:10,852 - ClawBackend - INFO - [repository.py:46] - User GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1 exists in Firebase
2025-05-22 03:49:11,187 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-22 03:49:11,606 - ClawBackend - INFO - [repository.py:85] - User GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1 has subscription type: pro_weekly
2025-05-22 03:49:13,612 - ClawBackend - INFO - [paid_plans.py:338] - Downgrading subscription sub_1RRNIbDIeiQ55dB6wtuIfIHU to plan starter_monthly
2025-05-22 03:49:14,023 - ClawBackend - INFO - [paid_plans.py:342] - Subscription status: active
2025-05-22 03:49:16,208 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: subscription_schedule.created
2025-05-22 03:49:16,281 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.subscription.updated
2025-05-22 03:49:16,281 - ClawBackend - INFO - [paid_plans.py:764] - Processing subscription status change to active for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1, plan pro_weekly
2025-05-22 03:49:16,581 - ClawBackend - INFO - [repository.py:63] - Firebase updated for GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1
2025-05-22 03:49:18,516 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1: pro_weekly
2025-05-22 03:49:18,927 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: subscription_schedule.updated
2025-05-22 03:49:19,357 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:854 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:854 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:854 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 854, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-22 03:50:53,001 - ClawBackend - INFO - [repository.py:46] - User GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1 exists in Firebase
2025-05-22 03:50:53,295 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-22 03:50:53,592 - ClawBackend - INFO - [repository.py:85] - User GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1 has subscription type: pro_weekly
2025-05-22 03:50:56,207 - ClawBackend - INFO - [paid_plans.py:282] - Upgrading subscription sub_1RRNIbDIeiQ55dB6wtuIfIHU to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk (selected plan: pro_monthly)
2025-05-22 03:50:56,640 - ClawBackend - INFO - [paid_plans.py:294] - Canceling existing subscription schedule sub_sched_1RRNJxDIeiQ55dB6w8TMFLO4 before upgrading
2025-05-22 03:51:00,629 - ClawBackend - INFO - [paid_plans.py:308] - Invoice amount_due: 2200, currency: gbp
2025-05-22 03:51:02,791 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: subscription_schedule.updated
2025-05-22 03:51:02,805 - ClawBackend - WARNING - [paid_plans.py:803] - No subscription ID found in schedule: sub_sched_1RRNJxDIeiQ55dB6w8TMFLO4
2025-05-22 03:51:02,815 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: payment_intent.created
2025-05-22 03:51:02,828 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: charge.succeeded
2025-05-22 03:51:02,842 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: subscription_schedule.released
2025-05-22 03:51:02,860 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.created
2025-05-22 03:51:02,871 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.subscription.updated
2025-05-22 03:51:02,878 - ClawBackend - INFO - [paid_plans.py:764] - Processing subscription status change to active for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1, plan pro_weekly
2025-05-22 03:51:03,179 - ClawBackend - INFO - [repository.py:63] - Firebase updated for GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1
2025-05-22 03:51:05,061 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1: pro_weekly
2025-05-22 03:51:05,064 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: payment_intent.succeeded
2025-05-22 03:51:05,065 - ClawBackend - WARNING - [paid_plans.py:646] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-22 03:51:05,072 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: customer.subscription.updated
2025-05-22 03:51:05,073 - ClawBackend - INFO - [paid_plans.py:764] - Processing subscription status change to active for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1, plan pro_weekly
2025-05-22 03:51:05,371 - ClawBackend - INFO - [repository.py:63] - Firebase updated for GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1
2025-05-22 03:51:06,565 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1: pro_weekly
2025-05-22 03:51:06,568 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoiceitem.created
2025-05-22 03:51:06,572 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.paid
2025-05-22 03:51:06,575 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.finalized
2025-05-22 03:51:06,577 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: payment_intent.created
2025-05-22 03:51:06,581 - ClawBackend - INFO - [paid_plans.py:635] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:00:39,178 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 04:01:40,406 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 04:02:08,363 - ClawBackend - INFO - [repository.py:46] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 exists in Firebase
2025-05-22 04:02:08,654 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-22 04:02:08,986 - ClawBackend - INFO - [repository.py:85] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 has subscription type: free
2025-05-22 04:02:11,131 - ClawBackend - INFO - [paid_plans.py:419] - Creating Subscription for user WB4iUrKgsFTX59XsqDmUhHLBDhV2, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-22 04:02:13,324 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.created
2025-05-22 04:02:13,929 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-22 04:02:13,991 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.updated
2025-05-22 04:02:14,070 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.created
2025-05-22 04:02:14,186 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.created
2025-05-22 04:02:14,213 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.finalized
2025-05-22 04:02:40,720 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: charge.succeeded
2025-05-22 04:02:41,025 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_method.attached
2025-05-22 04:02:41,250 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:02:41,256 - ClawBackend - WARNING - [paid_plans.py:645] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-22 04:02:41,264 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.updated
2025-05-22 04:02:41,269 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-22 04:02:41,275 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user WB4iUrKgsFTX59XsqDmUhHLBDhV2, plan starter_weekly
2025-05-22 04:02:41,610 - ClawBackend - INFO - [repository.py:63] - Firebase updated for WB4iUrKgsFTX59XsqDmUhHLBDhV2
2025-05-22 04:02:43,026 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user WB4iUrKgsFTX59XsqDmUhHLBDhV2: starter_weekly
2025-05-22 04:02:43,029 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.paid
2025-05-22 04:02:43,033 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:03:25,311 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.upcoming
2025-05-22 04:03:47,569 - ClawBackend - INFO - [repository.py:46] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 exists in Firebase
2025-05-22 04:03:47,857 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-22 04:03:48,143 - ClawBackend - INFO - [repository.py:85] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 has subscription type: starter_weekly
2025-05-22 04:03:50,124 - ClawBackend - INFO - [paid_plans.py:281] - Upgrading subscription sub_1RRNWUDIeiQ55dB6yJZ9XpNM to price_id price_1RPu76DIeiQ55dB6S32S2sVP (selected plan: starter_monthly)
2025-05-22 04:03:53,741 - ClawBackend - INFO - [paid_plans.py:307] - Invoice amount_due: 1300, currency: gbp
2025-05-22 04:03:55,280 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-22 04:03:55,292 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-22 04:03:55,296 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user WB4iUrKgsFTX59XsqDmUhHLBDhV2, plan starter_weekly
2025-05-22 04:03:55,625 - ClawBackend - INFO - [repository.py:63] - Firebase updated for WB4iUrKgsFTX59XsqDmUhHLBDhV2
2025-05-22 04:03:56,763 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user WB4iUrKgsFTX59XsqDmUhHLBDhV2: starter_weekly
2025-05-22 04:03:56,767 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:03:56,802 - ClawBackend - WARNING - [paid_plans.py:645] - Missing metadata in payment_intent.succeeded event. Cannot update subscription.
2025-05-22 04:03:56,805 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: charge.succeeded
2025-05-22 04:03:56,810 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.created
2025-05-22 04:03:56,812 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoiceitem.created
2025-05-22 04:03:56,816 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:03:56,820 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.paid
2025-05-22 04:03:56,825 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.finalized
2025-05-22 04:03:56,828 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: payment_intent.created
2025-05-22 04:04:27,355 - ClawBackend - INFO - [repository.py:46] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 exists in Firebase
2025-05-22 04:04:27,670 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-22 04:04:27,958 - ClawBackend - INFO - [repository.py:85] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 has subscription type: starter_weekly
2025-05-22 04:04:29,966 - ClawBackend - INFO - [paid_plans.py:281] - Upgrading subscription sub_1RRNWUDIeiQ55dB6yJZ9XpNM to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC (selected plan: pro_weekly)
2025-05-22 04:04:32,516 - ClawBackend - INFO - [repository.py:63] - Firebase updated for WB4iUrKgsFTX59XsqDmUhHLBDhV2
2025-05-22 04:04:33,035 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.updated
2025-05-22 04:04:33,326 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.finalized
2025-05-22 04:04:33,330 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: customer.subscription.updated
2025-05-22 04:04:33,332 - ClawBackend - INFO - [paid_plans.py:763] - Processing subscription status change to active for user WB4iUrKgsFTX59XsqDmUhHLBDhV2, plan starter_weekly
2025-05-22 04:04:33,629 - ClawBackend - INFO - [repository.py:63] - Firebase updated for WB4iUrKgsFTX59XsqDmUhHLBDhV2
2025-05-22 04:04:35,115 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user WB4iUrKgsFTX59XsqDmUhHLBDhV2: starter_weekly
2025-05-22 04:04:35,121 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.created
2025-05-22 04:04:35,126 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.paid
2025-05-22 04:04:35,128 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:04:35,130 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoiceitem.created
2025-05-22 04:05:25,877 - ClawBackend - INFO - [paid_plans.py:634] - Processing webhook event: invoice.upcoming
2025-05-22 04:18:06,627 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 04:18:44,462 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 04:19:13,073 - ClawBackend - INFO - [repository.py:46] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 exists in Firebase
2025-05-22 04:19:13,366 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-22 04:19:13,668 - ClawBackend - INFO - [repository.py:85] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 has subscription type: starter_weekly
2025-05-22 04:19:15,763 - ClawBackend - INFO - [paid_plans.py:282] - Attempting to upgrade subscription sub_1RRNWUDIeiQ55dB6yJZ9XpNM to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-22 04:19:15,766 - ClawBackend - ERROR - [logger.py:75] - Error: type object 'Invoice' has no attribute 'upcoming' | Exception: AttributeError: type object 'Invoice' has no attribute 'upcoming' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:295 in initiate_payment_intent_or_subscription | Code: upcoming_invoice = stripe.Invoice.upcoming( | Exception: AttributeError: type object 'Invoice' has no attribute 'upcoming' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:295 in initiate_payment_intent_or_subscription | Code: upcoming_invoice = stripe.Invoice.upcoming( | Exception: AttributeError: type object 'Invoice' has no attribute 'upcoming' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:295 in initiate_payment_intent_or_subscription | Code: upcoming_invoice = stripe.Invoice.upcoming(
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 295, in initiate_payment_intent_or_subscription
    upcoming_invoice = stripe.Invoice.upcoming(
                       ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Invoice' has no attribute 'upcoming'
2025-05-22 04:24:51,010 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 04:25:46,609 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 04:26:04,457 - ClawBackend - INFO - [repository.py:46] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 exists in Firebase
2025-05-22 04:26:04,751 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=contactoqpyd@gmail.com, name=Contact Oqpyd
2025-05-22 04:26:05,038 - ClawBackend - INFO - [repository.py:85] - User WB4iUrKgsFTX59XsqDmUhHLBDhV2 has subscription type: starter_weekly
2025-05-22 04:26:07,068 - ClawBackend - INFO - [paid_plans.py:282] - Attempting to upgrade subscription sub_1RRNWUDIeiQ55dB6yJZ9XpNM to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-22 04:26:07,544 - ClawBackend - ERROR - [logger.py:75] - Stripe error previewing invoice for upgrade: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details? | Exception: InvalidRequestError: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details? at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err | Exception: InvalidRequestError: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details? at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err | Exception: InvalidRequestError: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details? at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py:336 in handle_error_response | Code: raise err
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 295, in initiate_payment_intent_or_subscription
    upcoming_invoice = stripe.Invoice.create_preview(
        customer=customer_id,
    ...<5 lines>...
        proration_behavior="create_prorations"
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_invoice.py", line 4523, in create_preview
    cls._static_request(
    ~~~~~~~~~~~~~~~~~~~^
        "post",
        ^^^^^^^
        "/v1/invoices/create_preview",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        params=params,
        ^^^^^^^^^^^^^^
    ),
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_resource.py", line 172, in _static_request
    return _APIRequestor._global_instance().request(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        method_,
        ^^^^^^^^
    ...<3 lines>...
        base_address=base_address,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 197, in request
    resp = requestor._interpret_response(rbody, rcode, rheaders, api_mode)
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 853, in _interpret_response
    self.handle_error_response(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        rbody, rcode, resp.data, rheaders, api_mode
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 336, in handle_error_response
    raise err
stripe._error.InvalidRequestError: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details?
2025-05-22 04:26:07,571 - ClawBackend - ERROR - [logger.py:75] - Error: 400: Stripe error previewing upgrade: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details? | Exception: HTTPException: 400: Stripe error previewing upgrade: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details? at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:313 in initiate_payment_intent_or_subscription | Code: raise HTTPException(status_code=400, detail=f"Stripe error previewing upgrade: {str(e)}") | Exception: HTTPException: 400: Stripe error previewing upgrade: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details? at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:313 in initiate_payment_intent_or_subscription | Code: raise HTTPException(status_code=400, detail=f"Stripe error previewing upgrade: {str(e)}") | Exception: HTTPException: 400: Stripe error previewing upgrade: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details? at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:313 in initiate_payment_intent_or_subscription | Code: raise HTTPException(status_code=400, detail=f"Stripe error previewing upgrade: {str(e)}")
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 295, in initiate_payment_intent_or_subscription
    upcoming_invoice = stripe.Invoice.create_preview(
        customer=customer_id,
    ...<5 lines>...
        proration_behavior="create_prorations"
    )
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_invoice.py", line 4523, in create_preview
    cls._static_request(
    ~~~~~~~~~~~~~~~~~~~^
        "post",
        ^^^^^^^
        "/v1/invoices/create_preview",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        params=params,
        ^^^^^^^^^^^^^^
    ),
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_resource.py", line 172, in _static_request
    return _APIRequestor._global_instance().request(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        method_,
        ^^^^^^^^
    ...<3 lines>...
        base_address=base_address,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 197, in request
    resp = requestor._interpret_response(rbody, rcode, rheaders, api_mode)
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 853, in _interpret_response
    self.handle_error_response(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        rbody, rcode, resp.data, rheaders, api_mode
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_api_requestor.py", line 336, in handle_error_response
    raise err
stripe._error.InvalidRequestError: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 313, in initiate_payment_intent_or_subscription
    raise HTTPException(status_code=400, detail=f"Stripe error previewing upgrade: {str(e)}")
fastapi.exceptions.HTTPException: 400: Stripe error previewing upgrade: Request req_B6g6AHT3QNowq3: Received unknown parameters: proration_behavior, subscription_items. Did you mean subscription_details?
2025-05-22 04:27:21,609 - ClawBackend - INFO - [repository.py:46] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 exists in Firebase
2025-05-22 04:27:21,906 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-22 04:27:22,197 - ClawBackend - INFO - [repository.py:85] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 has subscription type: free
2025-05-22 04:27:24,266 - ClawBackend - INFO - [paid_plans.py:457] - Creating Subscription for user xbUBWVolfUUKgSgA0kYxTDR6aqp1, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-22 04:27:26,288 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: customer.created
2025-05-22 04:27:26,859 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: payment_intent.created
2025-05-22 04:27:26,950 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: customer.updated
2025-05-22 04:27:27,007 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: customer.subscription.created
2025-05-22 04:27:27,183 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: invoice.created
2025-05-22 04:27:27,188 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: invoice.finalized
2025-05-22 04:27:48,699 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: charge.succeeded
2025-05-22 04:27:49,238 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: payment_method.attached
2025-05-22 04:27:49,256 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: customer.subscription.updated
2025-05-22 04:27:49,259 - ClawBackend - INFO - [paid_plans.py:844] - Processing subscription status change to active for user xbUBWVolfUUKgSgA0kYxTDR6aqp1, plan starter_weekly
2025-05-22 04:27:49,562 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xbUBWVolfUUKgSgA0kYxTDR6aqp1
2025-05-22 04:27:52,017 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xbUBWVolfUUKgSgA0kYxTDR6aqp1: starter_weekly
2025-05-22 04:27:52,019 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:27:52,019 - ClawBackend - WARNING - [paid_plans.py:725] - Missing metadata in payment_intent.succeeded event. PI: pi_3RRNutDIeiQ55dB611lVrtNo
2025-05-22 04:27:52,021 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: invoice.updated
2025-05-22 04:27:52,022 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:27:52,026 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: invoice.paid
2025-05-22 04:28:37,356 - ClawBackend - INFO - [paid_plans.py:672] - Processing webhook event: invoice.upcoming
2025-05-22 04:29:56,156 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 04:30:15,925 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 04:30:35,653 - ClawBackend - INFO - [repository.py:46] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 exists in Firebase
2025-05-22 04:30:36,290 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-22 04:30:36,823 - ClawBackend - INFO - [repository.py:85] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 has subscription type: starter_weekly
2025-05-22 04:30:39,328 - ClawBackend - INFO - [paid_plans.py:282] - Attempting to upgrade subscription sub_1RRNutDIeiQ55dB6B3NYjhIg to price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-22 04:30:40,135 - ClawBackend - INFO - [paid_plans.py:320] - Upgrade requires payment of 1300 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:30:41,659 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: payment_intent.created
2025-05-22 04:31:40,747 - ClawBackend - INFO - [repository.py:46] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 exists in Firebase
2025-05-22 04:31:41,125 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-22 04:31:41,421 - ClawBackend - INFO - [repository.py:85] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 has subscription type: starter_weekly
2025-05-22 04:31:43,755 - ClawBackend - INFO - [paid_plans.py:282] - Attempting to upgrade subscription sub_1RRNutDIeiQ55dB6B3NYjhIg to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-22 04:31:44,442 - ClawBackend - INFO - [paid_plans.py:320] - Upgrade requires payment of 2700 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:31:46,136 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: payment_intent.created
2025-05-22 04:32:37,254 - ClawBackend - INFO - [repository.py:46] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 exists in Firebase
2025-05-22 04:32:37,805 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-22 04:32:38,139 - ClawBackend - INFO - [repository.py:85] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 has subscription type: starter_weekly
2025-05-22 04:32:40,889 - ClawBackend - INFO - [paid_plans.py:282] - Attempting to upgrade subscription sub_1RRNutDIeiQ55dB6B3NYjhIg to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-22 04:32:42,064 - ClawBackend - INFO - [paid_plans.py:320] - Upgrade requires payment of 1498 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:32:43,664 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: payment_intent.created
2025-05-22 04:33:36,130 - ClawBackend - INFO - [repository.py:46] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 exists in Firebase
2025-05-22 04:33:36,425 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-22 04:33:36,760 - ClawBackend - INFO - [repository.py:85] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 has subscription type: starter_weekly
2025-05-22 04:33:39,334 - ClawBackend - INFO - [paid_plans.py:282] - Attempting to upgrade subscription sub_1RRNutDIeiQ55dB6B3NYjhIg to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-22 04:33:40,297 - ClawBackend - INFO - [paid_plans.py:320] - Upgrade requires payment of 1498 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:33:41,786 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: payment_intent.created
2025-05-22 04:33:51,738 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:33:51,738 - ClawBackend - INFO - [paid_plans.py:692] - Payment succeeded for pending upgrade. Modifying subscription sub_1RRNutDIeiQ55dB6B3NYjhIg for user xbUBWVolfUUKgSgA0kYxTDR6aqp1 to price price_1RPu9CDIeiQ55dB6dGFWoQAC.
2025-05-22 04:33:54,057 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xbUBWVolfUUKgSgA0kYxTDR6aqp1
2025-05-22 04:33:56,325 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xbUBWVolfUUKgSgA0kYxTDR6aqp1: pro_weekly
2025-05-22 04:33:56,326 - ClawBackend - INFO - [paid_plans.py:711] - Subscription sub_1RRNutDIeiQ55dB6B3NYjhIg successfully upgraded to pro_weekly for user xbUBWVolfUUKgSgA0kYxTDR6aqp1 after payment.
2025-05-22 04:33:56,331 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: charge.succeeded
2025-05-22 04:33:56,978 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: invoiceitem.created
2025-05-22 04:33:57,031 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: customer.subscription.updated
2025-05-22 04:33:57,032 - ClawBackend - INFO - [paid_plans.py:848] - Processing subscription status change to active for user xbUBWVolfUUKgSgA0kYxTDR6aqp1, plan starter_weekly
2025-05-22 04:33:57,703 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xbUBWVolfUUKgSgA0kYxTDR6aqp1
2025-05-22 04:33:59,592 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xbUBWVolfUUKgSgA0kYxTDR6aqp1: starter_weekly
2025-05-22 04:33:59,595 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: invoiceitem.created
2025-05-22 04:33:59,600 - ClawBackend - INFO - [paid_plans.py:676] - Processing webhook event: charge.updated
2025-05-22 04:39:58,895 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 04:40:44,953 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 04:42:34,966 - ClawBackend - INFO - [repository.py:46] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 exists in Firebase
2025-05-22 04:42:35,270 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-22 04:42:35,650 - ClawBackend - INFO - [repository.py:85] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 has subscription type: starter_weekly
2025-05-22 04:42:39,217 - ClawBackend - INFO - [paid_plans.py:283] - Attempting to upgrade subscription sub_1RRNutDIeiQ55dB6B3NYjhIg to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-22 04:42:40,133 - ClawBackend - INFO - [paid_plans.py:321] - Upgrade requires payment of 2701 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:42:40,808 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 04:42:46,153 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 04:42:48,135 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:43:03,250 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:43:03,251 - ClawBackend - INFO - [paid_plans.py:694] - Payment succeeded for pending upgrade. Modifying subscription sub_1RRNutDIeiQ55dB6B3NYjhIg for user xbUBWVolfUUKgSgA0kYxTDR6aqp1 to price price_1RPuBDDIeiQ55dB6deQ4BKqk.
2025-05-22 04:43:10,116 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xbUBWVolfUUKgSgA0kYxTDR6aqp1
2025-05-22 04:43:12,191 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xbUBWVolfUUKgSgA0kYxTDR6aqp1: pro_monthly
2025-05-22 04:43:12,191 - ClawBackend - INFO - [paid_plans.py:713] - Subscription sub_1RRNutDIeiQ55dB6B3NYjhIg successfully upgraded to pro_monthly for user xbUBWVolfUUKgSgA0kYxTDR6aqp1 after payment.
2025-05-22 04:43:12,192 - ClawBackend - INFO - [paid_plans.py:715] - Subscription sub_1RRNutDIeiQ55dB6B3NYjhIg successfully upgraded to pro_monthly for user xbUBWVolfUUKgSgA0kYxTDR6aqp1 after payment.
2025-05-22 04:43:12,196 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 04:43:14,047 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:43:14,068 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:43:14,101 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 04:43:14,112 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.updated
2025-05-22 04:43:14,133 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.created
2025-05-22 04:43:14,148 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 04:43:14,153 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user xbUBWVolfUUKgSgA0kYxTDR6aqp1, plan starter_weekly
2025-05-22 04:43:14,495 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xbUBWVolfUUKgSgA0kYxTDR6aqp1
2025-05-22 04:43:15,720 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xbUBWVolfUUKgSgA0kYxTDR6aqp1: starter_weekly
2025-05-22 04:43:15,724 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.paid
2025-05-22 04:43:15,730 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.finalized
2025-05-22 04:43:15,732 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoiceitem.created
2025-05-22 04:43:15,735 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:43:15,735 - ClawBackend - WARNING - [paid_plans.py:733] - Missing metadata in payment_intent.succeeded event. PI: pi_3RROA5DIeiQ55dB61G7vwbXd
2025-05-22 04:47:42,399 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 04:48:03,332 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 04:48:38,928 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-22 04:48:42,230 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 04:49:00,100 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 04:49:55,325 - ClawBackend - INFO - [repository.py:46] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 exists in Firebase
2025-05-22 04:49:55,854 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo10@gmail.com, name=jimmy odhiambo
2025-05-22 04:49:56,300 - ClawBackend - INFO - [repository.py:85] - User xbUBWVolfUUKgSgA0kYxTDR6aqp1 has subscription type: starter_weekly
2025-05-22 04:49:58,965 - ClawBackend - INFO - [paid_plans.py:283] - Attempting to upgrade subscription sub_1RRNutDIeiQ55dB6B3NYjhIg to price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-22 04:49:59,755 - ClawBackend - INFO - [paid_plans.py:321] - Upgrade requires payment of 399 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:50:01,246 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:51:08,326 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.deleted
2025-05-22 04:51:08,327 - ClawBackend - INFO - [paid_plans.py:876] - Processing subscription deletion for user xbUBWVolfUUKgSgA0kYxTDR6aqp1
2025-05-22 04:51:08,624 - ClawBackend - INFO - [repository.py:63] - Firebase updated for xbUBWVolfUUKgSgA0kYxTDR6aqp1
2025-05-22 04:51:10,638 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user xbUBWVolfUUKgSgA0kYxTDR6aqp1: free
2025-05-22 04:51:10,641 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.deleted
2025-05-22 04:51:11,566 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.deleted
2025-05-22 04:51:11,631 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.deleted
2025-05-22 04:51:11,632 - ClawBackend - INFO - [paid_plans.py:876] - Processing subscription deletion for user WB4iUrKgsFTX59XsqDmUhHLBDhV2
2025-05-22 04:51:12,131 - ClawBackend - INFO - [repository.py:63] - Firebase updated for WB4iUrKgsFTX59XsqDmUhHLBDhV2
2025-05-22 04:51:13,942 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user WB4iUrKgsFTX59XsqDmUhHLBDhV2: free
2025-05-22 04:51:15,845 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.deleted
2025-05-22 04:51:15,908 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.deleted
2025-05-22 04:51:15,909 - ClawBackend - INFO - [paid_plans.py:876] - Processing subscription deletion for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1
2025-05-22 04:51:16,220 - ClawBackend - INFO - [repository.py:63] - Firebase updated for GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1
2025-05-22 04:51:17,859 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1: free
2025-05-22 04:51:21,948 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.deleted
2025-05-22 04:51:21,948 - ClawBackend - INFO - [paid_plans.py:876] - Processing subscription deletion for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 04:51:22,355 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 04:51:23,673 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: free
2025-05-22 04:51:23,676 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.deleted
2025-05-22 04:51:24,446 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.deleted
2025-05-22 04:51:24,575 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.deleted
2025-05-22 04:51:24,575 - ClawBackend - INFO - [paid_plans.py:876] - Processing subscription deletion for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-22 04:51:25,165 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-22 04:51:26,540 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: free
2025-05-22 04:51:29,955 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.deleted
2025-05-22 04:51:31,501 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.deleted
2025-05-22 04:51:31,501 - ClawBackend - INFO - [paid_plans.py:876] - Processing subscription deletion for user vVIClnsq7pTA99vL7p0X6PblOfg1
2025-05-22 04:51:31,840 - ClawBackend - INFO - [repository.py:63] - Firebase updated for vVIClnsq7pTA99vL7p0X6PblOfg1
2025-05-22 04:51:33,266 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user vVIClnsq7pTA99vL7p0X6PblOfg1: free
2025-05-22 04:51:38,595 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.canceled
2025-05-22 04:51:53,903 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoiceitem.deleted
2025-05-22 04:51:54,233 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoiceitem.deleted
2025-05-22 04:52:29,932 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-22 04:52:30,368 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-22 04:52:30,671 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: free
2025-05-22 04:52:34,052 - ClawBackend - INFO - [paid_plans.py:463] - Creating Subscription for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-22 04:52:36,644 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.canceled
2025-05-22 04:52:36,651 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.created
2025-05-22 04:52:37,036 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:52:37,187 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.updated
2025-05-22 04:52:37,189 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.created
2025-05-22 04:52:37,309 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.created
2025-05-22 04:52:37,355 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.finalized
2025-05-22 04:53:01,538 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-22 04:53:01,824 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-22 04:53:02,128 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: free
2025-05-22 04:53:04,049 - ClawBackend - INFO - [paid_plans.py:463] - Creating Subscription for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan starter_weekly, price_id price_1RPu2ZDIeiQ55dB6rpiPHkSu
2025-05-22 04:53:06,427 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:53:06,568 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.created
2025-05-22 04:53:06,718 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.created
2025-05-22 04:53:06,947 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.finalized
2025-05-22 04:53:30,363 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_method.attached
2025-05-22 04:53:30,440 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 04:53:30,442 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan starter_weekly
2025-05-22 04:53:30,907 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-22 04:53:32,616 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: starter_weekly
2025-05-22 04:53:32,619 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 04:53:32,621 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.updated
2025-05-22 04:53:32,623 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:53:32,624 - ClawBackend - WARNING - [paid_plans.py:733] - Missing metadata in payment_intent.succeeded event. PI: pi_3RROJjDIeiQ55dB60MOvZqfL
2025-05-22 04:53:32,628 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.paid
2025-05-22 04:53:33,149 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.upcoming
2025-05-22 04:53:33,153 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:54:00,138 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-22 04:54:00,446 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-22 04:54:00,744 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: starter_weekly
2025-05-22 04:54:03,568 - ClawBackend - INFO - [paid_plans.py:283] - Attempting to upgrade subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-22 04:54:04,266 - ClawBackend - INFO - [paid_plans.py:321] - Upgrade requires payment of 1499 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:54:05,764 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:54:42,608 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-22 04:54:43,010 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-22 04:54:43,292 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: starter_weekly
2025-05-22 04:54:45,334 - ClawBackend - INFO - [paid_plans.py:283] - Attempting to upgrade subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 to price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-22 04:54:46,033 - ClawBackend - INFO - [paid_plans.py:321] - Upgrade requires payment of 1499 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:54:47,518 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:55:02,357 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:55:02,358 - ClawBackend - INFO - [paid_plans.py:694] - Payment succeeded for pending upgrade. Modifying subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1 to price price_1RPu9CDIeiQ55dB6dGFWoQAC.
2025-05-22 04:55:05,062 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-22 04:55:06,337 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: pro_weekly
2025-05-22 04:55:06,337 - ClawBackend - INFO - [paid_plans.py:714] - Subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 successfully upgraded to pro_weekly for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1 after payment.
2025-05-22 04:55:06,339 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 04:55:06,962 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.updated
2025-05-22 04:55:06,968 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 04:55:06,969 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan pro_weekly
2025-05-22 04:55:07,278 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-22 04:55:08,413 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: pro_weekly
2025-05-22 04:55:08,415 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoiceitem.created
2025-05-22 04:55:08,418 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoiceitem.created
2025-05-22 04:56:03,651 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-22 04:56:04,244 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-22 04:56:04,550 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: pro_weekly
2025-05-22 04:56:08,142 - ClawBackend - INFO - [paid_plans.py:283] - Attempting to upgrade subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-22 04:56:09,103 - ClawBackend - INFO - [paid_plans.py:321] - Upgrade requires payment of 2700 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 04:56:10,655 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:56:17,660 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:56:17,661 - ClawBackend - INFO - [paid_plans.py:694] - Payment succeeded for pending upgrade. Modifying subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1 to price price_1RPuBDDIeiQ55dB6deQ4BKqk.
2025-05-22 04:56:21,611 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-22 04:56:23,171 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: pro_monthly
2025-05-22 04:56:23,171 - ClawBackend - INFO - [paid_plans.py:714] - Subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 successfully upgraded to pro_monthly for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1 after payment.
2025-05-22 04:56:23,174 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 04:56:24,636 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:56:24,644 - ClawBackend - WARNING - [paid_plans.py:733] - Missing metadata in payment_intent.succeeded event. PI: pi_3RROMsDIeiQ55dB60stBMLoz
2025-05-22 04:56:24,662 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.paid
2025-05-22 04:56:24,675 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:56:24,690 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoiceitem.created
2025-05-22 04:56:24,705 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.updated
2025-05-22 04:56:24,729 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.finalized
2025-05-22 04:56:24,732 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:56:24,785 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 04:56:24,785 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan pro_monthly
2025-05-22 04:56:25,081 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-22 04:56:26,629 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: pro_monthly
2025-05-22 04:56:26,635 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.created
2025-05-22 04:56:26,651 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 04:57:01,527 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-22 04:57:01,809 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-22 04:57:02,210 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: pro_monthly
2025-05-22 04:57:04,550 - ClawBackend - INFO - [paid_plans.py:381] - Downgrading subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 to plan pro_weekly
2025-05-22 04:57:04,992 - ClawBackend - INFO - [paid_plans.py:385] - Subscription status: active
2025-05-22 04:57:07,280 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.created
2025-05-22 04:57:07,346 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 04:57:07,347 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1, plan pro_monthly
2025-05-22 04:57:07,734 - ClawBackend - INFO - [repository.py:63] - Firebase updated for BYMKm2kJFsYOkHygv3Nc1hpyvhw1
2025-05-22 04:57:08,943 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user BYMKm2kJFsYOkHygv3Nc1hpyvhw1: pro_monthly
2025-05-22 04:57:09,425 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.updated
2025-05-22 04:57:09,907 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 942, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-22 04:57:30,912 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-22 04:57:31,286 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-22 04:57:31,653 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: pro_monthly
2025-05-22 04:57:34,235 - ClawBackend - INFO - [paid_plans.py:381] - Downgrading subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 to plan starter_monthly
2025-05-22 04:57:34,673 - ClawBackend - INFO - [paid_plans.py:385] - Subscription status: active
2025-05-22 04:57:35,101 - ClawBackend - INFO - [paid_plans.py:415] - Updating existing subscription schedule sub_sched_1RRONcDIeiQ55dB6x8RVVSs9 for downgrade
2025-05-22 04:57:37,128 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.updated
2025-05-22 04:57:37,581 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 942, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-22 04:57:46,308 - ClawBackend - INFO - [repository.py:46] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 exists in Firebase
2025-05-22 04:57:46,605 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=jimmyodhiambo00@gmail.com, name=Jimmy Wire
2025-05-22 04:57:46,900 - ClawBackend - INFO - [repository.py:85] - User BYMKm2kJFsYOkHygv3Nc1hpyvhw1 has subscription type: pro_monthly
2025-05-22 04:57:49,255 - ClawBackend - INFO - [paid_plans.py:381] - Downgrading subscription sub_1RROJjDIeiQ55dB6sxGsuFJ5 to plan starter_weekly
2025-05-22 04:57:49,980 - ClawBackend - INFO - [paid_plans.py:385] - Subscription status: active
2025-05-22 04:57:50,533 - ClawBackend - INFO - [paid_plans.py:415] - Updating existing subscription schedule sub_sched_1RRONcDIeiQ55dB6x8RVVSs9 for downgrade
2025-05-22 04:57:52,589 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.updated
2025-05-22 04:57:53,107 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 942, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-22 04:58:41,410 - ClawBackend - INFO - [repository.py:46] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 exists in Firebase
2025-05-22 04:58:41,951 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-22 04:58:42,257 - ClawBackend - INFO - [repository.py:85] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 has subscription type: free
2025-05-22 04:58:45,252 - ClawBackend - INFO - [paid_plans.py:463] - Creating Subscription for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly, price_id price_1RPu76DIeiQ55dB6S32S2sVP
2025-05-22 04:58:47,116 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.created
2025-05-22 04:58:47,896 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.updated
2025-05-22 04:58:47,897 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 04:58:47,948 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.created
2025-05-22 04:58:47,980 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.created
2025-05-22 04:58:48,241 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.finalized
2025-05-22 04:59:13,147 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_method.attached
2025-05-22 04:59:13,153 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 04:59:13,329 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 04:59:13,330 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly
2025-05-22 04:59:13,729 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 04:59:15,180 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: starter_monthly
2025-05-22 04:59:15,182 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 04:59:15,183 - ClawBackend - WARNING - [paid_plans.py:733] - Missing metadata in payment_intent.succeeded event. PI: pi_3RROPEDIeiQ55dB60QMgdZQg
2025-05-22 04:59:15,185 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.updated
2025-05-22 04:59:15,188 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.payment_succeeded
2025-05-22 04:59:15,190 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.paid
2025-05-22 04:59:42,871 - ClawBackend - INFO - [repository.py:46] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 exists in Firebase
2025-05-22 04:59:43,183 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-22 04:59:43,492 - ClawBackend - INFO - [repository.py:85] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 has subscription type: starter_monthly
2025-05-22 04:59:46,695 - ClawBackend - INFO - [paid_plans.py:381] - Downgrading subscription sub_1RROPEDIeiQ55dB6fYiNFlYa to plan pro_weekly
2025-05-22 04:59:47,318 - ClawBackend - INFO - [paid_plans.py:385] - Subscription status: active
2025-05-22 04:59:49,548 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.created
2025-05-22 04:59:49,880 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 04:59:49,880 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly
2025-05-22 04:59:50,399 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 04:59:51,812 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: starter_monthly
2025-05-22 04:59:51,816 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.updated
2025-05-22 04:59:52,465 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 942, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-22 05:00:26,691 - ClawBackend - INFO - [repository.py:46] - User GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1 exists in Firebase
2025-05-22 05:00:27,243 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=everlynewire02@gmail.com, name=Everlyne Wire
2025-05-22 05:00:27,745 - ClawBackend - INFO - [repository.py:85] - User GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1 has subscription type: free
2025-05-22 05:00:29,833 - ClawBackend - INFO - [paid_plans.py:463] - Creating Subscription for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1, plan pro_monthly, price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-22 05:00:31,871 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.created
2025-05-22 05:00:32,334 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 05:00:32,426 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.updated
2025-05-22 05:00:32,645 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.created
2025-05-22 05:00:32,647 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.created
2025-05-22 05:00:32,696 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.finalized
2025-05-22 05:00:52,937 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 05:00:53,050 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_method.attached
2025-05-22 05:00:53,194 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 05:00:53,195 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1, plan pro_monthly
2025-05-22 05:00:53,523 - ClawBackend - INFO - [repository.py:63] - Firebase updated for GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1
2025-05-22 05:00:55,491 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user GY4VGhxdQlSz6pe2FqaKjcZ0ZMu1: pro_monthly
2025-05-22 05:00:55,494 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 05:00:55,497 - ClawBackend - WARNING - [paid_plans.py:733] - Missing metadata in payment_intent.succeeded event. PI: pi_3RROQvDIeiQ55dB60PPGewRU
2025-05-22 05:00:55,501 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.updated
2025-05-22 05:00:55,503 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.payment_succeeded
2025-05-22 05:00:55,507 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.paid
2025-05-22 05:02:04,520 - ClawBackend - INFO - [repository.py:46] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 exists in Firebase
2025-05-22 05:02:04,839 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=mowino121@gmail.com, name=Moses Owino
2025-05-22 05:02:05,251 - ClawBackend - INFO - [repository.py:85] - User ekM3VfpQ6pXXsIuMy492rZJ5tcn1 has subscription type: starter_monthly
2025-05-22 05:02:08,351 - ClawBackend - INFO - [paid_plans.py:283] - Attempting to upgrade subscription sub_1RROPEDIeiQ55dB6fYiNFlYa to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-22 05:02:09,089 - ClawBackend - INFO - [paid_plans.py:321] - Upgrade requires payment of 2399 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 05:02:10,990 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 05:02:17,996 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 05:02:17,997 - ClawBackend - INFO - [paid_plans.py:694] - Payment succeeded for pending upgrade. Modifying subscription sub_1RROPEDIeiQ55dB6fYiNFlYa for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1 to price price_1RPuBDDIeiQ55dB6deQ4BKqk.
2025-05-22 05:02:18,838 - ClawBackend - INFO - [paid_plans.py:702] - Canceling existing subscription schedule sub_sched_1RROQEDIeiQ55dB6M7v1IK4Y before paid upgrade
2025-05-22 05:02:21,225 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 05:02:22,776 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: pro_monthly
2025-05-22 05:02:22,776 - ClawBackend - INFO - [paid_plans.py:714] - Subscription sub_1RROPEDIeiQ55dB6fYiNFlYa successfully upgraded to pro_monthly for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1 after payment.
2025-05-22 05:02:22,779 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 05:02:23,992 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoiceitem.created
2025-05-22 05:02:24,004 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 05:02:24,011 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan pro_monthly
2025-05-22 05:02:24,392 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 05:02:25,835 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: pro_monthly
2025-05-22 05:02:25,837 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.released
2025-05-22 05:02:25,843 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 05:02:25,849 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1, plan starter_monthly
2025-05-22 05:02:26,374 - ClawBackend - INFO - [repository.py:63] - Firebase updated for ekM3VfpQ6pXXsIuMy492rZJ5tcn1
2025-05-22 05:02:27,564 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user ekM3VfpQ6pXXsIuMy492rZJ5tcn1: starter_monthly
2025-05-22 05:02:27,567 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoiceitem.created
2025-05-22 05:02:27,574 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.updated
2025-05-22 05:02:27,575 - ClawBackend - WARNING - [paid_plans.py:891] - No subscription ID found in schedule: sub_sched_1RROQEDIeiQ55dB6M7v1IK4Y
2025-05-22 05:02:27,577 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.updated
2025-05-22 05:03:06,927 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 05:03:07,221 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 05:03:07,526 - ClawBackend - INFO - [repository.py:85] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 has subscription type: free
2025-05-22 05:03:09,838 - ClawBackend - INFO - [paid_plans.py:463] - Creating Subscription for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2, plan pro_weekly, price_id price_1RPu9CDIeiQ55dB6dGFWoQAC
2025-05-22 05:03:11,773 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.created
2025-05-22 05:03:12,362 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.created
2025-05-22 05:03:12,439 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.updated
2025-05-22 05:03:12,640 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.created
2025-05-22 05:03:12,695 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.finalized
2025-05-22 05:03:13,482 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.created
2025-05-22 05:03:32,101 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: charge.succeeded
2025-05-22 05:03:32,186 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 05:03:32,187 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2, plan pro_weekly
2025-05-22 05:03:32,512 - ClawBackend - INFO - [repository.py:63] - Firebase updated for H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 05:03:33,895 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: pro_weekly
2025-05-22 05:03:33,898 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_method.attached
2025-05-22 05:03:33,901 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.updated
2025-05-22 05:03:34,523 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: payment_intent.succeeded
2025-05-22 05:03:34,524 - ClawBackend - WARNING - [paid_plans.py:733] - Missing metadata in payment_intent.succeeded event. PI: pi_3RROTVDIeiQ55dB61fJU5N9W
2025-05-22 05:03:34,539 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.paid
2025-05-22 05:03:34,546 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.payment_succeeded
2025-05-22 05:03:54,647 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 05:03:54,950 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 05:03:55,241 - ClawBackend - INFO - [repository.py:85] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 has subscription type: pro_weekly
2025-05-22 05:03:57,906 - ClawBackend - INFO - [paid_plans.py:381] - Downgrading subscription sub_1RROTVDIeiQ55dB69uksZIVK to plan starter_monthly
2025-05-22 05:03:58,640 - ClawBackend - INFO - [paid_plans.py:385] - Subscription status: active
2025-05-22 05:04:01,025 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.created
2025-05-22 05:04:01,028 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: customer.subscription.updated
2025-05-22 05:04:01,029 - ClawBackend - INFO - [paid_plans.py:852] - Processing subscription status change to active for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2, plan pro_weekly
2025-05-22 05:04:01,340 - ClawBackend - INFO - [repository.py:63] - Firebase updated for H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 05:04:02,605 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: pro_weekly
2025-05-22 05:04:03,014 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: subscription_schedule.updated
2025-05-22 05:04:03,497 - ClawBackend - ERROR - [logger.py:75] - Error processing subscription schedule update: 'builtin_function_or_method' object has no attribute 'data' | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data: | Exception: AttributeError: 'builtin_function_or_method' object has no attribute 'data' at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:942 in stripe_webhook | Code: if subscription.items and subscription.items.data:
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 942, in stripe_webhook
    if subscription.items and subscription.items.data:
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'builtin_function_or_method' object has no attribute 'data'
2025-05-22 05:04:09,038 - ClawBackend - INFO - [paid_plans.py:678] - Processing webhook event: invoice.upcoming
2025-05-22 05:07:20,200 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: ETH
2025-05-22 05:07:21,724 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: ETHU
2025-05-22 05:07:22,676 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: ETHUSDT
2025-05-22 05:07:32,230 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for ETHUSDT (1m)
2025-05-22 05:07:32,282 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for ETHUSDT (1m)
2025-05-22 05:07:33,331 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-22 05:07:33,696 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-22 05:07:33,697 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for ETHUSDT (1m), fetching from Binance
2025-05-22 05:07:36,702 - ClawBackend - INFO - [market_data.py:369] - Initiating background task to get and save full historical data
2025-05-22 05:07:36,708 - ClawBackend - INFO - [market_data.py:379] - Returning 100 records from Binance for page 1
2025-05-22 05:07:36,738 - ClawBackend - INFO - [market_data.py:399] - Started background task to fetch full history for ETHUSDT (1m)
2025-05-22 05:07:36,748 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-22 05:07:40,979 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-21 18:47:00+00:00 (1000 total records saved)
2025-05-22 05:07:42,142 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-22 11:27:00+00:00 (2000 total records saved)
2025-05-22 05:07:43,199 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-23 04:07:00+00:00 (3000 total records saved)
2025-05-22 05:07:44,402 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-23 20:47:00+00:00 (4000 total records saved)
2025-05-22 05:07:46,248 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-24 13:27:00+00:00 (5000 total records saved)
2025-05-22 05:07:48,051 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-25 06:07:00+00:00 (6000 total records saved)
2025-05-22 05:07:49,114 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-25 22:47:00+00:00 (7000 total records saved)
2025-05-22 05:07:50,242 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-26 15:27:00+00:00 (8000 total records saved)
2025-05-22 05:07:51,311 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-27 08:07:00+00:00 (9000 total records saved)
2025-05-22 05:07:53,793 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 00:47:00+00:00 (10000 total records saved)
2025-05-22 05:07:54,906 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 17:27:00+00:00 (11000 total records saved)
2025-05-22 05:07:56,655 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 10:07:00+00:00 (12000 total records saved)
2025-05-22 05:07:58,331 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 02:47:00+00:00 (13000 total records saved)
2025-05-22 05:08:00,276 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 19:27:00+00:00 (14000 total records saved)
2025-05-22 05:08:01,390 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 12:07:00+00:00 (15000 total records saved)
2025-05-22 05:08:02,475 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-04 04:47:00+00:00 (16000 total records saved)
2025-05-22 05:08:04,425 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-04 21:27:00+00:00 (17000 total records saved)
2025-05-22 05:08:06,379 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-05 14:07:00+00:00 (18000 total records saved)
2025-05-22 05:08:08,095 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-06 06:47:00+00:00 (19000 total records saved)
2025-05-22 05:08:08,968 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for ETHUSDT
2025-05-22 05:08:08,969 - ClawBackend - INFO - [market_data.py:341] - Closing connection for ETHUSDT
2025-05-22 05:08:09,185 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-06 23:27:00+00:00 (20000 total records saved)
2025-05-22 05:08:10,929 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-07 16:07:00+00:00 (21000 total records saved)
2025-05-22 05:08:12,030 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-08 08:47:00+00:00 (22000 total records saved)
2025-05-22 05:08:13,109 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 01:27:00+00:00 (23000 total records saved)
2025-05-22 05:08:14,808 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 18:07:00+00:00 (24000 total records saved)
2025-05-22 05:08:15,928 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-10 10:47:00+00:00 (25000 total records saved)
2025-05-22 05:08:17,888 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-11 03:27:00+00:00 (26000 total records saved)
2025-05-22 05:08:18,985 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-11 20:07:00+00:00 (27000 total records saved)
2025-05-22 05:08:20,764 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-12 12:47:00+00:00 (28000 total records saved)
2025-05-22 05:08:23,079 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-13 05:27:00+00:00 (29000 total records saved)
2025-05-22 05:08:24,157 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-13 22:07:00+00:00 (30000 total records saved)
2025-05-22 05:08:25,225 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-14 14:47:00+00:00 (31000 total records saved)
2025-05-22 05:08:26,494 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-15 07:27:00+00:00 (32000 total records saved)
2025-05-22 05:08:27,803 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-16 00:07:00+00:00 (33000 total records saved)
2025-05-22 05:08:28,883 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-16 16:47:00+00:00 (34000 total records saved)
2025-05-22 05:08:30,058 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-17 09:27:00+00:00 (35000 total records saved)
2025-05-22 05:08:31,151 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-18 02:07:00+00:00 (36000 total records saved)
2025-05-22 05:08:32,830 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-18 18:47:00+00:00 (37000 total records saved)
2025-05-22 05:08:33,898 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-19 11:27:00+00:00 (38000 total records saved)
2025-05-22 05:08:35,126 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-20 04:07:00+00:00 (39000 total records saved)
2025-05-22 05:08:36,232 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-20 20:47:00+00:00 (40000 total records saved)
2025-05-22 05:08:37,344 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-21 13:27:00+00:00 (41000 total records saved)
2025-05-22 05:08:39,136 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-22 06:07:00+00:00 (42000 total records saved)
2025-05-22 05:08:40,322 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-22 22:47:00+00:00 (43000 total records saved)
2025-05-22 05:08:42,021 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-23 15:27:00+00:00 (44000 total records saved)
2025-05-22 05:08:43,748 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-24 08:07:00+00:00 (45000 total records saved)
2025-05-22 05:08:45,447 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 00:47:00+00:00 (46000 total records saved)
2025-05-22 05:08:46,567 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 17:27:00+00:00 (47000 total records saved)
2025-05-22 05:08:48,328 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-26 10:07:00+00:00 (48000 total records saved)
2025-05-22 05:08:49,460 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-27 02:47:00+00:00 (49000 total records saved)
2025-05-22 05:08:50,530 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-27 19:27:00+00:00 (50000 total records saved)
2025-05-22 05:08:51,604 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-28 12:07:00+00:00 (51000 total records saved)
2025-05-22 05:08:52,648 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-29 04:47:00+00:00 (52000 total records saved)
2025-05-22 05:08:53,718 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-29 21:27:00+00:00 (53000 total records saved)
2025-05-22 05:08:54,973 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-30 14:07:00+00:00 (54000 total records saved)
2025-05-22 05:08:57,011 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-31 06:47:00+00:00 (55000 total records saved)
2025-05-22 05:08:58,085 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-31 23:27:00+00:00 (56000 total records saved)
2025-05-22 05:08:59,150 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-01 16:07:00+00:00 (57000 total records saved)
2025-05-22 05:09:00,906 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-02 08:47:00+00:00 (58000 total records saved)
2025-05-22 05:09:02,014 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 01:27:00+00:00 (59000 total records saved)
2025-05-22 05:09:03,341 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 18:07:00+00:00 (60000 total records saved)
2025-05-22 05:09:04,504 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-04 10:47:00+00:00 (61000 total records saved)
2025-05-22 05:09:05,563 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-05 03:27:00+00:00 (62000 total records saved)
2025-05-22 05:09:06,825 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-05 20:07:00+00:00 (63000 total records saved)
2025-05-22 05:09:08,108 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-06 12:47:00+00:00 (64000 total records saved)
2025-05-22 05:09:09,170 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-07 05:27:00+00:00 (65000 total records saved)
2025-05-22 05:09:10,608 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-07 22:07:00+00:00 (66000 total records saved)
2025-05-22 05:09:11,729 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-08 14:47:00+00:00 (67000 total records saved)
2025-05-22 05:09:12,796 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-09 07:27:00+00:00 (68000 total records saved)
2025-05-22 05:09:13,902 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-10 00:07:00+00:00 (69000 total records saved)
2025-05-22 05:09:15,724 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-10 16:47:00+00:00 (70000 total records saved)
2025-05-22 05:09:17,039 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-11 09:27:00+00:00 (71000 total records saved)
2025-05-22 05:09:18,207 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-12 02:07:00+00:00 (72000 total records saved)
2025-05-22 05:09:19,258 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-12 18:47:00+00:00 (73000 total records saved)
2025-05-22 05:09:20,397 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-13 11:27:00+00:00 (74000 total records saved)
2025-05-22 05:09:22,890 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-14 04:07:00+00:00 (75000 total records saved)
2025-05-22 05:09:24,124 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-14 20:47:00+00:00 (76000 total records saved)
2025-05-22 05:09:25,210 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-15 13:27:00+00:00 (77000 total records saved)
2025-05-22 05:09:26,345 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-16 06:07:00+00:00 (78000 total records saved)
2025-05-22 05:09:27,638 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-16 22:47:00+00:00 (79000 total records saved)
2025-05-22 05:09:29,941 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-17 15:27:00+00:00 (80000 total records saved)
2025-05-22 05:09:31,083 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-18 08:07:00+00:00 (81000 total records saved)
2025-05-22 05:09:32,753 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 00:47:00+00:00 (82000 total records saved)
2025-05-22 05:09:34,219 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 17:27:00+00:00 (83000 total records saved)
2025-05-22 05:09:35,430 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-20 10:07:00+00:00 (84000 total records saved)
2025-05-22 05:09:37,227 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-21 02:47:00+00:00 (85000 total records saved)
2025-05-22 05:09:38,961 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-21 19:27:00+00:00 (86000 total records saved)
2025-05-22 05:09:40,298 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-22 12:07:00+00:00 (87000 total records saved)
2025-05-22 05:09:41,976 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-23 04:47:00+00:00 (88000 total records saved)
2025-05-22 05:09:43,107 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-23 21:27:00+00:00 (89000 total records saved)
2025-05-22 05:09:44,218 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-24 14:07:00+00:00 (90000 total records saved)
2025-05-22 05:09:45,263 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-25 06:47:00+00:00 (91000 total records saved)
2025-05-22 05:09:46,425 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-25 23:27:00+00:00 (92000 total records saved)
2025-05-22 05:09:47,807 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-26 16:07:00+00:00 (93000 total records saved)
2025-05-22 05:09:48,926 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-27 08:47:00+00:00 (94000 total records saved)
2025-05-22 05:09:50,332 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 01:27:00+00:00 (95000 total records saved)
2025-05-22 05:09:51,502 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 18:07:00+00:00 (96000 total records saved)
2025-05-22 05:09:52,604 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-29 10:47:00+00:00 (97000 total records saved)
2025-05-22 05:09:53,663 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-30 03:27:00+00:00 (98000 total records saved)
2025-05-22 05:09:54,741 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-30 20:07:00+00:00 (99000 total records saved)
2025-05-22 05:09:55,847 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-01 12:47:00+00:00 (100000 total records saved)
2025-05-22 05:09:57,022 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-02 05:27:00+00:00 (101000 total records saved)
2025-05-22 05:09:58,302 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-02 22:07:00+00:00 (102000 total records saved)
2025-05-22 05:09:59,998 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-03 14:47:00+00:00 (103000 total records saved)
2025-05-22 05:10:01,145 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-04 07:27:00+00:00 (104000 total records saved)
2025-05-22 05:10:02,341 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-05 00:07:00+00:00 (105000 total records saved)
2025-05-22 05:10:03,607 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-05 16:47:00+00:00 (106000 total records saved)
2025-05-22 05:10:04,859 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-06 09:27:00+00:00 (107000 total records saved)
2025-05-22 05:10:05,923 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-07 02:07:00+00:00 (108000 total records saved)
2025-05-22 05:10:07,047 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-07 18:47:00+00:00 (109000 total records saved)
2025-05-22 05:10:08,108 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-08 11:27:00+00:00 (110000 total records saved)
2025-05-22 05:10:09,467 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-09 04:07:00+00:00 (111000 total records saved)
2025-05-22 05:10:10,528 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-09 20:47:00+00:00 (112000 total records saved)
2025-05-22 05:10:11,683 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-10 13:27:00+00:00 (113000 total records saved)
2025-05-22 05:10:12,890 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-11 06:07:00+00:00 (114000 total records saved)
2025-05-22 05:10:14,011 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-11 22:47:00+00:00 (115000 total records saved)
2025-05-22 05:10:15,926 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-12 15:27:00+00:00 (116000 total records saved)
2025-05-22 05:10:17,258 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-13 08:07:00+00:00 (117000 total records saved)
2025-05-22 05:10:19,162 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-14 00:47:00+00:00 (118000 total records saved)
2025-05-22 05:10:20,522 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-14 17:27:00+00:00 (119000 total records saved)
2025-05-22 05:10:21,695 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-15 10:07:00+00:00 (120000 total records saved)
2025-05-22 05:10:23,123 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-16 02:47:00+00:00 (121000 total records saved)
2025-05-22 05:10:25,067 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-16 19:27:00+00:00 (122000 total records saved)
2025-05-22 05:10:26,259 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-17 12:07:00+00:00 (123000 total records saved)
2025-05-22 05:10:28,024 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-18 04:47:00+00:00 (124000 total records saved)
2025-05-22 05:10:29,191 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-18 21:27:00+00:00 (125000 total records saved)
2025-05-22 05:10:30,297 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-19 14:07:00+00:00 (126000 total records saved)
2025-05-22 05:10:31,460 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-20 06:47:00+00:00 (127000 total records saved)
2025-05-22 05:10:33,526 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-20 23:27:00+00:00 (128000 total records saved)
2025-05-22 05:10:35,467 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-21 16:07:00+00:00 (129000 total records saved)
2025-05-22 05:10:36,731 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 600 records. Progress: 2025-05-22 02:07:00+00:00 (129600 total records saved)
2025-05-22 05:10:37,877 - ClawBackend - INFO - [market_data.py:421] - No more data available from Binance for ETHUSDT (1m)
2025-05-22 05:10:37,997 - ClawBackend - INFO - [market_data.py:475] - Unregistered background task for ETHUSDT (1m)
2025-05-22 05:11:10,099 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for ETHUSDT
2025-05-22 05:11:10,100 - ClawBackend - INFO - [market_data.py:341] - Closing connection for ETHUSDT
2025-05-22 05:22:31,543 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-22 05:22:31,970 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 100 records
2025-05-22 05:22:31,973 - ClawBackend - INFO - [market_data.py:271] - Stale data detected for ETHUSDT (1m), fetching missing data
2025-05-22 05:22:32,110 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for ETHUSDT (1m)
2025-05-22 05:22:36,873 - ClawBackend - INFO - [market_data.py:311] - Added background task to save 380 missing candles
2025-05-22 05:22:36,916 - ClawBackend - INFO - [market_data.py:76] - Registered background task for ETHUSDT (1m)
2025-05-22 05:22:36,916 - ClawBackend - INFO - [market_data.py:100] - Starting background task to save 380 1m records for ETHUSDT in batches of 500
2025-05-22 05:22:37,068 - ClawBackend - INFO - [market_data.py:118] - Saved batch 1/1 for ETHUSDT (1m)
2025-05-22 05:22:37,085 - ClawBackend - INFO - [market_data.py:152] - Unregistered background task for ETHUSDT (1m)
2025-05-22 05:22:41,791 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for ETHUSDT
2025-05-22 05:22:41,792 - ClawBackend - INFO - [market_data.py:341] - Closing connection for ETHUSDT
2025-05-22 05:22:41,903 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 05:23:29,628 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 05:27:55,968 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 05:28:24,209 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 05:30:40,529 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 05:30:50,371 - ClawBackend - ERROR - [logger.py:77] - Uncaught exception
Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=18164, pipe_handle=1048)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 131, in _main
    prepare(preparation_data)
    ~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 246, in prepare
    _fixup_main_from_path(data['init_main_from_path'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 297, in _fixup_main_from_path
    main_content = runpy.run_path(main_path,
                                  run_name="__mp_main__")
  File "<frozen runpy>", line 287, in run_path
  File "<frozen runpy>", line 98, in _run_module_code
  File "<frozen runpy>", line 88, in _run_code
  File "d:\ClawInc\Claw-Backend\src\app.py", line 20, in <module>
    from stripe_payments.src.paid_plans import router as paid_plans_router
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 724
    except Exception as e:
    ^^^^^^
SyntaxError: invalid syntax
2025-05-22 05:31:07,261 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 05:32:20,761 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 17:52:05,538 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 17:53:02,189 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-22 17:54:03,955 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 17:54:04,259 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 17:54:04,669 - ClawBackend - INFO - [repository.py:85] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 has subscription type: pro_weekly
2025-05-22 17:54:07,132 - ClawBackend - INFO - [paid_plans.py:283] - Attempting to upgrade subscription sub_1RROTVDIeiQ55dB69uksZIVK to price_id price_1RPuBDDIeiQ55dB6deQ4BKqk
2025-05-22 17:54:07,898 - ClawBackend - INFO - [paid_plans.py:321] - Upgrade requires payment of 2276 gbp. Creating PaymentIntent before modifying subscription.
2025-05-22 17:54:09,577 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: payment_intent.created
2025-05-22 17:54:20,748 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: payment_intent.succeeded
2025-05-22 17:54:20,748 - ClawBackend - INFO - [paid_plans.py:696] - Payment succeeded for pending upgrade. Modifying subscription sub_1RROTVDIeiQ55dB69uksZIVK for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2 to price price_1RPuBDDIeiQ55dB6deQ4BKqk.
2025-05-22 17:54:21,671 - ClawBackend - INFO - [paid_plans.py:704] - Canceling existing subscription schedule sub_sched_1RROUIDIeiQ55dB67xhJF2Il before paid upgrade
2025-05-22 17:54:25,974 - ClawBackend - INFO - [repository.py:63] - Firebase updated for H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 17:54:28,018 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: pro_monthly
2025-05-22 17:54:28,019 - ClawBackend - INFO - [paid_plans.py:716] - Subscription sub_1RROTVDIeiQ55dB69uksZIVK successfully upgraded to pro_monthly for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2 after payment.
2025-05-22 17:54:28,025 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: charge.succeeded
2025-05-22 17:54:30,140 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: customer.subscription.updated
2025-05-22 17:54:30,160 - ClawBackend - INFO - [paid_plans.py:877] - Processing subscription status change to active for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2, plan pro_weekly
2025-05-22 17:54:30,576 - ClawBackend - INFO - [repository.py:63] - Firebase updated for H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 17:54:32,374 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: pro_weekly
2025-05-22 17:54:32,378 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: subscription_schedule.updated
2025-05-22 17:54:32,380 - ClawBackend - WARNING - [paid_plans.py:917] - Webhook subscription_schedule.updated: No subscription ID found in schedule: sub_sched_1RROUIDIeiQ55dB67xhJF2Il. Event ID: evt_1RRaVoDIeiQ55dB6fKkP1GqD
2025-05-22 17:54:32,385 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: subscription_schedule.released
2025-05-22 17:54:32,392 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: payment_intent.succeeded
2025-05-22 17:54:32,395 - ClawBackend - WARNING - [paid_plans.py:741] - Missing metadata in payment_intent.succeeded event. PI: pi_3RRaVqDIeiQ55dB60RJ8UtzU
2025-05-22 17:54:32,399 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: invoice.payment_succeeded
2025-05-22 17:54:32,402 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: invoice.paid
2025-05-22 17:54:32,407 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: charge.updated
2025-05-22 17:54:32,410 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: payment_intent.created
2025-05-22 17:54:32,414 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: invoice.finalized
2025-05-22 17:54:32,417 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: customer.subscription.updated
2025-05-22 17:54:32,418 - ClawBackend - INFO - [paid_plans.py:877] - Processing subscription status change to active for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2, plan pro_monthly
2025-05-22 17:54:32,832 - ClawBackend - INFO - [repository.py:63] - Firebase updated for H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 17:54:34,165 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: pro_monthly
2025-05-22 17:54:34,169 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: charge.succeeded
2025-05-22 17:54:34,173 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: invoiceitem.created
2025-05-22 17:54:34,177 - ClawBackend - INFO - [paid_plans.py:680] - Processing webhook event: invoice.created
2025-05-22 17:58:10,355 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-22 18:09:37,182 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 18:10:25,745 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 18:21:54,920 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-22 18:22:48,819 - ClawBackend - INFO - [paid_plans.py:512] - Request body: {'user_id': 'H8f8rfV7vzfQZTaFNL6CTBOMSiO2', 'subscription_id': None, 'cancel_at_period_end': True}
2025-05-22 18:22:50,955 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 18:22:51,275 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 18:22:51,276 - ClawBackend - INFO - [paid_plans.py:528] - No subscription ID provided, looking up by customer for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 18:22:52,559 - ClawBackend - INFO - [paid_plans.py:560] - Found subscription sub_1RROTVDIeiQ55dB69uksZIVK for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 18:22:53,750 - ClawBackend - ERROR - [logger.py:75] - Error canceling subscription for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: current_period_end | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'current_period_end'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 594, in cancel_subscription
    cancellation_date = datetime.fromtimestamp(canceled_subscription.current_period_end)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: current_period_end
2025-05-22 18:22:54,499 - ClawBackend - INFO - [paid_plans.py:681] - Processing webhook event: customer.subscription.updated
2025-05-22 18:22:54,500 - ClawBackend - INFO - [paid_plans.py:878] - Processing subscription status change to active for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2, plan pro_monthly
2025-05-22 18:22:55,100 - ClawBackend - INFO - [repository.py:63] - Firebase updated for H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 18:22:57,023 - ClawBackend - INFO - [crypto_repository.py:61] - Supabase subscription updated for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: pro_monthly
2025-05-22 18:30:00,490 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 18:31:15,136 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 18:31:23,963 - ClawBackend - INFO - [paid_plans.py:512] - Request body: {'user_id': 'H8f8rfV7vzfQZTaFNL6CTBOMSiO2', 'subscription_id': None, 'cancel_at_period_end': True}
2025-05-22 18:31:25,779 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 18:31:26,351 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 18:31:26,352 - ClawBackend - INFO - [paid_plans.py:528] - No subscription ID provided, looking up by customer for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 18:31:28,383 - ClawBackend - INFO - [paid_plans.py:560] - Found subscription sub_1RROTVDIeiQ55dB69uksZIVK for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 18:31:29,195 - ClawBackend - ERROR - [logger.py:75] - Error canceling subscription for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: current_period_end | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'current_period_end'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 574, in cancel_subscription
    cancellation_date=datetime.fromtimestamp(current_subscription.current_period_end).isoformat(),
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: current_period_end
2025-05-22 18:33:33,491 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 18:33:38,828 - ClawBackend - ERROR - [logger.py:77] - Uncaught exception
Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=5668, pipe_handle=844)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 131, in _main
    prepare(preparation_data)
    ~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 246, in prepare
    _fixup_main_from_path(data['init_main_from_path'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 297, in _fixup_main_from_path
    main_content = runpy.run_path(main_path,
                                  run_name="__mp_main__")
  File "<frozen runpy>", line 287, in run_path
  File "<frozen runpy>", line 98, in _run_module_code
  File "<frozen runpy>", line 88, in _run_code
  File "d:\ClawInc\Claw-Backend\src\app.py", line 20, in <module>
    from stripe_payments.src.paid_plans import router as paid_plans_router
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 597
    cancellation_date = datetime.fromtimestamp(canceled_subscription.)
                                                                     ^
SyntaxError: invalid syntax
2025-05-22 18:33:42,167 - ClawBackend - ERROR - [logger.py:77] - Uncaught exception
Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=5668, pipe_handle=1112)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 131, in _main
    prepare(preparation_data)
    ~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 246, in prepare
    _fixup_main_from_path(data['init_main_from_path'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 297, in _fixup_main_from_path
    main_content = runpy.run_path(main_path,
                                  run_name="__mp_main__")
  File "<frozen runpy>", line 287, in run_path
  File "<frozen runpy>", line 98, in _run_module_code
  File "<frozen runpy>", line 88, in _run_code
  File "d:\ClawInc\Claw-Backend\src\app.py", line 20, in <module>
    from stripe_payments.src.paid_plans import router as paid_plans_router
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 597
    cancellation_date = datetime.fromtimestamp(canceled_subscription.)
                                                                     ^
SyntaxError: invalid syntax
2025-05-22 18:33:56,696 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 18:34:40,481 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 18:34:46,129 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 18:35:15,011 - ClawBackend - INFO - [paid_plans.py:512] - Request body: {'user_id': 'H8f8rfV7vzfQZTaFNL6CTBOMSiO2', 'subscription_id': None, 'cancel_at_period_end': True}
2025-05-22 18:35:16,124 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 18:35:16,438 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 18:35:16,439 - ClawBackend - INFO - [paid_plans.py:528] - No subscription ID provided, looking up by customer for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 18:35:17,997 - ClawBackend - INFO - [paid_plans.py:560] - Found subscription sub_1RROTVDIeiQ55dB69uksZIVK for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 18:35:18,455 - ClawBackend - ERROR - [logger.py:75] - Error canceling subscription for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2: current_period_end | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err | Exception: AttributeError: current_period_end at D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py:172 in __getattr__ | Code: raise AttributeError(*err.args) from err
Traceback (most recent call last):
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 170, in __getattr__
    return self[k]
           ~~~~^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 212, in __getitem__
    raise err
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 200, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
KeyError: 'current_period_end'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 574, in cancel_subscription
    cancellation_date=datetime.fromtimestamp(current_subscription.current_period_end).isoformat(),
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ClawInc\Claw-Backend\.venv\Lib\site-packages\stripe\_stripe_object.py", line 172, in __getattr__
    raise AttributeError(*err.args) from err
AttributeError: current_period_end
2025-05-22 18:37:25,423 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 18:37:45,542 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 18:38:16,081 - ClawBackend - INFO - [paid_plans.py:512] - Request body: {'user_id': 'H8f8rfV7vzfQZTaFNL6CTBOMSiO2', 'subscription_id': None, 'cancel_at_period_end': True}
2025-05-22 18:38:17,365 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 18:38:17,666 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 18:38:17,667 - ClawBackend - INFO - [paid_plans.py:528] - No subscription ID provided, looking up by customer for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 18:38:19,219 - ClawBackend - INFO - [paid_plans.py:560] - Found subscription sub_1RROTVDIeiQ55dB69uksZIVK for user H8f8rfV7vzfQZTaFNL6CTBOMSiO2
2025-05-22 19:04:57,191 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 19:05:47,257 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 19:05:50,945 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 19:05:51,242 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 19:05:51,621 - ClawBackend - INFO - [repository.py:85] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 has subscription type: pro_monthly
2025-05-22 19:05:54,058 - ClawBackend - ERROR - [logger.py:75] - Error: 400: Cannot proceed with subscription action because there is an active subscription set to be cancelled. | Exception: HTTPException: 400: Cannot proceed with subscription action because there is an active subscription set to be cancelled. at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:254 in initiate_payment_intent_or_subscription | Code: raise HTTPException( | Exception: HTTPException: 400: Cannot proceed with subscription action because there is an active subscription set to be cancelled. at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:254 in initiate_payment_intent_or_subscription | Code: raise HTTPException( | Exception: HTTPException: 400: Cannot proceed with subscription action because there is an active subscription set to be cancelled. at d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py:254 in initiate_payment_intent_or_subscription | Code: raise HTTPException(
Traceback (most recent call last):
  File "d:\ClawInc\Claw-Backend\stripe_payments\src\paid_plans.py", line 254, in initiate_payment_intent_or_subscription
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 400: Cannot proceed with subscription action because there is an active subscription set to be cancelled.
2025-05-22 19:07:12,205 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 19:07:18,077 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 19:09:11,349 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-22 19:09:56,095 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-22 19:10:09,816 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-22 19:10:10,138 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-22 19:10:10,450 - ClawBackend - INFO - [repository.py:85] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 has subscription type: pro_monthly
2025-05-22 19:14:09,924 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-23 21:49:45,983 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-23 21:49:45,997 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-23 21:51:12,966 - ClawBackend - INFO - [repository.py:46] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 exists in Firebase
2025-05-23 21:51:13,273 - ClawBackend - INFO - [paid_plans.py:158] - User details from Firebase Database: email=wireworkscreation@gmail.com, name=Wire Works
2025-05-23 21:51:13,683 - ClawBackend - INFO - [repository.py:85] - User H8f8rfV7vzfQZTaFNL6CTBOMSiO2 has subscription type: pro_monthly
2025-05-23 21:51:27,310 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 21:59:28,699 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:02:33,545 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-23 22:03:39,196 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-23 22:04:55,012 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:06:58,479 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:08:33,552 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:08:35,778 - ClawBackend - INFO - [app.py:43] - Shutting down application...
2025-05-23 22:09:39,432 - ClawBackend - INFO - [app.py:28] - Starting application...
2025-05-23 22:12:30,462 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:14:59,341 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:26:52,058 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:30:49,772 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:33:33,116 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:37:08,749 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:44:40,037 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:46:08,704 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:49:37,115 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:50:18,155 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 22:53:14,338 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:06:39,798 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:13:13,520 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:14:53,726 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:25:01,942 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:28:32,956 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:30:01,582 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:31:45,516 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:41:35,012 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:44:15,215 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:44:27,181 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:45:52,759 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:46:02,974 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:47:51,009 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:49:11,211 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:53:26,143 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:54:56,259 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:57:14,881 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-23 23:59:02,951 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:00:48,370 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:02:45,484 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:05:40,717 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:10:04,487 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:11:05,524 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:11:26,202 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:11:48,733 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:13:06,297 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:13:29,905 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:14:22,462 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:16:18,563 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:16:35,838 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:23:59,383 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:24:17,080 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:24:37,428 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:26:23,979 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:26:42,277 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:29:21,425 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:29:40,248 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:29:58,429 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-24 00:33:31,286 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 02:25:53,321 - ClawBackend - INFO - [app.py:29] - Starting application...
2025-05-26 02:37:51,499 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 02:39:06,124 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 02:41:42,897 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 02:42:21,283 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTC
2025-05-26 02:42:22,990 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 02:42:23,415 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 02:42:54,558 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for WBTCUSDT (1m)
2025-05-26 02:42:54,592 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for WBTCUSDT (1m)
2025-05-26 02:42:57,288 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:42:58,063 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-26 02:42:58,065 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for WBTCUSDT (1m), fetching from Binance
2025-05-26 02:43:02,429 - ClawBackend - INFO - [market_data.py:369] - Initiating background task to get and save full historical data
2025-05-26 02:43:02,436 - ClawBackend - INFO - [market_data.py:379] - Returning 82 records from Binance for page 1
2025-05-26 02:43:02,474 - ClawBackend - INFO - [market_data.py:399] - Started background task to fetch full history for WBTCUSDT (1m)
2025-05-26 02:43:02,489 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:43:07,094 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 998 records. Progress: 2025-02-25 16:23:00+00:00 (998 total records saved)
2025-05-26 02:43:08,404 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 984 records. Progress: 2025-02-26 09:03:00+00:00 (1982 total records saved)
2025-05-26 02:43:09,706 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 996 records. Progress: 2025-02-27 01:42:00+00:00 (2978 total records saved)
2025-05-26 02:43:10,934 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 987 records. Progress: 2025-02-27 18:22:00+00:00 (3965 total records saved)
2025-05-26 02:43:12,263 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 984 records. Progress: 2025-02-28 11:02:00+00:00 (4949 total records saved)
2025-05-26 02:43:13,561 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 03:42:00+00:00 (5949 total records saved)
2025-05-26 02:43:15,212 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 20:22:00+00:00 (6949 total records saved)
2025-05-26 02:43:16,713 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 13:02:00+00:00 (7949 total records saved)
2025-05-26 02:43:18,831 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 05:42:00+00:00 (8949 total records saved)
2025-05-26 02:43:20,255 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 22:22:00+00:00 (9949 total records saved)
2025-05-26 02:43:20,640 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for WBTCUSDT
2025-05-26 02:43:20,645 - ClawBackend - INFO - [market_data.py:341] - Closing connection for WBTCUSDT
2025-05-26 02:43:22,299 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 998 records. Progress: 2025-03-04 15:02:00+00:00 (10947 total records saved)
2025-05-26 02:43:23,727 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 996 records. Progress: 2025-03-05 07:42:00+00:00 (11943 total records saved)
2025-05-26 02:43:25,167 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 997 records. Progress: 2025-03-06 00:22:00+00:00 (12940 total records saved)
2025-05-26 02:43:26,805 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 986 records. Progress: 2025-03-06 17:02:00+00:00 (13926 total records saved)
2025-05-26 02:43:28,226 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 969 records. Progress: 2025-03-07 09:42:00+00:00 (14895 total records saved)
2025-05-26 02:43:29,663 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 990 records. Progress: 2025-03-08 02:22:00+00:00 (15885 total records saved)
2025-05-26 02:43:31,397 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 942 records. Progress: 2025-03-08 19:02:00+00:00 (16827 total records saved)
2025-05-26 02:43:32,724 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 876 records. Progress: 2025-03-09 11:42:00+00:00 (17703 total records saved)
2025-05-26 02:43:34,163 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 988 records. Progress: 2025-03-10 04:22:00+00:00 (18691 total records saved)
2025-05-26 02:43:35,402 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 997 records. Progress: 2025-03-10 21:02:00+00:00 (19688 total records saved)
2025-05-26 02:43:36,641 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 977 records. Progress: 2025-03-11 13:42:00+00:00 (20665 total records saved)
2025-05-26 02:43:39,070 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 962 records. Progress: 2025-03-12 06:22:00+00:00 (21627 total records saved)
2025-05-26 02:43:40,304 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 966 records. Progress: 2025-03-12 23:02:00+00:00 (22593 total records saved)
2025-05-26 02:43:41,519 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 949 records. Progress: 2025-03-13 15:42:00+00:00 (23542 total records saved)
2025-05-26 02:43:43,192 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 950 records. Progress: 2025-03-14 08:22:00+00:00 (24492 total records saved)
2025-05-26 02:43:44,406 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 873 records. Progress: 2025-03-15 01:02:00+00:00 (25365 total records saved)
2025-05-26 02:43:45,928 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 758 records. Progress: 2025-03-15 17:42:00+00:00 (26123 total records saved)
2025-05-26 02:43:47,478 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 656 records. Progress: 2025-03-16 10:22:00+00:00 (26779 total records saved)
2025-05-26 02:43:49,135 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 847 records. Progress: 2025-03-17 03:02:00+00:00 (27626 total records saved)
2025-05-26 02:43:50,372 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 845 records. Progress: 2025-03-17 19:42:00+00:00 (28471 total records saved)
2025-05-26 02:43:51,971 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 789 records. Progress: 2025-03-18 12:22:00+00:00 (29260 total records saved)
2025-05-26 02:43:53,845 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 831 records. Progress: 2025-03-19 05:01:00+00:00 (30091 total records saved)
2025-05-26 02:43:58,965 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 844 records. Progress: 2025-03-19 21:41:00+00:00 (30935 total records saved)
2025-05-26 02:44:00,231 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 772 records. Progress: 2025-03-20 14:21:00+00:00 (31707 total records saved)
2025-05-26 02:44:01,862 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 809 records. Progress: 2025-03-21 07:01:00+00:00 (32516 total records saved)
2025-05-26 02:44:03,248 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 741 records. Progress: 2025-03-21 23:41:00+00:00 (33257 total records saved)
2025-05-26 02:44:05,139 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 647 records. Progress: 2025-03-22 16:21:00+00:00 (33904 total records saved)
2025-05-26 02:44:06,839 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 512 records. Progress: 2025-03-23 09:00:00+00:00 (34416 total records saved)
2025-05-26 02:44:08,613 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 663 records. Progress: 2025-03-24 01:40:00+00:00 (35079 total records saved)
2025-05-26 02:44:12,092 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 857 records. Progress: 2025-03-24 18:20:00+00:00 (35936 total records saved)
2025-05-26 02:44:13,540 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 811 records. Progress: 2025-03-25 11:00:00+00:00 (36747 total records saved)
2025-05-26 02:44:15,159 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 837 records. Progress: 2025-03-26 03:40:00+00:00 (37584 total records saved)
2025-05-26 02:44:16,988 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 822 records. Progress: 2025-03-26 20:20:00+00:00 (38406 total records saved)
2025-05-26 02:44:20,309 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 831 records. Progress: 2025-03-27 12:58:00+00:00 (39237 total records saved)
2025-05-26 02:44:21,593 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 893 records. Progress: 2025-03-28 05:38:00+00:00 (40130 total records saved)
2025-05-26 02:44:22,988 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 901 records. Progress: 2025-03-28 22:18:00+00:00 (41031 total records saved)
2025-05-26 02:44:24,347 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 881 records. Progress: 2025-03-29 14:58:00+00:00 (41912 total records saved)
2025-05-26 02:44:26,462 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 774 records. Progress: 2025-03-30 07:38:00+00:00 (42686 total records saved)
2025-05-26 02:44:28,327 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 789 records. Progress: 2025-03-31 00:18:00+00:00 (43475 total records saved)
2025-05-26 02:44:30,025 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 893 records. Progress: 2025-03-31 16:58:00+00:00 (44368 total records saved)
2025-05-26 02:44:31,332 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 819 records. Progress: 2025-04-01 09:37:00+00:00 (45187 total records saved)
2025-05-26 02:44:32,756 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 891 records. Progress: 2025-04-02 02:17:00+00:00 (46078 total records saved)
2025-05-26 02:44:34,322 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 887 records. Progress: 2025-04-02 18:57:00+00:00 (46965 total records saved)
2025-05-26 02:44:36,034 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 957 records. Progress: 2025-04-03 11:37:00+00:00 (47922 total records saved)
2025-05-26 02:44:37,882 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 867 records. Progress: 2025-04-04 04:17:00+00:00 (48789 total records saved)
2025-05-26 02:44:39,177 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 949 records. Progress: 2025-04-04 20:55:00+00:00 (49738 total records saved)
2025-05-26 02:44:40,520 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 743 records. Progress: 2025-04-05 13:35:00+00:00 (50481 total records saved)
2025-05-26 02:44:42,072 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 780 records. Progress: 2025-04-06 06:14:00+00:00 (51261 total records saved)
2025-05-26 02:44:43,292 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 853 records. Progress: 2025-04-06 22:54:00+00:00 (52114 total records saved)
2025-05-26 02:44:45,500 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 993 records. Progress: 2025-04-07 15:34:00+00:00 (53107 total records saved)
2025-05-26 02:44:47,079 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 950 records. Progress: 2025-04-08 08:14:00+00:00 (54057 total records saved)
2025-05-26 02:44:48,712 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 947 records. Progress: 2025-04-09 00:54:00+00:00 (55004 total records saved)
2025-05-26 02:44:50,378 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 955 records. Progress: 2025-04-09 17:34:00+00:00 (55959 total records saved)
2025-05-26 02:44:51,605 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 872 records. Progress: 2025-04-10 10:14:00+00:00 (56831 total records saved)
2025-05-26 02:44:53,219 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 925 records. Progress: 2025-04-11 02:54:00+00:00 (57756 total records saved)
2025-05-26 02:44:55,031 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 942 records. Progress: 2025-04-11 19:34:00+00:00 (58698 total records saved)
2025-05-26 02:44:56,607 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 825 records. Progress: 2025-04-12 12:14:00+00:00 (59523 total records saved)
2025-05-26 02:44:57,931 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 874 records. Progress: 2025-04-13 04:54:00+00:00 (60397 total records saved)
2025-05-26 02:44:59,685 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 819 records. Progress: 2025-04-13 21:34:00+00:00 (61216 total records saved)
2025-05-26 02:45:01,087 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 855 records. Progress: 2025-04-14 14:14:00+00:00 (62071 total records saved)
2025-05-26 02:45:02,435 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 844 records. Progress: 2025-04-15 06:54:00+00:00 (62915 total records saved)
2025-05-26 02:45:03,889 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 832 records. Progress: 2025-04-15 23:33:00+00:00 (63747 total records saved)
2025-05-26 02:45:09,302 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 805 records. Progress: 2025-04-16 16:13:00+00:00 (64552 total records saved)
2025-05-26 02:45:10,646 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 829 records. Progress: 2025-04-17 08:53:00+00:00 (65381 total records saved)
2025-05-26 02:45:12,023 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 740 records. Progress: 2025-04-18 01:30:00+00:00 (66121 total records saved)
2025-05-26 02:45:13,403 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 663 records. Progress: 2025-04-18 18:09:00+00:00 (66784 total records saved)
2025-05-26 02:45:14,894 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 627 records. Progress: 2025-04-19 10:49:00+00:00 (67411 total records saved)
2025-05-26 02:45:16,752 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 674 records. Progress: 2025-04-20 03:29:00+00:00 (68085 total records saved)
2025-05-26 02:45:18,040 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 636 records. Progress: 2025-04-20 20:09:00+00:00 (68721 total records saved)
2025-05-26 02:45:19,521 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 737 records. Progress: 2025-04-21 12:47:00+00:00 (69458 total records saved)
2025-05-26 02:45:20,746 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 756 records. Progress: 2025-04-22 05:26:00+00:00 (70214 total records saved)
2025-05-26 02:45:22,197 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 909 records. Progress: 2025-04-22 22:06:00+00:00 (71123 total records saved)
2025-05-26 02:45:23,395 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 932 records. Progress: 2025-04-23 14:46:00+00:00 (72055 total records saved)
2025-05-26 02:45:24,626 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 948 records. Progress: 2025-04-24 07:26:00+00:00 (73003 total records saved)
2025-05-26 02:45:26,029 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 946 records. Progress: 2025-04-25 00:06:00+00:00 (73949 total records saved)
2025-05-26 02:45:27,407 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 957 records. Progress: 2025-04-25 16:46:00+00:00 (74906 total records saved)
2025-05-26 02:45:29,016 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 918 records. Progress: 2025-04-26 09:25:00+00:00 (75824 total records saved)
2025-05-26 02:45:30,757 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 858 records. Progress: 2025-04-27 02:05:00+00:00 (76682 total records saved)
2025-05-26 02:45:32,037 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 878 records. Progress: 2025-04-27 18:44:00+00:00 (77560 total records saved)
2025-05-26 02:45:34,302 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 912 records. Progress: 2025-04-28 11:23:00+00:00 (78472 total records saved)
2025-05-26 02:45:35,622 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 943 records. Progress: 2025-04-29 04:03:00+00:00 (79415 total records saved)
2025-05-26 02:45:37,046 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 957 records. Progress: 2025-04-29 20:43:00+00:00 (80372 total records saved)
2025-05-26 02:45:38,471 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 899 records. Progress: 2025-04-30 13:23:00+00:00 (81271 total records saved)
2025-05-26 02:45:39,683 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 913 records. Progress: 2025-05-01 06:03:00+00:00 (82184 total records saved)
2025-05-26 02:45:40,899 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 888 records. Progress: 2025-05-01 22:41:00+00:00 (83072 total records saved)
2025-05-26 02:45:42,685 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 912 records. Progress: 2025-05-02 15:21:00+00:00 (83984 total records saved)
2025-05-26 02:45:44,431 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 841 records. Progress: 2025-05-03 08:01:00+00:00 (84825 total records saved)
2025-05-26 02:45:45,700 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 836 records. Progress: 2025-05-04 00:41:00+00:00 (85661 total records saved)
2025-05-26 02:45:47,362 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 879 records. Progress: 2025-05-04 17:21:00+00:00 (86540 total records saved)
2025-05-26 02:45:48,708 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 875 records. Progress: 2025-05-05 10:01:00+00:00 (87415 total records saved)
2025-05-26 02:45:50,157 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 921 records. Progress: 2025-05-06 02:40:00+00:00 (88336 total records saved)
2025-05-26 02:45:51,606 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 906 records. Progress: 2025-05-06 19:20:00+00:00 (89242 total records saved)
2025-05-26 02:45:53,259 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 924 records. Progress: 2025-05-07 12:00:00+00:00 (90166 total records saved)
2025-05-26 02:45:54,588 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 948 records. Progress: 2025-05-08 04:40:00+00:00 (91114 total records saved)
2025-05-26 02:45:56,637 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 945 records. Progress: 2025-05-08 21:20:00+00:00 (92059 total records saved)
2025-05-26 02:45:58,225 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 980 records. Progress: 2025-05-09 14:00:00+00:00 (93039 total records saved)
2025-05-26 02:45:59,586 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 932 records. Progress: 2025-05-10 06:40:00+00:00 (93971 total records saved)
2025-05-26 02:46:00,902 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 982 records. Progress: 2025-05-10 23:20:00+00:00 (94953 total records saved)
2025-05-26 02:46:02,135 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 945 records. Progress: 2025-05-11 16:00:00+00:00 (95898 total records saved)
2025-05-26 02:46:03,610 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 932 records. Progress: 2025-05-12 08:40:00+00:00 (96830 total records saved)
2025-05-26 02:46:05,113 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 955 records. Progress: 2025-05-13 01:20:00+00:00 (97785 total records saved)
2025-05-26 02:46:05,121 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for WBTCUSDT
2025-05-26 02:46:05,122 - ClawBackend - INFO - [market_data.py:341] - Closing connection for WBTCUSDT
2025-05-26 02:46:06,543 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 949 records. Progress: 2025-05-13 18:00:00+00:00 (98734 total records saved)
2025-05-26 02:46:08,296 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 974 records. Progress: 2025-05-14 10:40:00+00:00 (99708 total records saved)
2025-05-26 02:46:10,196 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 919 records. Progress: 2025-05-15 03:20:00+00:00 (100627 total records saved)
2025-05-26 02:46:11,614 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 968 records. Progress: 2025-05-15 20:00:00+00:00 (101595 total records saved)
2025-05-26 02:46:13,098 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 976 records. Progress: 2025-05-16 12:40:00+00:00 (102571 total records saved)
2025-05-26 02:46:14,347 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 953 records. Progress: 2025-05-17 05:20:00+00:00 (103524 total records saved)
2025-05-26 02:46:15,743 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 900 records. Progress: 2025-05-17 21:59:00+00:00 (104424 total records saved)
2025-05-26 02:46:17,156 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 865 records. Progress: 2025-05-18 14:39:00+00:00 (105289 total records saved)
2025-05-26 02:46:18,727 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 987 records. Progress: 2025-05-19 07:19:00+00:00 (106276 total records saved)
2025-05-26 02:46:20,039 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 966 records. Progress: 2025-05-19 23:59:00+00:00 (107242 total records saved)
2025-05-26 02:46:21,574 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 940 records. Progress: 2025-05-20 16:38:00+00:00 (108182 total records saved)
2025-05-26 02:46:23,266 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 965 records. Progress: 2025-05-21 09:18:00+00:00 (109147 total records saved)
2025-05-26 02:46:25,593 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 974 records. Progress: 2025-05-22 01:58:00+00:00 (110121 total records saved)
2025-05-26 02:46:27,310 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 983 records. Progress: 2025-05-22 18:38:00+00:00 (111104 total records saved)
2025-05-26 02:46:28,661 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 958 records. Progress: 2025-05-23 11:18:00+00:00 (112062 total records saved)
2025-05-26 02:46:30,144 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 939 records. Progress: 2025-05-24 03:58:00+00:00 (113001 total records saved)
2025-05-26 02:46:31,543 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 786 records. Progress: 2025-05-24 20:38:00+00:00 (113787 total records saved)
2025-05-26 02:46:32,981 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 765 records. Progress: 2025-05-25 13:18:00+00:00 (114552 total records saved)
2025-05-26 02:46:34,396 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 481 records. Progress: 2025-05-25 23:43:00+00:00 (115033 total records saved)
2025-05-26 02:46:35,607 - ClawBackend - INFO - [market_data.py:421] - No more data available from Binance for WBTCUSDT (1m)
2025-05-26 02:46:35,844 - ClawBackend - INFO - [market_data.py:475] - Unregistered background task for WBTCUSDT (1m)
2025-05-26 02:46:40,659 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 02:47:05,933 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTXU
2025-05-26 02:47:09,427 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 02:47:25,047 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:47:25,059 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:47:26,493 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:47:26,723 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-26 02:47:26,725 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for BTCUSDT (1m), fetching from Binance
2025-05-26 02:47:29,066 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:47:29,203 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:47:29,679 - ClawBackend - INFO - [market_data.py:369] - Initiating background task to get and save full historical data
2025-05-26 02:47:29,682 - ClawBackend - INFO - [market_data.py:379] - Returning 100 records from Binance for page 1
2025-05-26 02:47:29,716 - ClawBackend - INFO - [market_data.py:399] - Started background task to fetch full history for BTCUSDT (1m)
2025-05-26 02:47:29,735 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:47:30,351 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:47:30,352 - ClawBackend - INFO - [market_data.py:190] - Background task active for BTCUSDT (1m), checking if we can fetch from InfluxDB
2025-05-26 02:47:33,980 - ClawBackend - INFO - [market_data.py:204] - No recent data, fetching from Binance for BTCUSDT (1m)
2025-05-26 02:47:36,628 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 02:47:36,631 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 02:47:37,848 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-25 16:27:00+00:00 (1000 total records saved)
2025-05-26 02:47:38,381 - ClawBackend - INFO - [market_data.py:254] - Fetched 100 records from Binance for BTCUSDT (1m)
2025-05-26 02:47:39,114 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-26 09:07:00+00:00 (2000 total records saved)
2025-05-26 02:47:40,699 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-27 01:47:00+00:00 (3000 total records saved)
2025-05-26 02:47:43,018 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-27 18:27:00+00:00 (4000 total records saved)
2025-05-26 02:47:44,433 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-02-28 11:07:00+00:00 (5000 total records saved)
2025-05-26 02:47:45,685 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 03:47:00+00:00 (6000 total records saved)
2025-05-26 02:47:48,629 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-01 20:27:00+00:00 (7000 total records saved)
2025-05-26 02:47:49,868 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-02 13:07:00+00:00 (8000 total records saved)
2025-05-26 02:47:52,053 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 05:47:00+00:00 (9000 total records saved)
2025-05-26 02:47:53,458 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-03 22:27:00+00:00 (10000 total records saved)
2025-05-26 02:47:54,890 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-04 15:07:00+00:00 (11000 total records saved)
2025-05-26 02:47:56,443 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-05 07:47:00+00:00 (12000 total records saved)
2025-05-26 02:47:57,765 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-06 00:27:00+00:00 (13000 total records saved)
2025-05-26 02:47:59,036 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-06 17:07:00+00:00 (14000 total records saved)
2025-05-26 02:48:00,466 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-07 09:47:00+00:00 (15000 total records saved)
2025-05-26 02:48:01,723 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-08 02:27:00+00:00 (16000 total records saved)
2025-05-26 02:48:03,152 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-08 19:07:00+00:00 (17000 total records saved)
2025-05-26 02:48:04,436 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-09 11:47:00+00:00 (18000 total records saved)
2025-05-26 02:48:07,002 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-10 04:27:00+00:00 (19000 total records saved)
2025-05-26 02:48:08,859 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-10 21:07:00+00:00 (20000 total records saved)
2025-05-26 02:48:10,255 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-11 13:47:00+00:00 (21000 total records saved)
2025-05-26 02:48:11,618 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-12 06:27:00+00:00 (22000 total records saved)
2025-05-26 02:48:13,523 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-12 23:07:00+00:00 (23000 total records saved)
2025-05-26 02:48:17,325 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-13 15:47:00+00:00 (24000 total records saved)
2025-05-26 02:48:19,558 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-14 08:27:00+00:00 (25000 total records saved)
2025-05-26 02:48:21,561 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-15 01:07:00+00:00 (26000 total records saved)
2025-05-26 02:48:23,325 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-15 17:47:00+00:00 (27000 total records saved)
2025-05-26 02:48:24,755 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-16 10:27:00+00:00 (28000 total records saved)
2025-05-26 02:48:27,034 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-17 03:07:00+00:00 (29000 total records saved)
2025-05-26 02:48:28,265 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-17 19:47:00+00:00 (30000 total records saved)
2025-05-26 02:48:32,511 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-18 12:27:00+00:00 (31000 total records saved)
2025-05-26 02:48:34,805 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-19 05:07:00+00:00 (32000 total records saved)
2025-05-26 02:48:36,308 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-19 21:47:00+00:00 (33000 total records saved)
2025-05-26 02:48:37,746 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-20 14:27:00+00:00 (34000 total records saved)
2025-05-26 02:48:39,714 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-21 07:07:00+00:00 (35000 total records saved)
2025-05-26 02:48:41,344 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-21 23:47:00+00:00 (36000 total records saved)
2025-05-26 02:48:42,830 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-22 16:27:00+00:00 (37000 total records saved)
2025-05-26 02:48:44,261 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-23 09:07:00+00:00 (38000 total records saved)
2025-05-26 02:48:45,850 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-24 01:47:00+00:00 (39000 total records saved)
2025-05-26 02:48:47,294 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-24 18:27:00+00:00 (40000 total records saved)
2025-05-26 02:48:48,613 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-25 11:07:00+00:00 (41000 total records saved)
2025-05-26 02:48:50,065 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-26 03:47:00+00:00 (42000 total records saved)
2025-05-26 02:48:52,048 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-26 20:27:00+00:00 (43000 total records saved)
2025-05-26 02:48:54,236 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-27 13:07:00+00:00 (44000 total records saved)
2025-05-26 02:48:55,528 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-28 05:47:00+00:00 (45000 total records saved)
2025-05-26 02:48:57,041 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-28 22:27:00+00:00 (46000 total records saved)
2025-05-26 02:48:58,387 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-29 15:07:00+00:00 (47000 total records saved)
2025-05-26 02:48:59,812 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-30 07:47:00+00:00 (48000 total records saved)
2025-05-26 02:49:04,546 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-31 00:27:00+00:00 (49000 total records saved)
2025-05-26 02:49:06,104 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-03-31 17:07:00+00:00 (50000 total records saved)
2025-05-26 02:49:08,011 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-01 09:47:00+00:00 (51000 total records saved)
2025-05-26 02:49:09,344 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-02 02:27:00+00:00 (52000 total records saved)
2025-05-26 02:49:10,598 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-02 19:07:00+00:00 (53000 total records saved)
2025-05-26 02:49:11,991 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-03 11:47:00+00:00 (54000 total records saved)
2025-05-26 02:49:13,680 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-04 04:27:00+00:00 (55000 total records saved)
2025-05-26 02:49:15,867 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-04 21:07:00+00:00 (56000 total records saved)
2025-05-26 02:49:17,519 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-05 13:47:00+00:00 (57000 total records saved)
2025-05-26 02:49:19,068 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-06 06:27:00+00:00 (58000 total records saved)
2025-05-26 02:49:20,314 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-06 23:07:00+00:00 (59000 total records saved)
2025-05-26 02:49:21,839 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-07 15:47:00+00:00 (60000 total records saved)
2025-05-26 02:49:23,167 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-08 08:27:00+00:00 (61000 total records saved)
2025-05-26 02:49:25,332 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-09 01:07:00+00:00 (62000 total records saved)
2025-05-26 02:49:26,751 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-09 17:47:00+00:00 (63000 total records saved)
2025-05-26 02:49:28,196 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-10 10:27:00+00:00 (64000 total records saved)
2025-05-26 02:49:29,540 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-11 03:07:00+00:00 (65000 total records saved)
2025-05-26 02:49:30,873 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-11 19:47:00+00:00 (66000 total records saved)
2025-05-26 02:49:32,589 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-12 12:27:00+00:00 (67000 total records saved)
2025-05-26 02:49:33,842 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-13 05:07:00+00:00 (68000 total records saved)
2025-05-26 02:49:36,186 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-13 21:47:00+00:00 (69000 total records saved)
2025-05-26 02:49:41,707 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-14 14:27:00+00:00 (70000 total records saved)
2025-05-26 02:49:43,565 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-15 07:07:00+00:00 (71000 total records saved)
2025-05-26 02:49:46,503 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-15 23:47:00+00:00 (72000 total records saved)
2025-05-26 02:49:48,004 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-16 16:27:00+00:00 (73000 total records saved)
2025-05-26 02:49:49,273 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-17 09:07:00+00:00 (74000 total records saved)
2025-05-26 02:49:50,507 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-18 01:47:00+00:00 (75000 total records saved)
2025-05-26 02:49:52,097 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-18 18:27:00+00:00 (76000 total records saved)
2025-05-26 02:49:53,860 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-19 11:07:00+00:00 (77000 total records saved)
2025-05-26 02:49:55,520 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-20 03:47:00+00:00 (78000 total records saved)
2025-05-26 02:49:57,176 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-20 20:27:00+00:00 (79000 total records saved)
2025-05-26 02:49:57,839 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 02:49:57,841 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 02:49:59,403 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-21 13:07:00+00:00 (80000 total records saved)
2025-05-26 02:49:59,795 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 02:49:59,798 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 02:50:01,144 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-22 05:47:00+00:00 (81000 total records saved)
2025-05-26 02:50:01,639 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 02:50:01,640 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 02:50:02,597 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-22 22:27:00+00:00 (82000 total records saved)
2025-05-26 02:50:04,017 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-23 15:07:00+00:00 (83000 total records saved)
2025-05-26 02:50:05,674 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-24 07:47:00+00:00 (84000 total records saved)
2025-05-26 02:50:07,095 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-25 00:27:00+00:00 (85000 total records saved)
2025-05-26 02:50:08,752 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-25 17:07:00+00:00 (86000 total records saved)
2025-05-26 02:50:10,305 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-26 09:47:00+00:00 (87000 total records saved)
2025-05-26 02:50:11,715 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-27 02:27:00+00:00 (88000 total records saved)
2025-05-26 02:50:13,179 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-27 19:07:00+00:00 (89000 total records saved)
2025-05-26 02:50:14,558 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-28 11:47:00+00:00 (90000 total records saved)
2025-05-26 02:50:17,115 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-29 04:27:00+00:00 (91000 total records saved)
2025-05-26 02:50:18,483 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-29 21:07:00+00:00 (92000 total records saved)
2025-05-26 02:50:19,887 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-04-30 13:47:00+00:00 (93000 total records saved)
2025-05-26 02:50:21,543 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-01 06:27:00+00:00 (94000 total records saved)
2025-05-26 02:50:22,876 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-01 23:07:00+00:00 (95000 total records saved)
2025-05-26 02:50:24,408 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-02 15:47:00+00:00 (96000 total records saved)
2025-05-26 02:50:26,047 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-03 08:27:00+00:00 (97000 total records saved)
2025-05-26 02:50:27,450 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-04 01:07:00+00:00 (98000 total records saved)
2025-05-26 02:50:28,724 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-04 17:47:00+00:00 (99000 total records saved)
2025-05-26 02:50:30,133 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-05 10:27:00+00:00 (100000 total records saved)
2025-05-26 02:50:31,697 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-06 03:07:00+00:00 (101000 total records saved)
2025-05-26 02:50:33,217 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-06 19:47:00+00:00 (102000 total records saved)
2025-05-26 02:50:34,681 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-07 12:27:00+00:00 (103000 total records saved)
2025-05-26 02:50:36,288 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-08 05:07:00+00:00 (104000 total records saved)
2025-05-26 02:50:36,736 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 02:50:37,535 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-08 21:47:00+00:00 (105000 total records saved)
2025-05-26 02:50:38,978 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-09 14:27:00+00:00 (106000 total records saved)
2025-05-26 02:50:40,379 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-10 07:07:00+00:00 (107000 total records saved)
2025-05-26 02:50:42,620 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-10 23:47:00+00:00 (108000 total records saved)
2025-05-26 02:50:44,372 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-11 16:27:00+00:00 (109000 total records saved)
2025-05-26 02:50:45,799 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-12 09:07:00+00:00 (110000 total records saved)
2025-05-26 02:50:47,033 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-13 01:47:00+00:00 (111000 total records saved)
2025-05-26 02:50:48,570 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-13 18:27:00+00:00 (112000 total records saved)
2025-05-26 02:50:49,997 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-14 11:07:00+00:00 (113000 total records saved)
2025-05-26 02:50:51,428 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-15 03:47:00+00:00 (114000 total records saved)
2025-05-26 02:50:54,714 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-15 20:27:00+00:00 (115000 total records saved)
2025-05-26 02:50:56,183 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-16 13:07:00+00:00 (116000 total records saved)
2025-05-26 02:50:57,760 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-17 05:47:00+00:00 (117000 total records saved)
2025-05-26 02:50:59,286 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-17 22:27:00+00:00 (118000 total records saved)
2025-05-26 02:51:00,878 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-18 15:07:00+00:00 (119000 total records saved)
2025-05-26 02:51:02,227 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-19 07:47:00+00:00 (120000 total records saved)
2025-05-26 02:51:03,513 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-20 00:27:00+00:00 (121000 total records saved)
2025-05-26 02:51:03,519 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BT
2025-05-26 02:51:05,397 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-20 17:07:00+00:00 (122000 total records saved)
2025-05-26 02:51:06,628 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-21 09:47:00+00:00 (123000 total records saved)
2025-05-26 02:51:06,898 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 02:51:08,196 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 02:51:10,178 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-22 02:27:00+00:00 (124000 total records saved)
2025-05-26 02:51:11,610 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-22 19:07:00+00:00 (125000 total records saved)
2025-05-26 02:51:12,936 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-23 11:47:00+00:00 (126000 total records saved)
2025-05-26 02:51:14,178 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-24 04:27:00+00:00 (127000 total records saved)
2025-05-26 02:51:15,389 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-24 21:07:00+00:00 (128000 total records saved)
2025-05-26 02:51:16,861 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 1000 records. Progress: 2025-05-25 13:47:00+00:00 (129000 total records saved)
2025-05-26 02:51:18,252 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 600 records. Progress: 2025-05-25 23:47:00+00:00 (129600 total records saved)
2025-05-26 02:51:19,461 - ClawBackend - INFO - [market_data.py:421] - No more data available from Binance for BTCUSDT (1m)
2025-05-26 02:51:19,511 - ClawBackend - INFO - [market_data.py:475] - Unregistered background task for BTCUSDT (1m)
2025-05-26 02:53:05,772 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 02:53:20,131 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSD
2025-05-26 02:53:21,320 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 02:55:24,113 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 02:55:40,194 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSD
2025-05-26 02:55:41,614 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 02:55:58,368 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:55:58,655 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:56:00,896 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:56:01,494 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 100 records
2025-05-26 02:56:01,496 - ClawBackend - INFO - [market_data.py:271] - Stale data detected for BTCUSDT (1m), fetching missing data
2025-05-26 02:56:01,523 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:56:01,527 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:56:02,048 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:56:02,171 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 100 records
2025-05-26 02:56:02,172 - ClawBackend - INFO - [market_data.py:271] - Stale data detected for BTCUSDT (1m), fetching missing data
2025-05-26 02:56:05,825 - ClawBackend - INFO - [market_data.py:311] - Added background task to save 380 missing candles
2025-05-26 02:56:05,891 - ClawBackend - INFO - [market_data.py:76] - Registered background task for BTCUSDT (1m)
2025-05-26 02:56:05,893 - ClawBackend - INFO - [market_data.py:100] - Starting background task to save 380 1m records for BTCUSDT in batches of 500
2025-05-26 02:56:09,756 - ClawBackend - INFO - [market_data.py:118] - Saved batch 1/1 for BTCUSDT (1m)
2025-05-26 02:56:09,776 - ClawBackend - INFO - [market_data.py:152] - Unregistered background task for BTCUSDT (1m)
2025-05-26 02:56:09,811 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 02:56:09,812 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 02:56:09,813 - ClawBackend - INFO - [market_data.py:311] - Added background task to save 380 missing candles
2025-05-26 02:56:09,857 - ClawBackend - INFO - [market_data.py:76] - Registered background task for BTCUSDT (1m)
2025-05-26 02:56:09,858 - ClawBackend - INFO - [market_data.py:100] - Starting background task to save 380 1m records for BTCUSDT in batches of 500
2025-05-26 02:56:10,009 - ClawBackend - INFO - [market_data.py:118] - Saved batch 1/1 for BTCUSDT (1m)
2025-05-26 02:56:10,034 - ClawBackend - INFO - [market_data.py:152] - Unregistered background task for BTCUSDT (1m)
2025-05-26 02:56:59,746 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:57:00,631 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 36 records
2025-05-26 02:57:00,686 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1M)
2025-05-26 02:57:13,276 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:57:14,593 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 48 records
2025-05-26 02:57:14,596 - ClawBackend - INFO - [market_data.py:271] - Stale data detected for BTCUSDT (1w), fetching missing data
2025-05-26 02:57:14,607 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1w)
2025-05-26 02:57:18,480 - ClawBackend - INFO - [market_data.py:311] - Added background task to save 4 missing candles
2025-05-26 02:57:18,510 - ClawBackend - INFO - [market_data.py:76] - Registered background task for BTCUSDT (1w)
2025-05-26 02:57:18,513 - ClawBackend - INFO - [market_data.py:100] - Starting background task to save 4 1w records for BTCUSDT in batches of 100
2025-05-26 02:57:18,933 - ClawBackend - INFO - [market_data.py:118] - Saved batch 1/1 for BTCUSDT (1w)
2025-05-26 02:57:18,962 - ClawBackend - INFO - [market_data.py:152] - Unregistered background task for BTCUSDT (1w)
2025-05-26 02:57:30,561 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 02:57:30,564 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 02:57:31,609 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:57:31,964 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:57:33,233 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:57:33,341 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 100 records
2025-05-26 02:57:33,344 - ClawBackend - INFO - [market_data.py:271] - Stale data detected for BTCUSDT (1m), fetching missing data
2025-05-26 02:57:37,336 - ClawBackend - INFO - [market_data.py:311] - Added background task to save 380 missing candles
2025-05-26 02:57:37,402 - ClawBackend - INFO - [market_data.py:76] - Registered background task for BTCUSDT (1m)
2025-05-26 02:57:37,403 - ClawBackend - INFO - [market_data.py:100] - Starting background task to save 380 1m records for BTCUSDT in batches of 500
2025-05-26 02:57:37,547 - ClawBackend - INFO - [market_data.py:118] - Saved batch 1/1 for BTCUSDT (1m)
2025-05-26 02:57:37,568 - ClawBackend - INFO - [market_data.py:152] - Unregistered background task for BTCUSDT (1m)
2025-05-26 02:57:50,875 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:57:51,639 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 02:57:51,772 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 100 records
2025-05-26 02:57:51,774 - ClawBackend - INFO - [market_data.py:271] - Stale data detected for BTCUSDT (1m), fetching missing data
2025-05-26 02:57:51,974 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 02:57:55,567 - ClawBackend - INFO - [market_data.py:311] - Added background task to save 380 missing candles
2025-05-26 02:57:55,622 - ClawBackend - INFO - [market_data.py:76] - Registered background task for BTCUSDT (1m)
2025-05-26 02:57:55,624 - ClawBackend - INFO - [market_data.py:100] - Starting background task to save 380 1m records for BTCUSDT in batches of 500
2025-05-26 02:57:55,783 - ClawBackend - INFO - [market_data.py:118] - Saved batch 1/1 for BTCUSDT (1m)
2025-05-26 02:57:55,807 - ClawBackend - INFO - [market_data.py:152] - Unregistered background task for BTCUSDT (1m)
2025-05-26 02:57:58,924 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 02:57:58,927 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 02:57:58,928 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 02:57:58,929 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 02:58:36,933 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: USDT
2025-05-26 02:58:39,789 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: ETHUSDT
2025-05-26 03:01:01,254 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 03:01:01,373 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 03:01:01,404 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 03:01:01,405 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 03:01:01,572 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 03:01:01,573 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 03:01:03,042 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 03:01:03,043 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 03:01:03,351 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 03:01:03,353 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 03:01:04,045 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 03:01:04,047 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 03:01:32,198 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 03:01:47,603 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: SOL
2025-05-26 03:01:49,247 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: SOLUSDT
2025-05-26 03:04:29,952 - ClawBackend - INFO - [app.py:44] - Shutting down application...
2025-05-26 03:05:19,658 - ClawBackend - INFO - [app.py:29] - Starting application...
2025-05-26 03:05:45,306 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BNSOLUSDT (1m)
2025-05-26 03:05:48,172 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BNSOLUSDT (1m)
2025-05-26 03:05:48,472 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 03:05:48,790 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 0 records
2025-05-26 03:05:48,791 - ClawBackend - INFO - [market_data.py:322] - No data found in InfluxDB for BNSOLUSDT (1m), fetching from Binance
2025-05-26 03:05:51,620 - ClawBackend - INFO - [market_data.py:369] - Initiating background task to get and save full historical data
2025-05-26 03:05:51,622 - ClawBackend - INFO - [market_data.py:379] - Returning 69 records from Binance for page 1
2025-05-26 03:05:51,661 - ClawBackend - INFO - [market_data.py:399] - Started background task to fetch full history for BNSOLUSDT (1m)
2025-05-26 03:05:51,674 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 03:05:55,983 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 989 records. Progress: 2025-02-25 16:45:00+00:00 (989 total records saved)
2025-05-26 03:05:57,257 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 888 records. Progress: 2025-02-26 09:25:00+00:00 (1877 total records saved)
2025-05-26 03:05:58,796 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 923 records. Progress: 2025-02-27 02:05:00+00:00 (2800 total records saved)
2025-05-26 03:06:00,006 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 899 records. Progress: 2025-02-27 18:45:00+00:00 (3699 total records saved)
2025-05-26 03:06:01,561 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 947 records. Progress: 2025-02-28 11:25:00+00:00 (4646 total records saved)
2025-05-26 03:06:01,683 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BNSOLUSDT
2025-05-26 03:06:01,687 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BNSOLUSDT
2025-05-26 03:06:02,995 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 958 records. Progress: 2025-03-01 04:05:00+00:00 (5604 total records saved)
2025-05-26 03:06:07,295 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 869 records. Progress: 2025-03-01 20:45:00+00:00 (6473 total records saved)
2025-05-26 03:06:09,312 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 781 records. Progress: 2025-03-02 13:25:00+00:00 (7254 total records saved)
2025-05-26 03:06:10,543 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 987 records. Progress: 2025-03-03 06:05:00+00:00 (8241 total records saved)
2025-05-26 03:06:12,270 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 986 records. Progress: 2025-03-03 22:45:00+00:00 (9227 total records saved)
2025-05-26 03:06:13,489 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 957 records. Progress: 2025-03-04 15:25:00+00:00 (10184 total records saved)
2025-05-26 03:06:14,769 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 848 records. Progress: 2025-03-05 08:05:00+00:00 (11032 total records saved)
2025-05-26 03:06:16,002 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 830 records. Progress: 2025-03-06 00:44:00+00:00 (11862 total records saved)
2025-05-26 03:06:17,506 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 770 records. Progress: 2025-03-06 17:23:00+00:00 (12632 total records saved)
2025-05-26 03:06:18,729 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 819 records. Progress: 2025-03-07 10:03:00+00:00 (13451 total records saved)
2025-05-26 03:06:20,373 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 869 records. Progress: 2025-03-08 02:43:00+00:00 (14320 total records saved)
2025-05-26 03:06:23,745 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 750 records. Progress: 2025-03-08 19:22:00+00:00 (15070 total records saved)
2025-05-26 03:06:24,991 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 811 records. Progress: 2025-03-09 12:02:00+00:00 (15881 total records saved)
2025-05-26 03:06:26,218 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 911 records. Progress: 2025-03-10 04:41:00+00:00 (16792 total records saved)
2025-05-26 03:06:27,451 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 922 records. Progress: 2025-03-10 21:21:00+00:00 (17714 total records saved)
2025-05-26 03:06:28,649 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 896 records. Progress: 2025-03-11 14:01:00+00:00 (18610 total records saved)
2025-05-26 03:06:29,874 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 842 records. Progress: 2025-03-12 06:41:00+00:00 (19452 total records saved)
2025-05-26 03:06:31,098 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 849 records. Progress: 2025-03-12 23:21:00+00:00 (20301 total records saved)
2025-05-26 03:06:33,537 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 814 records. Progress: 2025-03-13 16:00:00+00:00 (21115 total records saved)
2025-05-26 03:06:34,882 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 772 records. Progress: 2025-03-14 08:40:00+00:00 (21887 total records saved)
2025-05-26 03:06:36,140 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 864 records. Progress: 2025-03-15 01:20:00+00:00 (22751 total records saved)
2025-05-26 03:06:37,586 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 806 records. Progress: 2025-03-15 18:00:00+00:00 (23557 total records saved)
2025-05-26 03:06:38,807 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 732 records. Progress: 2025-03-16 10:38:00+00:00 (24289 total records saved)
2025-05-26 03:06:40,136 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 785 records. Progress: 2025-03-17 03:18:00+00:00 (25074 total records saved)
2025-05-26 03:06:41,476 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 790 records. Progress: 2025-03-17 19:58:00+00:00 (25864 total records saved)
2025-05-26 03:06:42,676 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 764 records. Progress: 2025-03-18 12:38:00+00:00 (26628 total records saved)
2025-05-26 03:06:44,138 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 768 records. Progress: 2025-03-19 05:17:00+00:00 (27396 total records saved)
2025-05-26 03:06:45,928 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 826 records. Progress: 2025-03-19 21:56:00+00:00 (28222 total records saved)
2025-05-26 03:06:47,207 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 771 records. Progress: 2025-03-20 14:36:00+00:00 (28993 total records saved)
2025-05-26 03:06:49,064 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 758 records. Progress: 2025-03-21 07:16:00+00:00 (29751 total records saved)
2025-05-26 03:06:50,606 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 863 records. Progress: 2025-03-21 23:56:00+00:00 (30614 total records saved)
2025-05-26 03:06:51,824 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 796 records. Progress: 2025-03-22 16:36:00+00:00 (31410 total records saved)
2025-05-26 03:06:53,338 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 648 records. Progress: 2025-03-23 09:16:00+00:00 (32058 total records saved)
2025-05-26 03:06:54,672 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 725 records. Progress: 2025-03-24 01:56:00+00:00 (32783 total records saved)
2025-05-26 03:06:56,026 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 956 records. Progress: 2025-03-24 18:36:00+00:00 (33739 total records saved)
2025-05-26 03:06:57,438 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 779 records. Progress: 2025-03-25 11:16:00+00:00 (34518 total records saved)
2025-05-26 03:06:58,688 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 764 records. Progress: 2025-03-26 03:56:00+00:00 (35282 total records saved)
2025-05-26 03:07:00,357 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 823 records. Progress: 2025-03-26 20:36:00+00:00 (36105 total records saved)
2025-05-26 03:07:01,639 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 722 records. Progress: 2025-03-27 13:16:00+00:00 (36827 total records saved)
2025-05-26 03:07:02,988 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 800 records. Progress: 2025-03-28 05:56:00+00:00 (37627 total records saved)
2025-05-26 03:07:05,033 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 849 records. Progress: 2025-03-28 22:35:00+00:00 (38476 total records saved)
2025-05-26 03:07:06,603 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 761 records. Progress: 2025-03-29 15:15:00+00:00 (39237 total records saved)
2025-05-26 03:07:07,840 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 693 records. Progress: 2025-03-30 07:55:00+00:00 (39930 total records saved)
2025-05-26 03:07:09,552 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 789 records. Progress: 2025-03-31 00:35:00+00:00 (40719 total records saved)
2025-05-26 03:07:11,182 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 770 records. Progress: 2025-03-31 17:15:00+00:00 (41489 total records saved)
2025-05-26 03:07:12,471 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 704 records. Progress: 2025-04-01 09:55:00+00:00 (42193 total records saved)
2025-05-26 03:07:13,723 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 765 records. Progress: 2025-04-02 02:35:00+00:00 (42958 total records saved)
2025-05-26 03:07:15,269 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 792 records. Progress: 2025-04-02 19:15:00+00:00 (43750 total records saved)
2025-05-26 03:07:16,706 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 889 records. Progress: 2025-04-03 11:55:00+00:00 (44639 total records saved)
2025-05-26 03:07:18,294 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 722 records. Progress: 2025-04-04 04:35:00+00:00 (45361 total records saved)
2025-05-26 03:07:19,556 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 791 records. Progress: 2025-04-04 21:15:00+00:00 (46152 total records saved)
2025-05-26 03:07:20,754 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 673 records. Progress: 2025-04-05 13:54:00+00:00 (46825 total records saved)
2025-05-26 03:07:22,517 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 606 records. Progress: 2025-04-06 06:33:00+00:00 (47431 total records saved)
2025-05-26 03:07:23,848 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 816 records. Progress: 2025-04-06 23:12:00+00:00 (48247 total records saved)
2025-05-26 03:07:25,106 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 927 records. Progress: 2025-04-07 15:52:00+00:00 (49174 total records saved)
2025-05-26 03:07:26,631 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 751 records. Progress: 2025-04-08 08:32:00+00:00 (49925 total records saved)
2025-05-26 03:07:27,920 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 770 records. Progress: 2025-04-09 01:12:00+00:00 (50695 total records saved)
2025-05-26 03:07:29,262 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 824 records. Progress: 2025-04-09 17:52:00+00:00 (51519 total records saved)
2025-05-26 03:07:31,103 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 835 records. Progress: 2025-04-10 10:32:00+00:00 (52354 total records saved)
2025-05-26 03:07:32,355 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 743 records. Progress: 2025-04-11 03:11:00+00:00 (53097 total records saved)
2025-05-26 03:07:34,010 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 882 records. Progress: 2025-04-11 19:51:00+00:00 (53979 total records saved)
2025-05-26 03:07:35,313 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 884 records. Progress: 2025-04-12 12:31:00+00:00 (54863 total records saved)
2025-05-26 03:07:36,525 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 828 records. Progress: 2025-04-13 05:11:00+00:00 (55691 total records saved)
2025-05-26 03:07:37,924 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 770 records. Progress: 2025-04-13 21:50:00+00:00 (56461 total records saved)
2025-05-26 03:07:39,879 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 691 records. Progress: 2025-04-14 14:30:00+00:00 (57152 total records saved)
2025-05-26 03:07:41,603 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 665 records. Progress: 2025-04-15 07:10:00+00:00 (57817 total records saved)
2025-05-26 03:07:43,146 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 694 records. Progress: 2025-04-15 23:48:00+00:00 (58511 total records saved)
2025-05-26 03:07:44,644 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 686 records. Progress: 2025-04-16 16:28:00+00:00 (59197 total records saved)
2025-05-26 03:07:45,958 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 807 records. Progress: 2025-04-17 09:07:00+00:00 (60004 total records saved)
2025-05-26 03:07:47,562 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 792 records. Progress: 2025-04-18 01:42:00+00:00 (60796 total records saved)
2025-05-26 03:07:50,002 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 794 records. Progress: 2025-04-18 18:22:00+00:00 (61590 total records saved)
2025-05-26 03:07:52,490 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 782 records. Progress: 2025-04-19 11:02:00+00:00 (62372 total records saved)
2025-05-26 03:07:53,951 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 734 records. Progress: 2025-04-20 03:42:00+00:00 (63106 total records saved)
2025-05-26 03:07:55,600 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 822 records. Progress: 2025-04-20 20:22:00+00:00 (63928 total records saved)
2025-05-26 03:07:57,577 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 757 records. Progress: 2025-04-21 13:02:00+00:00 (64685 total records saved)
2025-05-26 03:07:59,077 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 835 records. Progress: 2025-04-22 05:41:00+00:00 (65520 total records saved)
2025-05-26 03:08:00,803 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 861 records. Progress: 2025-04-22 22:21:00+00:00 (66381 total records saved)
2025-05-26 03:08:10,088 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 897 records. Progress: 2025-04-23 15:01:00+00:00 (67278 total records saved)
2025-05-26 03:08:11,561 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 799 records. Progress: 2025-04-24 07:41:00+00:00 (68077 total records saved)
2025-05-26 03:08:13,184 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 814 records. Progress: 2025-04-25 00:21:00+00:00 (68891 total records saved)
2025-05-26 03:08:14,370 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 832 records. Progress: 2025-04-25 17:00:00+00:00 (69723 total records saved)
2025-05-26 03:08:17,355 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 702 records. Progress: 2025-04-26 09:40:00+00:00 (70425 total records saved)
2025-05-26 03:08:18,806 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 750 records. Progress: 2025-04-27 02:20:00+00:00 (71175 total records saved)
2025-05-26 03:08:19,973 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 719 records. Progress: 2025-04-27 19:00:00+00:00 (71894 total records saved)
2025-05-26 03:08:20,014 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BNSOLUSDT
2025-05-26 03:08:20,016 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BNSOLUSDT
2025-05-26 03:08:21,414 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 790 records. Progress: 2025-04-28 11:40:00+00:00 (72684 total records saved)
2025-05-26 03:08:22,771 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 780 records. Progress: 2025-04-29 04:17:00+00:00 (73464 total records saved)
2025-05-26 03:08:24,410 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 740 records. Progress: 2025-04-29 20:57:00+00:00 (74204 total records saved)
2025-05-26 03:08:25,819 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 831 records. Progress: 2025-04-30 13:37:00+00:00 (75035 total records saved)
2025-05-26 03:08:27,189 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 827 records. Progress: 2025-05-01 06:17:00+00:00 (75862 total records saved)
2025-05-26 03:08:28,791 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 832 records. Progress: 2025-05-01 22:57:00+00:00 (76694 total records saved)
2025-05-26 03:08:30,439 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 836 records. Progress: 2025-05-02 15:37:00+00:00 (77530 total records saved)
2025-05-26 03:08:31,796 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 654 records. Progress: 2025-05-03 08:17:00+00:00 (78184 total records saved)
2025-05-26 03:08:33,387 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 783 records. Progress: 2025-05-04 00:57:00+00:00 (78967 total records saved)
2025-05-26 03:08:34,655 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 843 records. Progress: 2025-05-04 17:37:00+00:00 (79810 total records saved)
2025-05-26 03:08:36,251 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 817 records. Progress: 2025-05-05 10:17:00+00:00 (80627 total records saved)
2025-05-26 03:08:37,807 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 861 records. Progress: 2025-05-06 02:57:00+00:00 (81488 total records saved)
2025-05-26 03:08:39,187 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 829 records. Progress: 2025-05-06 19:37:00+00:00 (82317 total records saved)
2025-05-26 03:08:40,375 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 711 records. Progress: 2025-05-07 12:17:00+00:00 (83028 total records saved)
2025-05-26 03:08:42,007 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 820 records. Progress: 2025-05-08 04:57:00+00:00 (83848 total records saved)
2025-05-26 03:08:43,548 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 893 records. Progress: 2025-05-08 21:37:00+00:00 (84741 total records saved)
2025-05-26 03:08:45,004 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 916 records. Progress: 2025-05-09 14:17:00+00:00 (85657 total records saved)
2025-05-26 03:08:46,513 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 859 records. Progress: 2025-05-10 06:57:00+00:00 (86516 total records saved)
2025-05-26 03:08:47,826 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 817 records. Progress: 2025-05-10 23:37:00+00:00 (87333 total records saved)
2025-05-26 03:08:49,265 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 785 records. Progress: 2025-05-11 16:17:00+00:00 (88118 total records saved)
2025-05-26 03:08:51,020 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 727 records. Progress: 2025-05-12 08:57:00+00:00 (88845 total records saved)
2025-05-26 03:08:51,913 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 03:08:54,195 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 820 records. Progress: 2025-05-13 01:37:00+00:00 (89665 total records saved)
2025-05-26 03:08:56,025 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 821 records. Progress: 2025-05-13 18:17:00+00:00 (90486 total records saved)
2025-05-26 03:08:57,390 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 823 records. Progress: 2025-05-14 10:57:00+00:00 (91309 total records saved)
2025-05-26 03:08:58,687 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 721 records. Progress: 2025-05-15 03:37:00+00:00 (92030 total records saved)
2025-05-26 03:09:00,178 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 842 records. Progress: 2025-05-15 20:17:00+00:00 (92872 total records saved)
2025-05-26 03:09:01,836 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 765 records. Progress: 2025-05-16 12:57:00+00:00 (93637 total records saved)
2025-05-26 03:09:03,294 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 766 records. Progress: 2025-05-17 05:37:00+00:00 (94403 total records saved)
2025-05-26 03:09:04,628 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 771 records. Progress: 2025-05-17 22:17:00+00:00 (95174 total records saved)
2025-05-26 03:09:06,473 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 746 records. Progress: 2025-05-18 14:57:00+00:00 (95920 total records saved)
2025-05-26 03:09:07,729 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 877 records. Progress: 2025-05-19 07:37:00+00:00 (96797 total records saved)
2025-05-26 03:09:08,966 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 821 records. Progress: 2025-05-20 00:17:00+00:00 (97618 total records saved)
2025-05-26 03:09:10,223 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 831 records. Progress: 2025-05-20 16:57:00+00:00 (98449 total records saved)
2025-05-26 03:09:11,498 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 801 records. Progress: 2025-05-21 09:37:00+00:00 (99250 total records saved)
2025-05-26 03:09:12,780 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 803 records. Progress: 2025-05-22 02:17:00+00:00 (100053 total records saved)
2025-05-26 03:09:14,371 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 854 records. Progress: 2025-05-22 18:57:00+00:00 (100907 total records saved)
2025-05-26 03:09:15,768 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 794 records. Progress: 2025-05-23 11:35:00+00:00 (101701 total records saved)
2025-05-26 03:09:18,235 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 797 records. Progress: 2025-05-24 04:15:00+00:00 (102498 total records saved)
2025-05-26 03:09:19,511 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 673 records. Progress: 2025-05-24 20:55:00+00:00 (103171 total records saved)
2025-05-26 03:09:20,653 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 689 records. Progress: 2025-05-25 13:35:00+00:00 (103860 total records saved)
2025-05-26 03:09:22,288 - ClawBackend - INFO - [market_data.py:449] - Saved batch of 437 records. Progress: 2025-05-26 00:05:00+00:00 (104297 total records saved)
2025-05-26 03:09:23,526 - ClawBackend - INFO - [market_data.py:421] - No more data available from Binance for BNSOLUSDT (1m)
2025-05-26 03:09:23,849 - ClawBackend - INFO - [market_data.py:475] - Unregistered background task for BNSOLUSDT (1m)
2025-05-26 03:09:32,494 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTC
2025-05-26 03:09:34,720 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 03:12:16,598 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 03:13:26,294 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 03:15:37,350 - ClawBackend - INFO - [paid_plans.py:713] - Processing webhook event: balance.available
2025-05-26 03:15:38,411 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BNB
2025-05-26 03:15:51,968 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTC
2025-05-26 03:15:54,851 - ClawBackend - INFO - [market_data.py:187] - Searching cryptos with query: BTCUSDT
2025-05-26 03:16:22,081 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 03:16:22,154 - ClawBackend - INFO - [market_data.py:239] - New WebSocket connection for BTCUSDT (1m)
2025-05-26 03:16:23,918 - ClawBackend - INFO - [market_data_repository.py:39] - Successfully connected to InfluxDB
2025-05-26 03:16:24,369 - ClawBackend - INFO - [market_data_repository.py:191] - Data retrieved from INFLUXDB - Page 1, 100 records
2025-05-26 03:16:24,370 - ClawBackend - INFO - [market_data.py:271] - Stale data detected for BTCUSDT (1m), fetching missing data
2025-05-26 03:16:28,661 - ClawBackend - INFO - [market_data.py:311] - Added background task to save 380 missing candles
2025-05-26 03:16:28,681 - ClawBackend - INFO - [market_data.py:76] - Registered background task for BTCUSDT (1m)
2025-05-26 03:16:28,682 - ClawBackend - INFO - [market_data.py:100] - Starting background task to save 380 1m records for BTCUSDT in batches of 500
2025-05-26 03:16:29,005 - ClawBackend - INFO - [market_data.py:118] - Saved batch 1/1 for BTCUSDT (1m)
2025-05-26 03:16:29,011 - ClawBackend - INFO - [market_data.py:152] - Unregistered background task for BTCUSDT (1m)
2025-05-26 03:16:31,648 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 03:16:31,648 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 03:16:44,195 - ClawBackend - INFO - [market_data.py:336] - Client disconnected for BTCUSDT
2025-05-26 03:16:44,196 - ClawBackend - INFO - [market_data.py:341] - Closing connection for BTCUSDT
2025-05-26 03:20:39,455 - ClawBackend - INFO - [app.py:44] - Shutting down application...
